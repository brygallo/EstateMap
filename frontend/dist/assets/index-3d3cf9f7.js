var Zx=Object.defineProperty;var Wx=(e,t,n)=>t in e?Zx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Kx=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ze=(e,t,n)=>(Wx(e,typeof t!="symbol"?t+"":t,n),n);var cP=Kx((Qn,er)=>{function qx(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var E_={exports:{}},ah={},M_={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),Yx=Symbol.for("react.portal"),Xx=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),Qx=Symbol.for("react.profiler"),e4=Symbol.for("react.provider"),t4=Symbol.for("react.context"),n4=Symbol.for("react.forward_ref"),r4=Symbol.for("react.suspense"),i4=Symbol.for("react.memo"),o4=Symbol.for("react.lazy"),pm=Symbol.iterator;function a4(e){return e===null||typeof e!="object"?null:(e=pm&&e[pm]||e["@@iterator"],typeof e=="function"?e:null)}var S_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P_=Object.assign,T_={};function _s(e,t,n){this.props=e,this.context=t,this.refs=T_,this.updater=n||S_}_s.prototype.isReactComponent={};_s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B_(){}B_.prototype=_s.prototype;function zp(e,t,n){this.props=e,this.context=t,this.refs=T_,this.updater=n||S_}var Up=zp.prototype=new B_;Up.constructor=zp;P_(Up,_s.prototype);Up.isPureReactComponent=!0;var mm=Array.isArray,A_=Object.prototype.hasOwnProperty,$p={current:null},j_={key:!0,ref:!0,__self:!0,__source:!0};function D_(e,t,n){var o,l={},c=null,f=null;if(t!=null)for(o in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(c=""+t.key),t)A_.call(t,o)&&!j_.hasOwnProperty(o)&&(l[o]=t[o]);var v=arguments.length-2;if(v===1)l.children=n;else if(1<v){for(var m=Array(v),w=0;w<v;w++)m[w]=arguments[w+2];l.children=m}if(e&&e.defaultProps)for(o in v=e.defaultProps,v)l[o]===void 0&&(l[o]=v[o]);return{$$typeof:Ql,type:e,key:c,ref:f,props:l,_owner:$p.current}}function s4(e,t){return{$$typeof:Ql,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ql}function l4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gm=/\/+/g;function Ud(e,t){return typeof e=="object"&&e!==null&&e.key!=null?l4(""+e.key):t.toString(36)}function mc(e,t,n,o,l){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(c){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Ql:case Yx:f=!0}}if(f)return f=e,l=l(f),e=o===""?"."+Ud(f,0):o,mm(l)?(n="",e!=null&&(n=e.replace(gm,"$&/")+"/"),mc(l,t,n,"",function(w){return w})):l!=null&&(Vp(l)&&(l=s4(l,n+(!l.key||f&&f.key===l.key?"":(""+l.key).replace(gm,"$&/")+"/")+e)),t.push(l)),1;if(f=0,o=o===""?".":o+":",mm(e))for(var v=0;v<e.length;v++){c=e[v];var m=o+Ud(c,v);f+=mc(c,t,n,m,l)}else if(m=a4(e),typeof m=="function")for(e=m.call(e),v=0;!(c=e.next()).done;)c=c.value,m=o+Ud(c,v++),f+=mc(c,t,n,m,l);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function Yu(e,t,n){if(e==null)return e;var o=[],l=0;return mc(e,o,"","",function(c){return t.call(n,c,l++)}),o}function u4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},gc={transition:null},c4={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:gc,ReactCurrentOwner:$p};function O_(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Yu,forEach:function(e,t,n){Yu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yu(e,function(){t++}),t},toArray:function(e){return Yu(e,function(t){return t})||[]},only:function(e){if(!Vp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=_s;it.Fragment=Xx;it.Profiler=Qx;it.PureComponent=zp;it.StrictMode=Jx;it.Suspense=r4;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c4;it.act=O_;it.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=P_({},e.props),l=e.key,c=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,f=$p.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(m in t)A_.call(t,m)&&!j_.hasOwnProperty(m)&&(o[m]=t[m]===void 0&&v!==void 0?v[m]:t[m])}var m=arguments.length-2;if(m===1)o.children=n;else if(1<m){v=Array(m);for(var w=0;w<m;w++)v[w]=arguments[w+2];o.children=v}return{$$typeof:Ql,type:e.type,key:l,ref:c,props:o,_owner:f}};it.createContext=function(e){return e={$$typeof:t4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:e4,_context:e},e.Consumer=e};it.createElement=D_;it.createFactory=function(e){var t=D_.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:n4,render:e}};it.isValidElement=Vp;it.lazy=function(e){return{$$typeof:o4,_payload:{_status:-1,_result:e},_init:u4}};it.memo=function(e,t){return{$$typeof:i4,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=gc.transition;gc.transition={};try{e()}finally{gc.transition=t}};it.unstable_act=O_;it.useCallback=function(e,t){return On.current.useCallback(e,t)};it.useContext=function(e){return On.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return On.current.useDeferredValue(e)};it.useEffect=function(e,t){return On.current.useEffect(e,t)};it.useId=function(){return On.current.useId()};it.useImperativeHandle=function(e,t,n){return On.current.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return On.current.useMemo(e,t)};it.useReducer=function(e,t,n){return On.current.useReducer(e,t,n)};it.useRef=function(e){return On.current.useRef(e)};it.useState=function(e){return On.current.useState(e)};it.useSyncExternalStore=function(e,t,n){return On.current.useSyncExternalStore(e,t,n)};it.useTransition=function(){return On.current.useTransition()};it.version="18.3.1";M_.exports=it;var H=M_.exports;const He=Jl(H),h4=qx({__proto__:null,default:He},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4=H,f4=Symbol.for("react.element"),p4=Symbol.for("react.fragment"),m4=Object.prototype.hasOwnProperty,g4=d4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_4={key:!0,ref:!0,__self:!0,__source:!0};function N_(e,t,n){var o,l={},c=null,f=null;n!==void 0&&(c=""+n),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(f=t.ref);for(o in t)m4.call(t,o)&&!_4.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)l[o]===void 0&&(l[o]=t[o]);return{$$typeof:f4,type:e,key:c,ref:f,props:l,_owner:g4.current}}ah.Fragment=p4;ah.jsx=N_;ah.jsxs=N_;E_.exports=ah;var y=E_.exports,kf={},R_={exports:{}},rr={},I_={exports:{}},F_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(pe,Re){var be=pe.length;pe.push(Re);e:for(;0<be;){var Oe=be-1>>>1,Ge=pe[Oe];if(0<l(Ge,Re))pe[Oe]=Re,pe[be]=Ge,be=Oe;else break e}}function n(pe){return pe.length===0?null:pe[0]}function o(pe){if(pe.length===0)return null;var Re=pe[0],be=pe.pop();if(be!==Re){pe[0]=be;e:for(var Oe=0,Ge=pe.length,pt=Ge>>>1;Oe<pt;){var Qe=2*(Oe+1)-1,We=pe[Qe],$e=Qe+1,Ct=pe[$e];if(0>l(We,be))$e<Ge&&0>l(Ct,We)?(pe[Oe]=Ct,pe[$e]=be,Oe=$e):(pe[Oe]=We,pe[Qe]=be,Oe=Qe);else if($e<Ge&&0>l(Ct,be))pe[Oe]=Ct,pe[$e]=be,Oe=$e;else break e}}return Re}function l(pe,Re){var be=pe.sortIndex-Re.sortIndex;return be!==0?be:pe.id-Re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,v=f.now();e.unstable_now=function(){return f.now()-v}}var m=[],w=[],C=1,S=null,M=3,z=!1,$=!1,Z=!1,X=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(pe){for(var Re=n(w);Re!==null;){if(Re.callback===null)o(w);else if(Re.startTime<=pe)o(w),Re.sortIndex=Re.expirationTime,t(m,Re);else break;Re=n(w)}}function Q(pe){if(Z=!1,I(pe),!$)if(n(m)!==null)$=!0,ct(ne);else{var Re=n(w);Re!==null&&nt(Q,Re.startTime-pe)}}function ne(pe,Re){$=!1,Z&&(Z=!1,F(we),we=-1),z=!0;var be=M;try{for(I(Re),S=n(m);S!==null&&(!(S.expirationTime>Re)||pe&&!ke());){var Oe=S.callback;if(typeof Oe=="function"){S.callback=null,M=S.priorityLevel;var Ge=Oe(S.expirationTime<=Re);Re=e.unstable_now(),typeof Ge=="function"?S.callback=Ge:S===n(m)&&o(m),I(Re)}else o(m);S=n(m)}if(S!==null)var pt=!0;else{var Qe=n(w);Qe!==null&&nt(Q,Qe.startTime-Re),pt=!1}return pt}finally{S=null,M=be,z=!1}}var me=!1,de=null,we=-1,Ne=5,Ce=-1;function ke(){return!(e.unstable_now()-Ce<Ne)}function Ye(){if(de!==null){var pe=e.unstable_now();Ce=pe;var Re=!0;try{Re=de(!0,pe)}finally{Re?tt():(me=!1,de=null)}}else me=!1}var tt;if(typeof D=="function")tt=function(){D(Ye)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,kt=at.port2;at.port1.onmessage=Ye,tt=function(){kt.postMessage(null)}}else tt=function(){X(Ye,0)};function ct(pe){de=pe,me||(me=!0,tt())}function nt(pe,Re){we=X(function(){pe(e.unstable_now())},Re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){$||z||($=!0,ct(ne))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(pe){switch(M){case 1:case 2:case 3:var Re=3;break;default:Re=M}var be=M;M=Re;try{return pe()}finally{M=be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,Re){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var be=M;M=pe;try{return Re()}finally{M=be}},e.unstable_scheduleCallback=function(pe,Re,be){var Oe=e.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Oe+be:Oe):be=Oe,pe){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=be+Ge,pe={id:C++,callback:Re,priorityLevel:pe,startTime:be,expirationTime:Ge,sortIndex:-1},be>Oe?(pe.sortIndex=be,t(w,pe),n(m)===null&&pe===n(w)&&(Z?(F(we),we=-1):Z=!0,nt(Q,be-Oe))):(pe.sortIndex=Ge,t(m,pe),$||z||($=!0,ct(ne))),pe},e.unstable_shouldYield=ke,e.unstable_wrapCallback=function(pe){var Re=M;return function(){var be=M;M=Re;try{return pe.apply(this,arguments)}finally{M=be}}}})(F_);I_.exports=F_;var y4=I_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v4=H,nr=y4;function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z_=new Set,Pl={};function na(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(Pl[e]=t,e=0;e<t.length;e++)z_.add(t[e])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,x4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_m={},ym={};function w4(e){return Cf.call(ym,e)?!0:Cf.call(_m,e)?!1:x4.test(e)?ym[e]=!0:(_m[e]=!0,!1)}function b4(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L4(e,t,n,o){if(t===null||typeof t>"u"||b4(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nn(e,t,n,o,l,c,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=f}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_n[e]=new Nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_n[t]=new Nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_n[e]=new Nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_n[e]=new Nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_n[e]=new Nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_n[e]=new Nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_n[e]=new Nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_n[e]=new Nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_n[e]=new Nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gp=/[\-:]([a-z])/g;function Hp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gp,Hp);_n[t]=new Nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gp,Hp);_n[t]=new Nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gp,Hp);_n[t]=new Nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_n[e]=new Nn(e,1,!1,e.toLowerCase(),null,!1,!1)});_n.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_n[e]=new Nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zp(e,t,n,o){var l=_n.hasOwnProperty(t)?_n[t]:null;(l!==null?l.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L4(t,n,l,o)&&(n=null),o||l===null?w4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,o=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Ei=v4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),Va=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),Wp=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),U_=Symbol.for("react.provider"),$_=Symbol.for("react.context"),Kp=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),qp=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),V_=Symbol.for("react.offscreen"),vm=Symbol.iterator;function rl(e){return e===null||typeof e!="object"?null:(e=vm&&e[vm]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Object.assign,$d;function fl(e){if($d===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$d=t&&t[1]||""}return`
`+$d+e}var Vd=!1;function Gd(e,t){if(!e||Vd)return"";Vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var o=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){o=w}e.call(t.prototype)}else{try{throw Error()}catch(w){o=w}e()}}catch(w){if(w&&o&&typeof w.stack=="string"){for(var l=w.stack.split(`
`),c=o.stack.split(`
`),f=l.length-1,v=c.length-1;1<=f&&0<=v&&l[f]!==c[v];)v--;for(;1<=f&&0<=v;f--,v--)if(l[f]!==c[v]){if(f!==1||v!==1)do if(f--,v--,0>v||l[f]!==c[v]){var m=`
`+l[f].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=f&&0<=v);break}}}finally{Vd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fl(e):""}function k4(e){switch(e.tag){case 5:return fl(e.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 2:case 15:return e=Gd(e.type,!1),e;case 11:return e=Gd(e.type.render,!1),e;case 1:return e=Gd(e.type,!0),e;default:return""}}function Pf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ga:return"Fragment";case Va:return"Portal";case Ef:return"Profiler";case Wp:return"StrictMode";case Mf:return"Suspense";case Sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $_:return(e.displayName||"Context")+".Consumer";case U_:return(e._context.displayName||"Context")+".Provider";case Kp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qp:return t=e.displayName||null,t!==null?t:Pf(e.type)||"Memo";case Vi:t=e._payload,e=e._init;try{return Pf(e(t))}catch{}}return null}function C4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pf(t);case 8:return t===Wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E4(e){var t=G_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){o=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ju(e){e._valueTracker||(e._valueTracker=E4(e))}function H_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=G_(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Tc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tf(e,t){var n=t.checked;return zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xm(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=uo(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z_(e,t){t=t.checked,t!=null&&Zp(e,"checked",t,!1)}function Bf(e,t){Z_(e,t);var n=uo(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Af(e,t.type,n):t.hasOwnProperty("defaultValue")&&Af(e,t.type,uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Af(e,t,n){(t!=="number"||Tc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pl=Array.isArray;function rs(e,t,n,o){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&o&&(e[n].defaultSelected=!0)}else{for(n=""+uo(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function jf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Le(92));if(pl(n)){if(1<n.length)throw Error(Le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:uo(n)}}function W_(e,t){var n=uo(t.value),o=uo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Lm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Df(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qu,q_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M4=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(e){M4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yl[t]=yl[e]})});function Y_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yl.hasOwnProperty(e)&&yl[e]?(""+t).trim():t+"px"}function X_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,l=Y_(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,l):e[n]=l}}var S4=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Of(e,t){if(t){if(S4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function Nf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=null;function Yp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var If=null,is=null,os=null;function km(e){if(e=nu(e)){if(typeof If!="function")throw Error(Le(280));var t=e.stateNode;t&&(t=hh(t),If(e.stateNode,e.type,t))}}function J_(e){is?os?os.push(e):os=[e]:is=e}function Q_(){if(is){var e=is,t=os;if(os=is=null,km(e),t)for(e=0;e<t.length;e++)km(t[e])}}function ey(e,t){return e(t)}function ty(){}var Hd=!1;function ny(e,t,n){if(Hd)return e(t,n);Hd=!0;try{return ey(e,t,n)}finally{Hd=!1,(is!==null||os!==null)&&(ty(),Q_())}}function Bl(e,t){var n=e.stateNode;if(n===null)return null;var o=hh(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Le(231,t,typeof n));return n}var Ff=!1;if(wi)try{var il={};Object.defineProperty(il,"passive",{get:function(){Ff=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{Ff=!1}function P4(e,t,n,o,l,c,f,v,m){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(C){this.onError(C)}}var vl=!1,Bc=null,Ac=!1,zf=null,T4={onError:function(e){vl=!0,Bc=e}};function B4(e,t,n,o,l,c,f,v,m){vl=!1,Bc=null,P4.apply(T4,arguments)}function A4(e,t,n,o,l,c,f,v,m){if(B4.apply(this,arguments),vl){if(vl){var w=Bc;vl=!1,Bc=null}else throw Error(Le(198));Ac||(Ac=!0,zf=w)}}function ra(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ry(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cm(e){if(ra(e)!==e)throw Error(Le(188))}function j4(e){var t=e.alternate;if(!t){if(t=ra(e),t===null)throw Error(Le(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(o=l.return,o!==null){n=o;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return Cm(l),e;if(c===o)return Cm(l),t;c=c.sibling}throw Error(Le(188))}if(n.return!==o.return)n=l,o=c;else{for(var f=!1,v=l.child;v;){if(v===n){f=!0,n=l,o=c;break}if(v===o){f=!0,o=l,n=c;break}v=v.sibling}if(!f){for(v=c.child;v;){if(v===n){f=!0,n=c,o=l;break}if(v===o){f=!0,o=c,n=l;break}v=v.sibling}if(!f)throw Error(Le(189))}}if(n.alternate!==o)throw Error(Le(190))}if(n.tag!==3)throw Error(Le(188));return n.stateNode.current===n?e:t}function iy(e){return e=j4(e),e!==null?oy(e):null}function oy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oy(e);if(t!==null)return t;e=e.sibling}return null}var ay=nr.unstable_scheduleCallback,Em=nr.unstable_cancelCallback,D4=nr.unstable_shouldYield,O4=nr.unstable_requestPaint,Zt=nr.unstable_now,N4=nr.unstable_getCurrentPriorityLevel,Xp=nr.unstable_ImmediatePriority,sy=nr.unstable_UserBlockingPriority,jc=nr.unstable_NormalPriority,R4=nr.unstable_LowPriority,ly=nr.unstable_IdlePriority,sh=null,qr=null;function I4(e){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(sh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:U4,F4=Math.log,z4=Math.LN2;function U4(e){return e>>>=0,e===0?32:31-(F4(e)/z4|0)|0}var ec=64,tc=4194304;function ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dc(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,l=e.suspendedLanes,c=e.pingedLanes,f=n&268435455;if(f!==0){var v=f&~l;v!==0?o=ml(v):(c&=f,c!==0&&(o=ml(c)))}else f=n&~l,f!==0?o=ml(f):c!==0&&(o=ml(c));if(o===0)return 0;if(t!==0&&t!==o&&!(t&l)&&(l=o&-o,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Ar(t),l=1<<n,o|=e[n],t&=~l;return o}function $4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V4(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var f=31-Ar(c),v=1<<f,m=l[f];m===-1?(!(v&n)||v&o)&&(l[f]=$4(v,t)):m<=t&&(e.expiredLanes|=v),c&=~v}}function Uf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uy(){var e=ec;return ec<<=1,!(ec&4194240)&&(ec=64),e}function Zd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ar(t),e[t]=n}function G4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ar(n),c=1<<l;t[l]=0,o[l]=-1,e[l]=-1,n&=~c}}function Jp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Ar(n),l=1<<o;l&t|e[o]&t&&(e[o]|=t),n&=~l}}var _t=0;function cy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hy,Qp,dy,fy,py,$f=!1,nc=[],Qi=null,eo=null,to=null,Al=new Map,jl=new Map,Wi=[],H4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mm(e,t){switch(e){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":Al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function ol(e,t,n,o,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:c,targetContainers:[l]},t!==null&&(t=nu(t),t!==null&&Qp(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Z4(e,t,n,o,l){switch(t){case"focusin":return Qi=ol(Qi,e,t,n,o,l),!0;case"dragenter":return eo=ol(eo,e,t,n,o,l),!0;case"mouseover":return to=ol(to,e,t,n,o,l),!0;case"pointerover":var c=l.pointerId;return Al.set(c,ol(Al.get(c)||null,e,t,n,o,l)),!0;case"gotpointercapture":return c=l.pointerId,jl.set(c,ol(jl.get(c)||null,e,t,n,o,l)),!0}return!1}function my(e){var t=Fo(e.target);if(t!==null){var n=ra(t);if(n!==null){if(t=n.tag,t===13){if(t=ry(n),t!==null){e.blockedOn=t,py(e.priority,function(){dy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Rf=o,n.target.dispatchEvent(o),Rf=null}else return t=nu(n),t!==null&&Qp(t),e.blockedOn=n,!1;t.shift()}return!0}function Sm(e,t,n){_c(e)&&n.delete(t)}function W4(){$f=!1,Qi!==null&&_c(Qi)&&(Qi=null),eo!==null&&_c(eo)&&(eo=null),to!==null&&_c(to)&&(to=null),Al.forEach(Sm),jl.forEach(Sm)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,$f||($f=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,W4)))}function Dl(e){function t(l){return al(l,e)}if(0<nc.length){al(nc[0],e);for(var n=1;n<nc.length;n++){var o=nc[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Qi!==null&&al(Qi,e),eo!==null&&al(eo,e),to!==null&&al(to,e),Al.forEach(t),jl.forEach(t),n=0;n<Wi.length;n++)o=Wi[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)my(n),n.blockedOn===null&&Wi.shift()}var as=Ei.ReactCurrentBatchConfig,Oc=!0;function K4(e,t,n,o){var l=_t,c=as.transition;as.transition=null;try{_t=1,e0(e,t,n,o)}finally{_t=l,as.transition=c}}function q4(e,t,n,o){var l=_t,c=as.transition;as.transition=null;try{_t=4,e0(e,t,n,o)}finally{_t=l,as.transition=c}}function e0(e,t,n,o){if(Oc){var l=Vf(e,t,n,o);if(l===null)nf(e,t,o,Nc,n),Mm(e,o);else if(Z4(l,e,t,n,o))o.stopPropagation();else if(Mm(e,o),t&4&&-1<H4.indexOf(e)){for(;l!==null;){var c=nu(l);if(c!==null&&hy(c),c=Vf(e,t,n,o),c===null&&nf(e,t,o,Nc,n),c===l)break;l=c}l!==null&&o.stopPropagation()}else nf(e,t,o,null,n)}}var Nc=null;function Vf(e,t,n,o){if(Nc=null,e=Yp(o),e=Fo(e),e!==null)if(t=ra(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ry(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nc=e,null}function gy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N4()){case Xp:return 1;case sy:return 4;case jc:case R4:return 16;case ly:return 536870912;default:return 16}default:return 16}}var qi=null,t0=null,yc=null;function _y(){if(yc)return yc;var e,t=t0,n=t.length,o,l="value"in qi?qi.value:qi.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var f=n-e;for(o=1;o<=f&&t[n-o]===l[c-o];o++);return yc=l.slice(e,1<o?1-o:void 0)}function vc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rc(){return!0}function Pm(){return!1}function ir(e){function t(n,o,l,c,f){this._reactName=n,this._targetInst=l,this.type=o,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?rc:Pm,this.isPropagationStopped=Pm,this}return zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),t}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n0=ir(ys),tu=zt({},ys,{view:0,detail:0}),Y4=ir(tu),Wd,Kd,sl,lh=zt({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sl&&(sl&&e.type==="mousemove"?(Wd=e.screenX-sl.screenX,Kd=e.screenY-sl.screenY):Kd=Wd=0,sl=e),Wd)},movementY:function(e){return"movementY"in e?e.movementY:Kd}}),Tm=ir(lh),X4=zt({},lh,{dataTransfer:0}),J4=ir(X4),Q4=zt({},tu,{relatedTarget:0}),qd=ir(Q4),e3=zt({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),t3=ir(e3),n3=zt({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r3=ir(n3),i3=zt({},ys,{data:0}),Bm=ir(i3),o3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s3[e])?!!t[e]:!1}function r0(){return l3}var u3=zt({},tu,{key:function(e){if(e.key){var t=o3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r0,charCode:function(e){return e.type==="keypress"?vc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c3=ir(u3),h3=zt({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Am=ir(h3),d3=zt({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r0}),f3=ir(d3),p3=zt({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),m3=ir(p3),g3=zt({},lh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_3=ir(g3),y3=[9,13,27,32],i0=wi&&"CompositionEvent"in window,xl=null;wi&&"documentMode"in document&&(xl=document.documentMode);var v3=wi&&"TextEvent"in window&&!xl,yy=wi&&(!i0||xl&&8<xl&&11>=xl),jm=String.fromCharCode(32),Dm=!1;function vy(e,t){switch(e){case"keyup":return y3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function x3(e,t){switch(e){case"compositionend":return xy(t);case"keypress":return t.which!==32?null:(Dm=!0,jm);case"textInput":return e=t.data,e===jm&&Dm?null:e;default:return null}}function w3(e,t){if(Ha)return e==="compositionend"||!i0&&vy(e,t)?(e=_y(),yc=t0=qi=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yy&&t.locale!=="ko"?null:t.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b3[e.type]:t==="textarea"}function wy(e,t,n,o){J_(o),t=Rc(t,"onChange"),0<t.length&&(n=new n0("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var wl=null,Ol=null;function L3(e){Ay(e,0)}function uh(e){var t=Ka(e);if(H_(t))return e}function k3(e,t){if(e==="change")return t}var by=!1;if(wi){var Yd;if(wi){var Xd="oninput"in document;if(!Xd){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),Xd=typeof Nm.oninput=="function"}Yd=Xd}else Yd=!1;by=Yd&&(!document.documentMode||9<document.documentMode)}function Rm(){wl&&(wl.detachEvent("onpropertychange",Ly),Ol=wl=null)}function Ly(e){if(e.propertyName==="value"&&uh(Ol)){var t=[];wy(t,Ol,e,Yp(e)),ny(L3,t)}}function C3(e,t,n){e==="focusin"?(Rm(),wl=t,Ol=n,wl.attachEvent("onpropertychange",Ly)):e==="focusout"&&Rm()}function E3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uh(Ol)}function M3(e,t){if(e==="click")return uh(t)}function S3(e,t){if(e==="input"||e==="change")return uh(t)}function P3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dr=typeof Object.is=="function"?Object.is:P3;function Nl(e,t){if(Dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var l=n[o];if(!Cf.call(t,l)||!Dr(e[l],t[l]))return!1}return!0}function Im(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fm(e,t){var n=Im(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Im(n)}}function ky(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ky(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cy(){for(var e=window,t=Tc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tc(e.document)}return t}function o0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T3(e){var t=Cy(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ky(n.ownerDocument.documentElement,n)){if(o!==null&&o0(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(o.start,l);o=o.end===void 0?c:Math.min(o.end,l),!e.extend&&c>o&&(l=o,o=c,c=l),l=Fm(n,c);var f=Fm(n,o);l&&f&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B3=wi&&"documentMode"in document&&11>=document.documentMode,Za=null,Gf=null,bl=null,Hf=!1;function zm(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hf||Za==null||Za!==Tc(o)||(o=Za,"selectionStart"in o&&o0(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),bl&&Nl(bl,o)||(bl=o,o=Rc(Gf,"onSelect"),0<o.length&&(t=new n0("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Za)))}function ic(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wa={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},Jd={},Ey={};wi&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function ch(e){if(Jd[e])return Jd[e];if(!Wa[e])return e;var t=Wa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ey)return Jd[e]=t[n];return e}var My=ch("animationend"),Sy=ch("animationiteration"),Py=ch("animationstart"),Ty=ch("transitionend"),By=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(e,t){By.set(e,t),na(t,[e])}for(var Qd=0;Qd<Um.length;Qd++){var ef=Um[Qd],A3=ef.toLowerCase(),j3=ef[0].toUpperCase()+ef.slice(1);fo(A3,"on"+j3)}fo(My,"onAnimationEnd");fo(Sy,"onAnimationIteration");fo(Py,"onAnimationStart");fo("dblclick","onDoubleClick");fo("focusin","onFocus");fo("focusout","onBlur");fo(Ty,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D3=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function $m(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,A4(o,t,void 0,e),e.currentTarget=null}function Ay(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],l=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var f=o.length-1;0<=f;f--){var v=o[f],m=v.instance,w=v.currentTarget;if(v=v.listener,m!==c&&l.isPropagationStopped())break e;$m(l,v,w),c=m}else for(f=0;f<o.length;f++){if(v=o[f],m=v.instance,w=v.currentTarget,v=v.listener,m!==c&&l.isPropagationStopped())break e;$m(l,v,w),c=m}}}if(Ac)throw e=zf,Ac=!1,zf=null,e}function Tt(e,t){var n=t[Yf];n===void 0&&(n=t[Yf]=new Set);var o=e+"__bubble";n.has(o)||(jy(t,e,2,!1),n.add(o))}function tf(e,t,n){var o=0;t&&(o|=4),jy(n,e,o,t)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Rl(e){if(!e[oc]){e[oc]=!0,z_.forEach(function(n){n!=="selectionchange"&&(D3.has(n)||tf(n,!1,e),tf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oc]||(t[oc]=!0,tf("selectionchange",!1,t))}}function jy(e,t,n,o){switch(gy(t)){case 1:var l=K4;break;case 4:l=q4;break;default:l=e0}n=l.bind(null,t,n,e),l=void 0,!Ff||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function nf(e,t,n,o,l){var c=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var v=o.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(f===4)for(f=o.return;f!==null;){var m=f.tag;if((m===3||m===4)&&(m=f.stateNode.containerInfo,m===l||m.nodeType===8&&m.parentNode===l))return;f=f.return}for(;v!==null;){if(f=Fo(v),f===null)return;if(m=f.tag,m===5||m===6){o=c=f;continue e}v=v.parentNode}}o=o.return}ny(function(){var w=c,C=Yp(n),S=[];e:{var M=By.get(e);if(M!==void 0){var z=n0,$=e;switch(e){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":z=c3;break;case"focusin":$="focus",z=qd;break;case"focusout":$="blur",z=qd;break;case"beforeblur":case"afterblur":z=qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=J4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=f3;break;case My:case Sy:case Py:z=t3;break;case Ty:z=m3;break;case"scroll":z=Y4;break;case"wheel":z=_3;break;case"copy":case"cut":case"paste":z=r3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Am}var Z=(t&4)!==0,X=!Z&&e==="scroll",F=Z?M!==null?M+"Capture":null:M;Z=[];for(var D=w,I;D!==null;){I=D;var Q=I.stateNode;if(I.tag===5&&Q!==null&&(I=Q,F!==null&&(Q=Bl(D,F),Q!=null&&Z.push(Il(D,Q,I)))),X)break;D=D.return}0<Z.length&&(M=new z(M,$,null,n,C),S.push({event:M,listeners:Z}))}}if(!(t&7)){e:{if(M=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",M&&n!==Rf&&($=n.relatedTarget||n.fromElement)&&(Fo($)||$[bi]))break e;if((z||M)&&(M=C.window===C?C:(M=C.ownerDocument)?M.defaultView||M.parentWindow:window,z?($=n.relatedTarget||n.toElement,z=w,$=$?Fo($):null,$!==null&&(X=ra($),$!==X||$.tag!==5&&$.tag!==6)&&($=null)):(z=null,$=w),z!==$)){if(Z=Tm,Q="onMouseLeave",F="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(Z=Am,Q="onPointerLeave",F="onPointerEnter",D="pointer"),X=z==null?M:Ka(z),I=$==null?M:Ka($),M=new Z(Q,D+"leave",z,n,C),M.target=X,M.relatedTarget=I,Q=null,Fo(C)===w&&(Z=new Z(F,D+"enter",$,n,C),Z.target=I,Z.relatedTarget=X,Q=Z),X=Q,z&&$)t:{for(Z=z,F=$,D=0,I=Z;I;I=Ua(I))D++;for(I=0,Q=F;Q;Q=Ua(Q))I++;for(;0<D-I;)Z=Ua(Z),D--;for(;0<I-D;)F=Ua(F),I--;for(;D--;){if(Z===F||F!==null&&Z===F.alternate)break t;Z=Ua(Z),F=Ua(F)}Z=null}else Z=null;z!==null&&Vm(S,M,z,Z,!1),$!==null&&X!==null&&Vm(S,X,$,Z,!0)}}e:{if(M=w?Ka(w):window,z=M.nodeName&&M.nodeName.toLowerCase(),z==="select"||z==="input"&&M.type==="file")var ne=k3;else if(Om(M))if(by)ne=S3;else{ne=E3;var me=C3}else(z=M.nodeName)&&z.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(ne=M3);if(ne&&(ne=ne(e,w))){wy(S,ne,n,C);break e}me&&me(e,M,w),e==="focusout"&&(me=M._wrapperState)&&me.controlled&&M.type==="number"&&Af(M,"number",M.value)}switch(me=w?Ka(w):window,e){case"focusin":(Om(me)||me.contentEditable==="true")&&(Za=me,Gf=w,bl=null);break;case"focusout":bl=Gf=Za=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,zm(S,n,C);break;case"selectionchange":if(B3)break;case"keydown":case"keyup":zm(S,n,C)}var de;if(i0)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ha?vy(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(yy&&n.locale!=="ko"&&(Ha||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ha&&(de=_y()):(qi=C,t0="value"in qi?qi.value:qi.textContent,Ha=!0)),me=Rc(w,we),0<me.length&&(we=new Bm(we,e,null,n,C),S.push({event:we,listeners:me}),de?we.data=de:(de=xy(n),de!==null&&(we.data=de)))),(de=v3?x3(e,n):w3(e,n))&&(w=Rc(w,"onBeforeInput"),0<w.length&&(C=new Bm("onBeforeInput","beforeinput",null,n,C),S.push({event:C,listeners:w}),C.data=de))}Ay(S,t)})}function Il(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rc(e,t){for(var n=t+"Capture",o=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=Bl(e,n),c!=null&&o.unshift(Il(e,c,l)),c=Bl(e,t),c!=null&&o.push(Il(e,c,l))),e=e.return}return o}function Ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vm(e,t,n,o,l){for(var c=t._reactName,f=[];n!==null&&n!==o;){var v=n,m=v.alternate,w=v.stateNode;if(m!==null&&m===o)break;v.tag===5&&w!==null&&(v=w,l?(m=Bl(n,c),m!=null&&f.unshift(Il(n,m,v))):l||(m=Bl(n,c),m!=null&&f.push(Il(n,m,v)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var O3=/\r\n?/g,N3=/\u0000|\uFFFD/g;function Gm(e){return(typeof e=="string"?e:""+e).replace(O3,`
`).replace(N3,"")}function ac(e,t,n){if(t=Gm(t),Gm(e)!==t&&n)throw Error(Le(425))}function Ic(){}var Zf=null,Wf=null;function Kf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qf=typeof setTimeout=="function"?setTimeout:void 0,R3=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,I3=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(F3)}:qf;function F3(e){setTimeout(function(){throw e})}function rf(e,t){var n=t,o=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(o===0){e.removeChild(l),Dl(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=l}while(n);Dl(t)}function no(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Kr="__reactFiber$"+vs,Fl="__reactProps$"+vs,bi="__reactContainer$"+vs,Yf="__reactEvents$"+vs,z3="__reactListeners$"+vs,U3="__reactHandles$"+vs;function Fo(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bi]||n[Kr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zm(e);e!==null;){if(n=e[Kr])return n;e=Zm(e)}return t}e=n,n=e.parentNode}return null}function nu(e){return e=e[Kr]||e[bi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Le(33))}function hh(e){return e[Fl]||null}var Xf=[],qa=-1;function po(e){return{current:e}}function At(e){0>qa||(e.current=Xf[qa],Xf[qa]=null,qa--)}function St(e,t){qa++,Xf[qa]=e.current,e.current=t}var co={},En=po(co),Gn=po(!1),Wo=co;function cs(e,t){var n=e.type.contextTypes;if(!n)return co;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Hn(e){return e=e.childContextTypes,e!=null}function Fc(){At(Gn),At(En)}function Wm(e,t,n){if(En.current!==co)throw Error(Le(168));St(En,t),St(Gn,n)}function Dy(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var l in o)if(!(l in t))throw Error(Le(108,C4(e)||"Unknown",l));return zt({},n,o)}function zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||co,Wo=En.current,St(En,e),St(Gn,Gn.current),!0}function Km(e,t,n){var o=e.stateNode;if(!o)throw Error(Le(169));n?(e=Dy(e,t,Wo),o.__reactInternalMemoizedMergedChildContext=e,At(Gn),At(En),St(En,e)):At(Gn),St(Gn,n)}var mi=null,dh=!1,of=!1;function Oy(e){mi===null?mi=[e]:mi.push(e)}function $3(e){dh=!0,Oy(e)}function mo(){if(!of&&mi!==null){of=!0;var e=0,t=_t;try{var n=mi;for(_t=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}mi=null,dh=!1}catch(l){throw mi!==null&&(mi=mi.slice(e+1)),ay(Xp,mo),l}finally{_t=t,of=!1}}return null}var Ya=[],Xa=0,Uc=null,$c=0,gr=[],_r=0,Ko=null,yi=1,vi="";function Oo(e,t){Ya[Xa++]=$c,Ya[Xa++]=Uc,Uc=e,$c=t}function Ny(e,t,n){gr[_r++]=yi,gr[_r++]=vi,gr[_r++]=Ko,Ko=e;var o=yi;e=vi;var l=32-Ar(o)-1;o&=~(1<<l),n+=1;var c=32-Ar(t)+l;if(30<c){var f=l-l%5;c=(o&(1<<f)-1).toString(32),o>>=f,l-=f,yi=1<<32-Ar(t)+l|n<<l|o,vi=c+e}else yi=1<<c|n<<l|o,vi=e}function a0(e){e.return!==null&&(Oo(e,1),Ny(e,1,0))}function s0(e){for(;e===Uc;)Uc=Ya[--Xa],Ya[Xa]=null,$c=Ya[--Xa],Ya[Xa]=null;for(;e===Ko;)Ko=gr[--_r],gr[_r]=null,vi=gr[--_r],gr[_r]=null,yi=gr[--_r],gr[_r]=null}var tr=null,Jn=null,Ot=!1,Br=null;function Ry(e,t){var n=yr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tr=e,Jn=no(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tr=e,Jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ko!==null?{id:yi,overflow:vi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tr=e,Jn=null,!0):!1;default:return!1}}function Jf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qf(e){if(Ot){var t=Jn;if(t){var n=t;if(!qm(e,t)){if(Jf(e))throw Error(Le(418));t=no(n.nextSibling);var o=tr;t&&qm(e,t)?Ry(o,n):(e.flags=e.flags&-4097|2,Ot=!1,tr=e)}}else{if(Jf(e))throw Error(Le(418));e.flags=e.flags&-4097|2,Ot=!1,tr=e}}}function Ym(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function sc(e){if(e!==tr)return!1;if(!Ot)return Ym(e),Ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kf(e.type,e.memoizedProps)),t&&(t=Jn)){if(Jf(e))throw Iy(),Error(Le(418));for(;t;)Ry(e,t),t=no(t.nextSibling)}if(Ym(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jn=no(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jn=null}}else Jn=tr?no(e.stateNode.nextSibling):null;return!0}function Iy(){for(var e=Jn;e;)e=no(e.nextSibling)}function hs(){Jn=tr=null,Ot=!1}function l0(e){Br===null?Br=[e]:Br.push(e)}var V3=Ei.ReactCurrentBatchConfig;function ll(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Le(309));var o=n.stateNode}if(!o)throw Error(Le(147,e));var l=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(f){var v=l.refs;f===null?delete v[c]:v[c]=f},t._stringRef=c,t)}if(typeof e!="string")throw Error(Le(284));if(!n._owner)throw Error(Le(290,e))}return e}function lc(e,t){throw e=Object.prototype.toString.call(t),Error(Le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xm(e){var t=e._init;return t(e._payload)}function Fy(e){function t(F,D){if(e){var I=F.deletions;I===null?(F.deletions=[D],F.flags|=16):I.push(D)}}function n(F,D){if(!e)return null;for(;D!==null;)t(F,D),D=D.sibling;return null}function o(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function l(F,D){return F=ao(F,D),F.index=0,F.sibling=null,F}function c(F,D,I){return F.index=I,e?(I=F.alternate,I!==null?(I=I.index,I<D?(F.flags|=2,D):I):(F.flags|=2,D)):(F.flags|=1048576,D)}function f(F){return e&&F.alternate===null&&(F.flags|=2),F}function v(F,D,I,Q){return D===null||D.tag!==6?(D=df(I,F.mode,Q),D.return=F,D):(D=l(D,I),D.return=F,D)}function m(F,D,I,Q){var ne=I.type;return ne===Ga?C(F,D,I.props.children,Q,I.key):D!==null&&(D.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Vi&&Xm(ne)===D.type)?(Q=l(D,I.props),Q.ref=ll(F,D,I),Q.return=F,Q):(Q=Ec(I.type,I.key,I.props,null,F.mode,Q),Q.ref=ll(F,D,I),Q.return=F,Q)}function w(F,D,I,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==I.containerInfo||D.stateNode.implementation!==I.implementation?(D=ff(I,F.mode,Q),D.return=F,D):(D=l(D,I.children||[]),D.return=F,D)}function C(F,D,I,Q,ne){return D===null||D.tag!==7?(D=Go(I,F.mode,Q,ne),D.return=F,D):(D=l(D,I),D.return=F,D)}function S(F,D,I){if(typeof D=="string"&&D!==""||typeof D=="number")return D=df(""+D,F.mode,I),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Xu:return I=Ec(D.type,D.key,D.props,null,F.mode,I),I.ref=ll(F,null,D),I.return=F,I;case Va:return D=ff(D,F.mode,I),D.return=F,D;case Vi:var Q=D._init;return S(F,Q(D._payload),I)}if(pl(D)||rl(D))return D=Go(D,F.mode,I,null),D.return=F,D;lc(F,D)}return null}function M(F,D,I,Q){var ne=D!==null?D.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return ne!==null?null:v(F,D,""+I,Q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Xu:return I.key===ne?m(F,D,I,Q):null;case Va:return I.key===ne?w(F,D,I,Q):null;case Vi:return ne=I._init,M(F,D,ne(I._payload),Q)}if(pl(I)||rl(I))return ne!==null?null:C(F,D,I,Q,null);lc(F,I)}return null}function z(F,D,I,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return F=F.get(I)||null,v(D,F,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Xu:return F=F.get(Q.key===null?I:Q.key)||null,m(D,F,Q,ne);case Va:return F=F.get(Q.key===null?I:Q.key)||null,w(D,F,Q,ne);case Vi:var me=Q._init;return z(F,D,I,me(Q._payload),ne)}if(pl(Q)||rl(Q))return F=F.get(I)||null,C(D,F,Q,ne,null);lc(D,Q)}return null}function $(F,D,I,Q){for(var ne=null,me=null,de=D,we=D=0,Ne=null;de!==null&&we<I.length;we++){de.index>we?(Ne=de,de=null):Ne=de.sibling;var Ce=M(F,de,I[we],Q);if(Ce===null){de===null&&(de=Ne);break}e&&de&&Ce.alternate===null&&t(F,de),D=c(Ce,D,we),me===null?ne=Ce:me.sibling=Ce,me=Ce,de=Ne}if(we===I.length)return n(F,de),Ot&&Oo(F,we),ne;if(de===null){for(;we<I.length;we++)de=S(F,I[we],Q),de!==null&&(D=c(de,D,we),me===null?ne=de:me.sibling=de,me=de);return Ot&&Oo(F,we),ne}for(de=o(F,de);we<I.length;we++)Ne=z(de,F,we,I[we],Q),Ne!==null&&(e&&Ne.alternate!==null&&de.delete(Ne.key===null?we:Ne.key),D=c(Ne,D,we),me===null?ne=Ne:me.sibling=Ne,me=Ne);return e&&de.forEach(function(ke){return t(F,ke)}),Ot&&Oo(F,we),ne}function Z(F,D,I,Q){var ne=rl(I);if(typeof ne!="function")throw Error(Le(150));if(I=ne.call(I),I==null)throw Error(Le(151));for(var me=ne=null,de=D,we=D=0,Ne=null,Ce=I.next();de!==null&&!Ce.done;we++,Ce=I.next()){de.index>we?(Ne=de,de=null):Ne=de.sibling;var ke=M(F,de,Ce.value,Q);if(ke===null){de===null&&(de=Ne);break}e&&de&&ke.alternate===null&&t(F,de),D=c(ke,D,we),me===null?ne=ke:me.sibling=ke,me=ke,de=Ne}if(Ce.done)return n(F,de),Ot&&Oo(F,we),ne;if(de===null){for(;!Ce.done;we++,Ce=I.next())Ce=S(F,Ce.value,Q),Ce!==null&&(D=c(Ce,D,we),me===null?ne=Ce:me.sibling=Ce,me=Ce);return Ot&&Oo(F,we),ne}for(de=o(F,de);!Ce.done;we++,Ce=I.next())Ce=z(de,F,we,Ce.value,Q),Ce!==null&&(e&&Ce.alternate!==null&&de.delete(Ce.key===null?we:Ce.key),D=c(Ce,D,we),me===null?ne=Ce:me.sibling=Ce,me=Ce);return e&&de.forEach(function(Ye){return t(F,Ye)}),Ot&&Oo(F,we),ne}function X(F,D,I,Q){if(typeof I=="object"&&I!==null&&I.type===Ga&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Xu:e:{for(var ne=I.key,me=D;me!==null;){if(me.key===ne){if(ne=I.type,ne===Ga){if(me.tag===7){n(F,me.sibling),D=l(me,I.props.children),D.return=F,F=D;break e}}else if(me.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Vi&&Xm(ne)===me.type){n(F,me.sibling),D=l(me,I.props),D.ref=ll(F,me,I),D.return=F,F=D;break e}n(F,me);break}else t(F,me);me=me.sibling}I.type===Ga?(D=Go(I.props.children,F.mode,Q,I.key),D.return=F,F=D):(Q=Ec(I.type,I.key,I.props,null,F.mode,Q),Q.ref=ll(F,D,I),Q.return=F,F=Q)}return f(F);case Va:e:{for(me=I.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===I.containerInfo&&D.stateNode.implementation===I.implementation){n(F,D.sibling),D=l(D,I.children||[]),D.return=F,F=D;break e}else{n(F,D);break}else t(F,D);D=D.sibling}D=ff(I,F.mode,Q),D.return=F,F=D}return f(F);case Vi:return me=I._init,X(F,D,me(I._payload),Q)}if(pl(I))return $(F,D,I,Q);if(rl(I))return Z(F,D,I,Q);lc(F,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,D!==null&&D.tag===6?(n(F,D.sibling),D=l(D,I),D.return=F,F=D):(n(F,D),D=df(I,F.mode,Q),D.return=F,F=D),f(F)):n(F,D)}return X}var ds=Fy(!0),zy=Fy(!1),Vc=po(null),Gc=null,Ja=null,u0=null;function c0(){u0=Ja=Gc=null}function h0(e){var t=Vc.current;At(Vc),e._currentValue=t}function ep(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function ss(e,t){Gc=e,u0=Ja=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vn=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(u0!==e)if(e={context:e,memoizedValue:t,next:null},Ja===null){if(Gc===null)throw Error(Le(308));Ja=e,Gc.dependencies={lanes:0,firstContext:e}}else Ja=Ja.next=e;return t}var zo=null;function d0(e){zo===null?zo=[e]:zo.push(e)}function Uy(e,t,n,o){var l=t.interleaved;return l===null?(n.next=n,d0(t)):(n.next=l.next,l.next=n),t.interleaved=n,Li(e,o)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gi=!1;function f0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $y(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,ft&2){var l=o.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),o.pending=t,Li(e,n)}return l=o.interleaved,l===null?(t.next=t,d0(o)):(t.next=l.next,l.next=t),o.interleaved=t,Li(e,n)}function xc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Jp(e,n)}}function Jm(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=f:c=c.next=f,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hc(e,t,n,o){var l=e.updateQueue;Gi=!1;var c=l.firstBaseUpdate,f=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var m=v,w=m.next;m.next=null,f===null?c=w:f.next=w,f=m;var C=e.alternate;C!==null&&(C=C.updateQueue,v=C.lastBaseUpdate,v!==f&&(v===null?C.firstBaseUpdate=w:v.next=w,C.lastBaseUpdate=m))}if(c!==null){var S=l.baseState;f=0,C=w=m=null,v=c;do{var M=v.lane,z=v.eventTime;if((o&M)===M){C!==null&&(C=C.next={eventTime:z,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var $=e,Z=v;switch(M=t,z=n,Z.tag){case 1:if($=Z.payload,typeof $=="function"){S=$.call(z,S,M);break e}S=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=Z.payload,M=typeof $=="function"?$.call(z,S,M):$,M==null)break e;S=zt({},S,M);break e;case 2:Gi=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,M=l.effects,M===null?l.effects=[v]:M.push(v))}else z={eventTime:z,lane:M,tag:v.tag,payload:v.payload,callback:v.callback,next:null},C===null?(w=C=z,m=S):C=C.next=z,f|=M;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;M=v,v=M.next,M.next=null,l.lastBaseUpdate=M,l.shared.pending=null}}while(1);if(C===null&&(m=S),l.baseState=m,l.firstBaseUpdate=w,l.lastBaseUpdate=C,t=l.shared.interleaved,t!==null){l=t;do f|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);Yo|=f,e.lanes=f,e.memoizedState=S}}function Qm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(l!==null){if(o.callback=null,o=n,typeof l!="function")throw Error(Le(191,l));l.call(o)}}}var ru={},Yr=po(ru),zl=po(ru),Ul=po(ru);function Uo(e){if(e===ru)throw Error(Le(174));return e}function p0(e,t){switch(St(Ul,t),St(zl,e),St(Yr,ru),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Df(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Df(t,e)}At(Yr),St(Yr,t)}function fs(){At(Yr),At(zl),At(Ul)}function Vy(e){Uo(Ul.current);var t=Uo(Yr.current),n=Df(t,e.type);t!==n&&(St(zl,e),St(Yr,n))}function m0(e){zl.current===e&&(At(Yr),At(zl))}var It=po(0);function Zc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var af=[];function g0(){for(var e=0;e<af.length;e++)af[e]._workInProgressVersionPrimary=null;af.length=0}var wc=Ei.ReactCurrentDispatcher,sf=Ei.ReactCurrentBatchConfig,qo=0,Ft=null,Qt=null,an=null,Wc=!1,Ll=!1,$l=0,G3=0;function Ln(){throw Error(Le(321))}function _0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dr(e[n],t[n]))return!1;return!0}function y0(e,t,n,o,l,c){if(qo=c,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wc.current=e===null||e.memoizedState===null?K3:q3,e=n(o,l),Ll){c=0;do{if(Ll=!1,$l=0,25<=c)throw Error(Le(301));c+=1,an=Qt=null,t.updateQueue=null,wc.current=Y3,e=n(o,l)}while(Ll)}if(wc.current=Kc,t=Qt!==null&&Qt.next!==null,qo=0,an=Qt=Ft=null,Wc=!1,t)throw Error(Le(300));return e}function v0(){var e=$l!==0;return $l=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ft.memoizedState=an=e:an=an.next=e,an}function wr(){if(Qt===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var t=an===null?Ft.memoizedState:an.next;if(t!==null)an=t,Qt=e;else{if(e===null)throw Error(Le(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},an===null?Ft.memoizedState=an=e:an=an.next=e}return an}function Vl(e,t){return typeof t=="function"?t(e):t}function lf(e){var t=wr(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var o=Qt,l=o.baseQueue,c=n.pending;if(c!==null){if(l!==null){var f=l.next;l.next=c.next,c.next=f}o.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,o=o.baseState;var v=f=null,m=null,w=c;do{var C=w.lane;if((qo&C)===C)m!==null&&(m=m.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),o=w.hasEagerState?w.eagerState:e(o,w.action);else{var S={lane:C,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};m===null?(v=m=S,f=o):m=m.next=S,Ft.lanes|=C,Yo|=C}w=w.next}while(w!==null&&w!==c);m===null?f=o:m.next=v,Dr(o,t.memoizedState)||(Vn=!0),t.memoizedState=o,t.baseState=f,t.baseQueue=m,n.lastRenderedState=o}if(e=n.interleaved,e!==null){l=e;do c=l.lane,Ft.lanes|=c,Yo|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uf(e){var t=wr(),n=t.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=e;var o=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var f=l=l.next;do c=e(c,f.action),f=f.next;while(f!==l);Dr(c,t.memoizedState)||(Vn=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,o]}function Gy(){}function Hy(e,t){var n=Ft,o=wr(),l=t(),c=!Dr(o.memoizedState,l);if(c&&(o.memoizedState=l,Vn=!0),o=o.queue,x0(Ky.bind(null,n,o,e),[e]),o.getSnapshot!==t||c||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,Gl(9,Wy.bind(null,n,o,l,t),void 0,null),sn===null)throw Error(Le(349));qo&30||Zy(n,t,l)}return l}function Zy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wy(e,t,n,o){t.value=n,t.getSnapshot=o,qy(t)&&Yy(e)}function Ky(e,t,n){return n(function(){qy(t)&&Yy(e)})}function qy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dr(e,n)}catch{return!0}}function Yy(e){var t=Li(e,1);t!==null&&jr(t,e,1,-1)}function eg(e){var t=Zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:e},t.queue=e,e=e.dispatch=W3.bind(null,Ft,e),[t.memoizedState,e]}function Gl(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Xy(){return wr().memoizedState}function bc(e,t,n,o){var l=Zr();Ft.flags|=e,l.memoizedState=Gl(1|t,n,void 0,o===void 0?null:o)}function fh(e,t,n,o){var l=wr();o=o===void 0?null:o;var c=void 0;if(Qt!==null){var f=Qt.memoizedState;if(c=f.destroy,o!==null&&_0(o,f.deps)){l.memoizedState=Gl(t,n,c,o);return}}Ft.flags|=e,l.memoizedState=Gl(1|t,n,c,o)}function tg(e,t){return bc(8390656,8,e,t)}function x0(e,t){return fh(2048,8,e,t)}function Jy(e,t){return fh(4,2,e,t)}function Qy(e,t){return fh(4,4,e,t)}function ev(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tv(e,t,n){return n=n!=null?n.concat([e]):null,fh(4,4,ev.bind(null,t,e),n)}function w0(){}function nv(e,t){var n=wr();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&_0(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function rv(e,t){var n=wr();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&_0(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function iv(e,t,n){return qo&21?(Dr(n,t)||(n=uy(),Ft.lanes|=n,Yo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vn=!0),e.memoizedState=n)}function H3(e,t){var n=_t;_t=n!==0&&4>n?n:4,e(!0);var o=sf.transition;sf.transition={};try{e(!1),t()}finally{_t=n,sf.transition=o}}function ov(){return wr().memoizedState}function Z3(e,t,n){var o=oo(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},av(e))sv(t,n);else if(n=Uy(e,t,n,o),n!==null){var l=Dn();jr(n,e,o,l),lv(n,t,o)}}function W3(e,t,n){var o=oo(e),l={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(av(e))sv(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,v=c(f,n);if(l.hasEagerState=!0,l.eagerState=v,Dr(v,f)){var m=t.interleaved;m===null?(l.next=l,d0(t)):(l.next=m.next,m.next=l),t.interleaved=l;return}}catch{}finally{}n=Uy(e,t,l,o),n!==null&&(l=Dn(),jr(n,e,o,l),lv(n,t,o))}}function av(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function sv(e,t){Ll=Wc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lv(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Jp(e,n)}}var Kc={readContext:xr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},K3={readContext:xr,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:tg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bc(4194308,4,ev.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bc(4194308,4,e,t)},useInsertionEffect:function(e,t){return bc(4,2,e,t)},useMemo:function(e,t){var n=Zr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Zr();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Z3.bind(null,Ft,e),[o.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:eg,useDebugValue:w0,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=eg(!1),t=e[0];return e=H3.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=Ft,l=Zr();if(Ot){if(n===void 0)throw Error(Le(407));n=n()}else{if(n=t(),sn===null)throw Error(Le(349));qo&30||Zy(o,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,tg(Ky.bind(null,o,c,e),[e]),o.flags|=2048,Gl(9,Wy.bind(null,o,c,n,t),void 0,null),n},useId:function(){var e=Zr(),t=sn.identifierPrefix;if(Ot){var n=vi,o=yi;n=(o&~(1<<32-Ar(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=$l++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=G3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q3={readContext:xr,useCallback:nv,useContext:xr,useEffect:x0,useImperativeHandle:tv,useInsertionEffect:Jy,useLayoutEffect:Qy,useMemo:rv,useReducer:lf,useRef:Xy,useState:function(){return lf(Vl)},useDebugValue:w0,useDeferredValue:function(e){var t=wr();return iv(t,Qt.memoizedState,e)},useTransition:function(){var e=lf(Vl)[0],t=wr().memoizedState;return[e,t]},useMutableSource:Gy,useSyncExternalStore:Hy,useId:ov,unstable_isNewReconciler:!1},Y3={readContext:xr,useCallback:nv,useContext:xr,useEffect:x0,useImperativeHandle:tv,useInsertionEffect:Jy,useLayoutEffect:Qy,useMemo:rv,useReducer:uf,useRef:Xy,useState:function(){return uf(Vl)},useDebugValue:w0,useDeferredValue:function(e){var t=wr();return Qt===null?t.memoizedState=e:iv(t,Qt.memoizedState,e)},useTransition:function(){var e=uf(Vl)[0],t=wr().memoizedState;return[e,t]},useMutableSource:Gy,useSyncExternalStore:Hy,useId:ov,unstable_isNewReconciler:!1};function Pr(e,t){if(e&&e.defaultProps){t=zt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tp(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ph={isMounted:function(e){return(e=e._reactInternals)?ra(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Dn(),l=oo(e),c=xi(o,l);c.payload=t,n!=null&&(c.callback=n),t=ro(e,c,l),t!==null&&(jr(t,e,l,o),xc(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Dn(),l=oo(e),c=xi(o,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=ro(e,c,l),t!==null&&(jr(t,e,l,o),xc(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dn(),o=oo(e),l=xi(n,o);l.tag=2,t!=null&&(l.callback=t),t=ro(e,l,o),t!==null&&(jr(t,e,o,n),xc(t,e,o))}};function ng(e,t,n,o,l,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,f):t.prototype&&t.prototype.isPureReactComponent?!Nl(n,o)||!Nl(l,c):!0}function uv(e,t,n){var o=!1,l=co,c=t.contextType;return typeof c=="object"&&c!==null?c=xr(c):(l=Hn(t)?Wo:En.current,o=t.contextTypes,c=(o=o!=null)?cs(e,l):co),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ph,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function rg(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&ph.enqueueReplaceState(t,t.state,null)}function np(e,t,n,o){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},f0(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=xr(c):(c=Hn(t)?Wo:En.current,l.context=cs(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(tp(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ph.enqueueReplaceState(l,l.state,null),Hc(e,n,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var n="",o=t;do n+=k4(o),o=o.return;while(o);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function cf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var X3=typeof WeakMap=="function"?WeakMap:Map;function cv(e,t,n){n=xi(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Yc||(Yc=!0,fp=o),rp(e,t)},n}function hv(e,t,n){n=xi(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=t.value;n.payload=function(){return o(l)},n.callback=function(){rp(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){rp(e,t),typeof o!="function"&&(io===null?io=new Set([this]):io.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function ig(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new X3;var l=new Set;o.set(t,l)}else l=o.get(t),l===void 0&&(l=new Set,o.set(t,l));l.has(n)||(l.add(n),e=hw.bind(null,e,t,n),t.then(e,e))}function og(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ag(e,t,n,o,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xi(-1,1),t.tag=2,ro(n,t,1))),n.lanes|=1),e)}var J3=Ei.ReactCurrentOwner,Vn=!1;function Bn(e,t,n,o){t.child=e===null?zy(t,null,n,o):ds(t,e.child,n,o)}function sg(e,t,n,o,l){n=n.render;var c=t.ref;return ss(t,l),o=y0(e,t,n,o,c,l),n=v0(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ki(e,t,l)):(Ot&&n&&a0(t),t.flags|=1,Bn(e,t,o,l),t.child)}function lg(e,t,n,o,l){if(e===null){var c=n.type;return typeof c=="function"&&!P0(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,dv(e,t,c,o,l)):(e=Ec(n.type,null,o,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&l)){var f=c.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(f,o)&&e.ref===t.ref)return ki(e,t,l)}return t.flags|=1,e=ao(c,o),e.ref=t.ref,e.return=t,t.child=e}function dv(e,t,n,o,l){if(e!==null){var c=e.memoizedProps;if(Nl(c,o)&&e.ref===t.ref)if(Vn=!1,t.pendingProps=o=c,(e.lanes&l)!==0)e.flags&131072&&(Vn=!0);else return t.lanes=e.lanes,ki(e,t,l)}return ip(e,t,n,o,l)}function fv(e,t,n){var o=t.pendingProps,l=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(es,Xn),Xn|=n;else{if(!(n&1073741824))return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,St(es,Xn),Xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:n,St(es,Xn),Xn|=o}else c!==null?(o=c.baseLanes|n,t.memoizedState=null):o=n,St(es,Xn),Xn|=o;return Bn(e,t,l,n),t.child}function pv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ip(e,t,n,o,l){var c=Hn(n)?Wo:En.current;return c=cs(t,c),ss(t,l),n=y0(e,t,n,o,c,l),o=v0(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ki(e,t,l)):(Ot&&o&&a0(t),t.flags|=1,Bn(e,t,n,l),t.child)}function ug(e,t,n,o,l){if(Hn(n)){var c=!0;zc(t)}else c=!1;if(ss(t,l),t.stateNode===null)Lc(e,t),uv(t,n,o),np(t,n,o,l),o=!0;else if(e===null){var f=t.stateNode,v=t.memoizedProps;f.props=v;var m=f.context,w=n.contextType;typeof w=="object"&&w!==null?w=xr(w):(w=Hn(n)?Wo:En.current,w=cs(t,w));var C=n.getDerivedStateFromProps,S=typeof C=="function"||typeof f.getSnapshotBeforeUpdate=="function";S||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==o||m!==w)&&rg(t,f,o,w),Gi=!1;var M=t.memoizedState;f.state=M,Hc(t,o,f,l),m=t.memoizedState,v!==o||M!==m||Gn.current||Gi?(typeof C=="function"&&(tp(t,n,C,o),m=t.memoizedState),(v=Gi||ng(t,n,v,o,M,m,w))?(S||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=m),f.props=o,f.state=m,f.context=w,o=v):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,$y(e,t),v=t.memoizedProps,w=t.type===t.elementType?v:Pr(t.type,v),f.props=w,S=t.pendingProps,M=f.context,m=n.contextType,typeof m=="object"&&m!==null?m=xr(m):(m=Hn(n)?Wo:En.current,m=cs(t,m));var z=n.getDerivedStateFromProps;(C=typeof z=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==S||M!==m)&&rg(t,f,o,m),Gi=!1,M=t.memoizedState,f.state=M,Hc(t,o,f,l);var $=t.memoizedState;v!==S||M!==$||Gn.current||Gi?(typeof z=="function"&&(tp(t,n,z,o),$=t.memoizedState),(w=Gi||ng(t,n,w,o,M,$,m)||!1)?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,$,m),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,$,m)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=$),f.props=o,f.state=$,f.context=m,o=w):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),o=!1)}return op(e,t,n,o,c,l)}function op(e,t,n,o,l,c){pv(e,t);var f=(t.flags&128)!==0;if(!o&&!f)return l&&Km(t,n,!1),ki(e,t,c);o=t.stateNode,J3.current=t;var v=f&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&f?(t.child=ds(t,e.child,null,c),t.child=ds(t,null,v,c)):Bn(e,t,v,c),t.memoizedState=o.state,l&&Km(t,n,!0),t.child}function mv(e){var t=e.stateNode;t.pendingContext?Wm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wm(e,t.context,!1),p0(e,t.containerInfo)}function cg(e,t,n,o,l){return hs(),l0(l),t.flags|=256,Bn(e,t,n,o),t.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function sp(e){return{baseLanes:e,cachePool:null,transitions:null}}function gv(e,t,n){var o=t.pendingProps,l=It.current,c=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),St(It,l&1),e===null)return Qf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=o.children,e=o.fallback,c?(o=t.mode,c=t.child,f={mode:"hidden",children:f},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=f):c=_h(f,o,0,null),e=Go(e,o,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=sp(n),t.memoizedState=ap,e):b0(t,f));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return Q3(e,t,f,o,v,l,n);if(c){c=o.fallback,f=t.mode,l=e.child,v=l.sibling;var m={mode:"hidden",children:o.children};return!(f&1)&&t.child!==l?(o=t.child,o.childLanes=0,o.pendingProps=m,t.deletions=null):(o=ao(l,m),o.subtreeFlags=l.subtreeFlags&14680064),v!==null?c=ao(v,c):(c=Go(c,f,n,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,f=e.child.memoizedState,f=f===null?sp(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},c.memoizedState=f,c.childLanes=e.childLanes&~n,t.memoizedState=ap,o}return c=e.child,e=c.sibling,o=ao(c,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function b0(e,t){return t=_h({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uc(e,t,n,o){return o!==null&&l0(o),ds(t,e.child,null,n),e=b0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q3(e,t,n,o,l,c,f){if(n)return t.flags&256?(t.flags&=-257,o=cf(Error(Le(422))),uc(e,t,f,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,l=t.mode,o=_h({mode:"visible",children:o.children},l,0,null),c=Go(c,l,f,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,t.mode&1&&ds(t,e.child,null,f),t.child.memoizedState=sp(f),t.memoizedState=ap,c);if(!(t.mode&1))return uc(e,t,f,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var v=o.dgst;return o=v,c=Error(Le(419)),o=cf(c,o,void 0),uc(e,t,f,o)}if(v=(f&e.childLanes)!==0,Vn||v){if(o=sn,o!==null){switch(f&-f){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(o.suspendedLanes|f)?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,Li(e,l),jr(o,e,l,-1))}return S0(),o=cf(Error(Le(421))),uc(e,t,f,o)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=dw.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,Jn=no(l.nextSibling),tr=t,Ot=!0,Br=null,e!==null&&(gr[_r++]=yi,gr[_r++]=vi,gr[_r++]=Ko,yi=e.id,vi=e.overflow,Ko=t),t=b0(t,o.children),t.flags|=4096,t)}function hg(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ep(e.return,t,n)}function hf(e,t,n,o,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=n,c.tailMode=l)}function _v(e,t,n){var o=t.pendingProps,l=o.revealOrder,c=o.tail;if(Bn(e,t,o.children,n),o=It.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hg(e,n,t);else if(e.tag===19)hg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(St(It,o),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Zc(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),hf(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Zc(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}hf(t,!0,n,null,c);break;case"together":hf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ki(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Le(153));if(t.child!==null){for(e=t.child,n=ao(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ao(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ew(e,t,n){switch(t.tag){case 3:mv(t),hs();break;case 5:Vy(t);break;case 1:Hn(t.type)&&zc(t);break;case 4:p0(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;St(Vc,o._currentValue),o._currentValue=l;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(St(It,It.current&1),t.flags|=128,null):n&t.child.childLanes?gv(e,t,n):(St(It,It.current&1),e=ki(e,t,n),e!==null?e.sibling:null);St(It,It.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return _v(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),St(It,It.current),o)break;return null;case 22:case 23:return t.lanes=0,fv(e,t,n)}return ki(e,t,n)}var yv,lp,vv,xv;yv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lp=function(){};vv=function(e,t,n,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,Uo(Yr.current);var c=null;switch(n){case"input":l=Tf(e,l),o=Tf(e,o),c=[];break;case"select":l=zt({},l,{value:void 0}),o=zt({},o,{value:void 0}),c=[];break;case"textarea":l=jf(e,l),o=jf(e,o),c=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ic)}Of(n,o);var f;n=null;for(w in l)if(!o.hasOwnProperty(w)&&l.hasOwnProperty(w)&&l[w]!=null)if(w==="style"){var v=l[w];for(f in v)v.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Pl.hasOwnProperty(w)?c||(c=[]):(c=c||[]).push(w,null));for(w in o){var m=o[w];if(v=l!=null?l[w]:void 0,o.hasOwnProperty(w)&&m!==v&&(m!=null||v!=null))if(w==="style")if(v){for(f in v)!v.hasOwnProperty(f)||m&&m.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in m)m.hasOwnProperty(f)&&v[f]!==m[f]&&(n||(n={}),n[f]=m[f])}else n||(c||(c=[]),c.push(w,n)),n=m;else w==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,v=v?v.__html:void 0,m!=null&&v!==m&&(c=c||[]).push(w,m)):w==="children"?typeof m!="string"&&typeof m!="number"||(c=c||[]).push(w,""+m):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(w)?(m!=null&&w==="onScroll"&&Tt("scroll",e),c||v===m||(c=[])):(c=c||[]).push(w,m))}n&&(c=c||[]).push("style",n);var w=c;(t.updateQueue=w)&&(t.flags|=4)}};xv=function(e,t,n,o){n!==o&&(t.flags|=4)};function ul(e,t){if(!Ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function tw(e,t,n){var o=t.pendingProps;switch(s0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(t),null;case 1:return Hn(t.type)&&Fc(),kn(t),null;case 3:return o=t.stateNode,fs(),At(Gn),At(En),g0(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(sc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Br!==null&&(gp(Br),Br=null))),lp(e,t),kn(t),null;case 5:m0(t);var l=Uo(Ul.current);if(n=t.type,e!==null&&t.stateNode!=null)vv(e,t,n,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(Le(166));return kn(t),null}if(e=Uo(Yr.current),sc(t)){o=t.stateNode,n=t.type;var c=t.memoizedProps;switch(o[Kr]=t,o[Fl]=c,e=(t.mode&1)!==0,n){case"dialog":Tt("cancel",o),Tt("close",o);break;case"iframe":case"object":case"embed":Tt("load",o);break;case"video":case"audio":for(l=0;l<gl.length;l++)Tt(gl[l],o);break;case"source":Tt("error",o);break;case"img":case"image":case"link":Tt("error",o),Tt("load",o);break;case"details":Tt("toggle",o);break;case"input":xm(o,c),Tt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Tt("invalid",o);break;case"textarea":bm(o,c),Tt("invalid",o)}Of(n,c),l=null;for(var f in c)if(c.hasOwnProperty(f)){var v=c[f];f==="children"?typeof v=="string"?o.textContent!==v&&(c.suppressHydrationWarning!==!0&&ac(o.textContent,v,e),l=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(c.suppressHydrationWarning!==!0&&ac(o.textContent,v,e),l=["children",""+v]):Pl.hasOwnProperty(f)&&v!=null&&f==="onScroll"&&Tt("scroll",o)}switch(n){case"input":Ju(o),wm(o,c,!0);break;case"textarea":Ju(o),Lm(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Ic)}o=l,t.updateQueue=o,o!==null&&(t.flags|=4)}else{f=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=f.createElement(n,{is:o.is}):(e=f.createElement(n),n==="select"&&(f=e,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):e=f.createElementNS(e,n),e[Kr]=t,e[Fl]=o,yv(e,t,!1,!1),t.stateNode=e;e:{switch(f=Nf(n,o),n){case"dialog":Tt("cancel",e),Tt("close",e),l=o;break;case"iframe":case"object":case"embed":Tt("load",e),l=o;break;case"video":case"audio":for(l=0;l<gl.length;l++)Tt(gl[l],e);l=o;break;case"source":Tt("error",e),l=o;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),l=o;break;case"details":Tt("toggle",e),l=o;break;case"input":xm(e,o),l=Tf(e,o),Tt("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=zt({},o,{value:void 0}),Tt("invalid",e);break;case"textarea":bm(e,o),l=jf(e,o),Tt("invalid",e);break;default:l=o}Of(n,l),v=l;for(c in v)if(v.hasOwnProperty(c)){var m=v[c];c==="style"?X_(e,m):c==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&q_(e,m)):c==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&Tl(e,m):typeof m=="number"&&Tl(e,""+m):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pl.hasOwnProperty(c)?m!=null&&c==="onScroll"&&Tt("scroll",e):m!=null&&Zp(e,c,m,f))}switch(n){case"input":Ju(e),wm(e,o,!1);break;case"textarea":Ju(e),Lm(e);break;case"option":o.value!=null&&e.setAttribute("value",""+uo(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?rs(e,!!o.multiple,c,!1):o.defaultValue!=null&&rs(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ic)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kn(t),null;case 6:if(e&&t.stateNode!=null)xv(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(Le(166));if(n=Uo(Ul.current),Uo(Yr.current),sc(t)){if(o=t.stateNode,n=t.memoizedProps,o[Kr]=t,(c=o.nodeValue!==n)&&(e=tr,e!==null))switch(e.tag){case 3:ac(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ac(o.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Kr]=t,t.stateNode=o}return kn(t),null;case 13:if(At(It),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ot&&Jn!==null&&t.mode&1&&!(t.flags&128))Iy(),hs(),t.flags|=98560,c=!1;else if(c=sc(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(Le(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(Le(317));c[Kr]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kn(t),c=!1}else Br!==null&&(gp(Br),Br=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||It.current&1?en===0&&(en=3):S0())),t.updateQueue!==null&&(t.flags|=4),kn(t),null);case 4:return fs(),lp(e,t),e===null&&Rl(t.stateNode.containerInfo),kn(t),null;case 10:return h0(t.type._context),kn(t),null;case 17:return Hn(t.type)&&Fc(),kn(t),null;case 19:if(At(It),c=t.memoizedState,c===null)return kn(t),null;if(o=(t.flags&128)!==0,f=c.rendering,f===null)if(o)ul(c,!1);else{if(en!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=Zc(e),f!==null){for(t.flags|=128,ul(c,!1),o=f.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)c=n,e=o,c.flags&=14680066,f=c.alternate,f===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,e=f.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return St(It,It.current&1|2),t.child}e=e.sibling}c.tail!==null&&Zt()>ms&&(t.flags|=128,o=!0,ul(c,!1),t.lanes=4194304)}else{if(!o)if(e=Zc(f),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ul(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ot)return kn(t),null}else 2*Zt()-c.renderingStartTime>ms&&n!==1073741824&&(t.flags|=128,o=!0,ul(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(n=c.last,n!==null?n.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Zt(),t.sibling=null,n=It.current,St(It,o?n&1|2:n&1),t):(kn(t),null);case 22:case 23:return M0(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Xn&1073741824&&(kn(t),t.subtreeFlags&6&&(t.flags|=8192)):kn(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function nw(e,t){switch(s0(t),t.tag){case 1:return Hn(t.type)&&Fc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fs(),At(Gn),At(En),g0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return m0(t),null;case 13:if(At(It),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return At(It),null;case 4:return fs(),null;case 10:return h0(t.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var cc=!1,Cn=!1,rw=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Qa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Gt(e,t,o)}else n.current=null}function up(e,t,n){try{n()}catch(o){Gt(e,t,o)}}var dg=!1;function iw(e,t){if(Zf=Oc,e=Cy(),o0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var l=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var f=0,v=-1,m=-1,w=0,C=0,S=e,M=null;t:for(;;){for(var z;S!==n||l!==0&&S.nodeType!==3||(v=f+l),S!==c||o!==0&&S.nodeType!==3||(m=f+o),S.nodeType===3&&(f+=S.nodeValue.length),(z=S.firstChild)!==null;)M=S,S=z;for(;;){if(S===e)break t;if(M===n&&++w===l&&(v=f),M===c&&++C===o&&(m=f),(z=S.nextSibling)!==null)break;S=M,M=S.parentNode}S=z}n=v===-1||m===-1?null:{start:v,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wf={focusedElem:e,selectionRange:n},Oc=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var $=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if($!==null){var Z=$.memoizedProps,X=$.memoizedState,F=t.stateNode,D=F.getSnapshotBeforeUpdate(t.elementType===t.type?Z:Pr(t.type,Z),X);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(Q){Gt(t,t.return,Q)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return $=dg,dg=!1,$}function kl(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&up(t,n,c)}l=l.next}while(l!==o)}}function mh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function cp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wv(e){var t=e.alternate;t!==null&&(e.alternate=null,wv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[Fl],delete t[Yf],delete t[z3],delete t[U3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bv(e){return e.tag===5||e.tag===3||e.tag===4}function fg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hp(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ic));else if(o!==4&&(e=e.child,e!==null))for(hp(e,t,n),e=e.sibling;e!==null;)hp(e,t,n),e=e.sibling}function dp(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(dp(e,t,n),e=e.sibling;e!==null;)dp(e,t,n),e=e.sibling}var pn=null,Tr=!1;function $i(e,t,n){for(n=n.child;n!==null;)Lv(e,t,n),n=n.sibling}function Lv(e,t,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(sh,n)}catch{}switch(n.tag){case 5:Cn||Qa(n,t);case 6:var o=pn,l=Tr;pn=null,$i(e,t,n),pn=o,Tr=l,pn!==null&&(Tr?(e=pn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pn.removeChild(n.stateNode));break;case 18:pn!==null&&(Tr?(e=pn,n=n.stateNode,e.nodeType===8?rf(e.parentNode,n):e.nodeType===1&&rf(e,n),Dl(e)):rf(pn,n.stateNode));break;case 4:o=pn,l=Tr,pn=n.stateNode.containerInfo,Tr=!0,$i(e,t,n),pn=o,Tr=l;break;case 0:case 11:case 14:case 15:if(!Cn&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var c=l,f=c.destroy;c=c.tag,f!==void 0&&(c&2||c&4)&&up(n,t,f),l=l.next}while(l!==o)}$i(e,t,n);break;case 1:if(!Cn&&(Qa(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(v){Gt(n,t,v)}$i(e,t,n);break;case 21:$i(e,t,n);break;case 22:n.mode&1?(Cn=(o=Cn)||n.memoizedState!==null,$i(e,t,n),Cn=o):$i(e,t,n);break;default:$i(e,t,n)}}function pg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rw),t.forEach(function(o){var l=fw.bind(null,e,o);n.has(o)||(n.add(o),o.then(l,l))})}}function Mr(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];try{var c=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 5:pn=v.stateNode,Tr=!1;break e;case 3:pn=v.stateNode.containerInfo,Tr=!0;break e;case 4:pn=v.stateNode.containerInfo,Tr=!0;break e}v=v.return}if(pn===null)throw Error(Le(160));Lv(c,f,l),pn=null,Tr=!1;var m=l.alternate;m!==null&&(m.return=null),l.return=null}catch(w){Gt(l,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kv(t,e),t=t.sibling}function kv(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mr(t,e),Hr(e),o&4){try{kl(3,e,e.return),mh(3,e)}catch(Z){Gt(e,e.return,Z)}try{kl(5,e,e.return)}catch(Z){Gt(e,e.return,Z)}}break;case 1:Mr(t,e),Hr(e),o&512&&n!==null&&Qa(n,n.return);break;case 5:if(Mr(t,e),Hr(e),o&512&&n!==null&&Qa(n,n.return),e.flags&32){var l=e.stateNode;try{Tl(l,"")}catch(Z){Gt(e,e.return,Z)}}if(o&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,f=n!==null?n.memoizedProps:c,v=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{v==="input"&&c.type==="radio"&&c.name!=null&&Z_(l,c),Nf(v,f);var w=Nf(v,c);for(f=0;f<m.length;f+=2){var C=m[f],S=m[f+1];C==="style"?X_(l,S):C==="dangerouslySetInnerHTML"?q_(l,S):C==="children"?Tl(l,S):Zp(l,C,S,w)}switch(v){case"input":Bf(l,c);break;case"textarea":W_(l,c);break;case"select":var M=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var z=c.value;z!=null?rs(l,!!c.multiple,z,!1):M!==!!c.multiple&&(c.defaultValue!=null?rs(l,!!c.multiple,c.defaultValue,!0):rs(l,!!c.multiple,c.multiple?[]:"",!1))}l[Fl]=c}catch(Z){Gt(e,e.return,Z)}}break;case 6:if(Mr(t,e),Hr(e),o&4){if(e.stateNode===null)throw Error(Le(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(Z){Gt(e,e.return,Z)}}break;case 3:if(Mr(t,e),Hr(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(t.containerInfo)}catch(Z){Gt(e,e.return,Z)}break;case 4:Mr(t,e),Hr(e);break;case 13:Mr(t,e),Hr(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(C0=Zt())),o&4&&pg(e);break;case 22:if(C=n!==null&&n.memoizedState!==null,e.mode&1?(Cn=(w=Cn)||C,Mr(t,e),Cn=w):Mr(t,e),Hr(e),o&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!C&&e.mode&1)for(Ae=e,C=e.child;C!==null;){for(S=Ae=C;Ae!==null;){switch(M=Ae,z=M.child,M.tag){case 0:case 11:case 14:case 15:kl(4,M,M.return);break;case 1:Qa(M,M.return);var $=M.stateNode;if(typeof $.componentWillUnmount=="function"){o=M,n=M.return;try{t=o,$.props=t.memoizedProps,$.state=t.memoizedState,$.componentWillUnmount()}catch(Z){Gt(o,n,Z)}}break;case 5:Qa(M,M.return);break;case 22:if(M.memoizedState!==null){gg(S);continue}}z!==null?(z.return=M,Ae=z):gg(S)}C=C.sibling}e:for(C=null,S=e;;){if(S.tag===5){if(C===null){C=S;try{l=S.stateNode,w?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(v=S.stateNode,m=S.memoizedProps.style,f=m!=null&&m.hasOwnProperty("display")?m.display:null,v.style.display=Y_("display",f))}catch(Z){Gt(e,e.return,Z)}}}else if(S.tag===6){if(C===null)try{S.stateNode.nodeValue=w?"":S.memoizedProps}catch(Z){Gt(e,e.return,Z)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;C===S&&(C=null),S=S.return}C===S&&(C=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Mr(t,e),Hr(e),o&4&&pg(e);break;case 21:break;default:Mr(t,e),Hr(e)}}function Hr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bv(n)){var o=n;break e}n=n.return}throw Error(Le(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(Tl(l,""),o.flags&=-33);var c=fg(e);dp(e,c,l);break;case 3:case 4:var f=o.stateNode.containerInfo,v=fg(e);hp(e,v,f);break;default:throw Error(Le(161))}}catch(m){Gt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ow(e,t,n){Ae=e,Cv(e)}function Cv(e,t,n){for(var o=(e.mode&1)!==0;Ae!==null;){var l=Ae,c=l.child;if(l.tag===22&&o){var f=l.memoizedState!==null||cc;if(!f){var v=l.alternate,m=v!==null&&v.memoizedState!==null||Cn;v=cc;var w=Cn;if(cc=f,(Cn=m)&&!w)for(Ae=l;Ae!==null;)f=Ae,m=f.child,f.tag===22&&f.memoizedState!==null?_g(l):m!==null?(m.return=f,Ae=m):_g(l);for(;c!==null;)Ae=c,Cv(c),c=c.sibling;Ae=l,cc=v,Cn=w}mg(e)}else l.subtreeFlags&8772&&c!==null?(c.return=l,Ae=c):mg(e)}}function mg(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Cn||mh(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Cn)if(n===null)o.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Pr(t.type,n.memoizedProps);o.componentDidUpdate(l,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Qm(t,c,o);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qm(t,f,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var C=w.memoizedState;if(C!==null){var S=C.dehydrated;S!==null&&Dl(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Cn||t.flags&512&&cp(t)}catch(M){Gt(t,t.return,M)}}if(t===e){Ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function gg(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function _g(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mh(4,t)}catch(m){Gt(t,n,m)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var l=t.return;try{o.componentDidMount()}catch(m){Gt(t,l,m)}}var c=t.return;try{cp(t)}catch(m){Gt(t,c,m)}break;case 5:var f=t.return;try{cp(t)}catch(m){Gt(t,f,m)}}}catch(m){Gt(t,t.return,m)}if(t===e){Ae=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Ae=v;break}Ae=t.return}}var aw=Math.ceil,qc=Ei.ReactCurrentDispatcher,L0=Ei.ReactCurrentOwner,vr=Ei.ReactCurrentBatchConfig,ft=0,sn=null,Yt=null,gn=0,Xn=0,es=po(0),en=0,Hl=null,Yo=0,gh=0,k0=0,Cl=null,$n=null,C0=0,ms=1/0,pi=null,Yc=!1,fp=null,io=null,hc=!1,Yi=null,Xc=0,El=0,pp=null,kc=-1,Cc=0;function Dn(){return ft&6?Zt():kc!==-1?kc:kc=Zt()}function oo(e){return e.mode&1?ft&2&&gn!==0?gn&-gn:V3.transition!==null?(Cc===0&&(Cc=uy()),Cc):(e=_t,e!==0||(e=window.event,e=e===void 0?16:gy(e.type)),e):1}function jr(e,t,n,o){if(50<El)throw El=0,pp=null,Error(Le(185));eu(e,n,o),(!(ft&2)||e!==sn)&&(e===sn&&(!(ft&2)&&(gh|=n),en===4&&Ki(e,gn)),Zn(e,o),n===1&&ft===0&&!(t.mode&1)&&(ms=Zt()+500,dh&&mo()))}function Zn(e,t){var n=e.callbackNode;V4(e,t);var o=Dc(e,e===sn?gn:0);if(o===0)n!==null&&Em(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Em(n),t===1)e.tag===0?$3(yg.bind(null,e)):Oy(yg.bind(null,e)),I3(function(){!(ft&6)&&mo()}),n=null;else{switch(cy(o)){case 1:n=Xp;break;case 4:n=sy;break;case 16:n=jc;break;case 536870912:n=ly;break;default:n=jc}n=jv(n,Ev.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ev(e,t){if(kc=-1,Cc=0,ft&6)throw Error(Le(327));var n=e.callbackNode;if(ls()&&e.callbackNode!==n)return null;var o=Dc(e,e===sn?gn:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Jc(e,o);else{t=o;var l=ft;ft|=2;var c=Sv();(sn!==e||gn!==t)&&(pi=null,ms=Zt()+500,Vo(e,t));do try{uw();break}catch(v){Mv(e,v)}while(1);c0(),qc.current=c,ft=l,Yt!==null?t=0:(sn=null,gn=0,t=en)}if(t!==0){if(t===2&&(l=Uf(e),l!==0&&(o=l,t=mp(e,l))),t===1)throw n=Hl,Vo(e,0),Ki(e,o),Zn(e,Zt()),n;if(t===6)Ki(e,o);else{if(l=e.current.alternate,!(o&30)&&!sw(l)&&(t=Jc(e,o),t===2&&(c=Uf(e),c!==0&&(o=c,t=mp(e,c))),t===1))throw n=Hl,Vo(e,0),Ki(e,o),Zn(e,Zt()),n;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(Le(345));case 2:No(e,$n,pi);break;case 3:if(Ki(e,o),(o&130023424)===o&&(t=C0+500-Zt(),10<t)){if(Dc(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){Dn(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=qf(No.bind(null,e,$n,pi),t);break}No(e,$n,pi);break;case 4:if(Ki(e,o),(o&4194240)===o)break;for(t=e.eventTimes,l=-1;0<o;){var f=31-Ar(o);c=1<<f,f=t[f],f>l&&(l=f),o&=~c}if(o=l,o=Zt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*aw(o/1960))-o,10<o){e.timeoutHandle=qf(No.bind(null,e,$n,pi),o);break}No(e,$n,pi);break;case 5:No(e,$n,pi);break;default:throw Error(Le(329))}}}return Zn(e,Zt()),e.callbackNode===n?Ev.bind(null,e):null}function mp(e,t){var n=Cl;return e.current.memoizedState.isDehydrated&&(Vo(e,t).flags|=256),e=Jc(e,t),e!==2&&(t=$n,$n=n,t!==null&&gp(t)),e}function gp(e){$n===null?$n=e:$n.push.apply($n,e)}function sw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var l=n[o],c=l.getSnapshot;l=l.value;try{if(!Dr(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ki(e,t){for(t&=~k0,t&=~gh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ar(t),o=1<<n;e[n]=-1,t&=~o}}function yg(e){if(ft&6)throw Error(Le(327));ls();var t=Dc(e,0);if(!(t&1))return Zn(e,Zt()),null;var n=Jc(e,t);if(e.tag!==0&&n===2){var o=Uf(e);o!==0&&(t=o,n=mp(e,o))}if(n===1)throw n=Hl,Vo(e,0),Ki(e,t),Zn(e,Zt()),n;if(n===6)throw Error(Le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,No(e,$n,pi),Zn(e,Zt()),null}function E0(e,t){var n=ft;ft|=1;try{return e(t)}finally{ft=n,ft===0&&(ms=Zt()+500,dh&&mo())}}function Xo(e){Yi!==null&&Yi.tag===0&&!(ft&6)&&ls();var t=ft;ft|=1;var n=vr.transition,o=_t;try{if(vr.transition=null,_t=1,e)return e()}finally{_t=o,vr.transition=n,ft=t,!(ft&6)&&mo()}}function M0(){Xn=es.current,At(es)}function Vo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,R3(n)),Yt!==null)for(n=Yt.return;n!==null;){var o=n;switch(s0(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Fc();break;case 3:fs(),At(Gn),At(En),g0();break;case 5:m0(o);break;case 4:fs();break;case 13:At(It);break;case 19:At(It);break;case 10:h0(o.type._context);break;case 22:case 23:M0()}n=n.return}if(sn=e,Yt=e=ao(e.current,null),gn=Xn=t,en=0,Hl=null,k0=gh=Yo=0,$n=Cl=null,zo!==null){for(t=0;t<zo.length;t++)if(n=zo[t],o=n.interleaved,o!==null){n.interleaved=null;var l=o.next,c=n.pending;if(c!==null){var f=c.next;c.next=l,o.next=f}n.pending=o}zo=null}return e}function Mv(e,t){do{var n=Yt;try{if(c0(),wc.current=Kc,Wc){for(var o=Ft.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Wc=!1}if(qo=0,an=Qt=Ft=null,Ll=!1,$l=0,L0.current=null,n===null||n.return===null){en=1,Hl=t,Yt=null;break}e:{var c=e,f=n.return,v=n,m=t;if(t=gn,v.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var w=m,C=v,S=C.tag;if(!(C.mode&1)&&(S===0||S===11||S===15)){var M=C.alternate;M?(C.updateQueue=M.updateQueue,C.memoizedState=M.memoizedState,C.lanes=M.lanes):(C.updateQueue=null,C.memoizedState=null)}var z=og(f);if(z!==null){z.flags&=-257,ag(z,f,v,c,t),z.mode&1&&ig(c,w,t),t=z,m=w;var $=t.updateQueue;if($===null){var Z=new Set;Z.add(m),t.updateQueue=Z}else $.add(m);break e}else{if(!(t&1)){ig(c,w,t),S0();break e}m=Error(Le(426))}}else if(Ot&&v.mode&1){var X=og(f);if(X!==null){!(X.flags&65536)&&(X.flags|=256),ag(X,f,v,c,t),l0(ps(m,v));break e}}c=m=ps(m,v),en!==4&&(en=2),Cl===null?Cl=[c]:Cl.push(c),c=f;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var F=cv(c,m,t);Jm(c,F);break e;case 1:v=m;var D=c.type,I=c.stateNode;if(!(c.flags&128)&&(typeof D.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(io===null||!io.has(I)))){c.flags|=65536,t&=-t,c.lanes|=t;var Q=hv(c,v,t);Jm(c,Q);break e}}c=c.return}while(c!==null)}Tv(n)}catch(ne){t=ne,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(1)}function Sv(){var e=qc.current;return qc.current=Kc,e===null?Kc:e}function S0(){(en===0||en===3||en===2)&&(en=4),sn===null||!(Yo&268435455)&&!(gh&268435455)||Ki(sn,gn)}function Jc(e,t){var n=ft;ft|=2;var o=Sv();(sn!==e||gn!==t)&&(pi=null,Vo(e,t));do try{lw();break}catch(l){Mv(e,l)}while(1);if(c0(),ft=n,qc.current=o,Yt!==null)throw Error(Le(261));return sn=null,gn=0,en}function lw(){for(;Yt!==null;)Pv(Yt)}function uw(){for(;Yt!==null&&!D4();)Pv(Yt)}function Pv(e){var t=Av(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,t===null?Tv(e):Yt=t,L0.current=null}function Tv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nw(n,t),n!==null){n.flags&=32767,Yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{en=6,Yt=null;return}}else if(n=tw(n,t,Xn),n!==null){Yt=n;return}if(t=t.sibling,t!==null){Yt=t;return}Yt=t=e}while(t!==null);en===0&&(en=5)}function No(e,t,n){var o=_t,l=vr.transition;try{vr.transition=null,_t=1,cw(e,t,n,o)}finally{vr.transition=l,_t=o}return null}function cw(e,t,n,o){do ls();while(Yi!==null);if(ft&6)throw Error(Le(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(G4(e,c),e===sn&&(Yt=sn=null,gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hc||(hc=!0,jv(jc,function(){return ls(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=vr.transition,vr.transition=null;var f=_t;_t=1;var v=ft;ft|=4,L0.current=null,iw(e,n),kv(n,e),T3(Wf),Oc=!!Zf,Wf=Zf=null,e.current=n,ow(n),O4(),ft=v,_t=f,vr.transition=c}else e.current=n;if(hc&&(hc=!1,Yi=e,Xc=l),c=e.pendingLanes,c===0&&(io=null),I4(n.stateNode),Zn(e,Zt()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],o(l.value,{componentStack:l.stack,digest:l.digest});if(Yc)throw Yc=!1,e=fp,fp=null,e;return Xc&1&&e.tag!==0&&ls(),c=e.pendingLanes,c&1?e===pp?El++:(El=0,pp=e):El=0,mo(),null}function ls(){if(Yi!==null){var e=cy(Xc),t=vr.transition,n=_t;try{if(vr.transition=null,_t=16>e?16:e,Yi===null)var o=!1;else{if(e=Yi,Yi=null,Xc=0,ft&6)throw Error(Le(331));var l=ft;for(ft|=4,Ae=e.current;Ae!==null;){var c=Ae,f=c.child;if(Ae.flags&16){var v=c.deletions;if(v!==null){for(var m=0;m<v.length;m++){var w=v[m];for(Ae=w;Ae!==null;){var C=Ae;switch(C.tag){case 0:case 11:case 15:kl(8,C,c)}var S=C.child;if(S!==null)S.return=C,Ae=S;else for(;Ae!==null;){C=Ae;var M=C.sibling,z=C.return;if(wv(C),C===w){Ae=null;break}if(M!==null){M.return=z,Ae=M;break}Ae=z}}}var $=c.alternate;if($!==null){var Z=$.child;if(Z!==null){$.child=null;do{var X=Z.sibling;Z.sibling=null,Z=X}while(Z!==null)}}Ae=c}}if(c.subtreeFlags&2064&&f!==null)f.return=c,Ae=f;else e:for(;Ae!==null;){if(c=Ae,c.flags&2048)switch(c.tag){case 0:case 11:case 15:kl(9,c,c.return)}var F=c.sibling;if(F!==null){F.return=c.return,Ae=F;break e}Ae=c.return}}var D=e.current;for(Ae=D;Ae!==null;){f=Ae;var I=f.child;if(f.subtreeFlags&2064&&I!==null)I.return=f,Ae=I;else e:for(f=D;Ae!==null;){if(v=Ae,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:mh(9,v)}}catch(ne){Gt(v,v.return,ne)}if(v===f){Ae=null;break e}var Q=v.sibling;if(Q!==null){Q.return=v.return,Ae=Q;break e}Ae=v.return}}if(ft=l,mo(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(sh,e)}catch{}o=!0}return o}finally{_t=n,vr.transition=t}}return!1}function vg(e,t,n){t=ps(n,t),t=cv(e,t,1),e=ro(e,t,1),t=Dn(),e!==null&&(eu(e,1,t),Zn(e,t))}function Gt(e,t,n){if(e.tag===3)vg(e,e,n);else for(;t!==null;){if(t.tag===3){vg(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(io===null||!io.has(o))){e=ps(n,e),e=hv(t,e,1),t=ro(t,e,1),e=Dn(),t!==null&&(eu(t,1,e),Zn(t,e));break}}t=t.return}}function hw(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Dn(),e.pingedLanes|=e.suspendedLanes&n,sn===e&&(gn&n)===n&&(en===4||en===3&&(gn&130023424)===gn&&500>Zt()-C0?Vo(e,0):k0|=n),Zn(e,t)}function Bv(e,t){t===0&&(e.mode&1?(t=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):t=1);var n=Dn();e=Li(e,t),e!==null&&(eu(e,t,n),Zn(e,n))}function dw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bv(e,n)}function fw(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(Le(314))}o!==null&&o.delete(t),Bv(e,n)}var Av;Av=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Vn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vn=!1,ew(e,t,n);Vn=!!(e.flags&131072)}else Vn=!1,Ot&&t.flags&1048576&&Ny(t,$c,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Lc(e,t),e=t.pendingProps;var l=cs(t,En.current);ss(t,n),l=y0(null,t,o,e,l,n);var c=v0();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(o)?(c=!0,zc(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,f0(t),l.updater=ph,t.stateNode=l,l._reactInternals=t,np(t,o,e,n),t=op(null,t,o,!0,c,n)):(t.tag=0,Ot&&c&&a0(t),Bn(null,t,l,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Lc(e,t),e=t.pendingProps,l=o._init,o=l(o._payload),t.type=o,l=t.tag=mw(o),e=Pr(o,e),l){case 0:t=ip(null,t,o,e,n);break e;case 1:t=ug(null,t,o,e,n);break e;case 11:t=sg(null,t,o,e,n);break e;case 14:t=lg(null,t,o,Pr(o.type,e),n);break e}throw Error(Le(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Pr(o,l),ip(e,t,o,l,n);case 1:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Pr(o,l),ug(e,t,o,l,n);case 3:e:{if(mv(t),e===null)throw Error(Le(387));o=t.pendingProps,c=t.memoizedState,l=c.element,$y(e,t),Hc(t,o,null,n);var f=t.memoizedState;if(o=f.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=ps(Error(Le(423)),t),t=cg(e,t,o,n,l);break e}else if(o!==l){l=ps(Error(Le(424)),t),t=cg(e,t,o,n,l);break e}else for(Jn=no(t.stateNode.containerInfo.firstChild),tr=t,Ot=!0,Br=null,n=zy(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hs(),o===l){t=ki(e,t,n);break e}Bn(e,t,o,n)}t=t.child}return t;case 5:return Vy(t),e===null&&Qf(t),o=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,f=l.children,Kf(o,l)?f=null:c!==null&&Kf(o,c)&&(t.flags|=32),pv(e,t),Bn(e,t,f,n),t.child;case 6:return e===null&&Qf(t),null;case 13:return gv(e,t,n);case 4:return p0(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ds(t,null,o,n):Bn(e,t,o,n),t.child;case 11:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Pr(o,l),sg(e,t,o,l,n);case 7:return Bn(e,t,t.pendingProps,n),t.child;case 8:return Bn(e,t,t.pendingProps.children,n),t.child;case 12:return Bn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,c=t.memoizedProps,f=l.value,St(Vc,o._currentValue),o._currentValue=f,c!==null)if(Dr(c.value,f)){if(c.children===l.children&&!Gn.current){t=ki(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var v=c.dependencies;if(v!==null){f=c.child;for(var m=v.firstContext;m!==null;){if(m.context===o){if(c.tag===1){m=xi(-1,n&-n),m.tag=2;var w=c.updateQueue;if(w!==null){w=w.shared;var C=w.pending;C===null?m.next=m:(m.next=C.next,C.next=m),w.pending=m}}c.lanes|=n,m=c.alternate,m!==null&&(m.lanes|=n),ep(c.return,n,t),v.lanes|=n;break}m=m.next}}else if(c.tag===10)f=c.type===t.type?null:c.child;else if(c.tag===18){if(f=c.return,f===null)throw Error(Le(341));f.lanes|=n,v=f.alternate,v!==null&&(v.lanes|=n),ep(f,n,t),f=c.sibling}else f=c.child;if(f!==null)f.return=c;else for(f=c;f!==null;){if(f===t){f=null;break}if(c=f.sibling,c!==null){c.return=f.return,f=c;break}f=f.return}c=f}Bn(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,ss(t,n),l=xr(l),o=o(l),t.flags|=1,Bn(e,t,o,n),t.child;case 14:return o=t.type,l=Pr(o,t.pendingProps),l=Pr(o.type,l),lg(e,t,o,l,n);case 15:return dv(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Pr(o,l),Lc(e,t),t.tag=1,Hn(o)?(e=!0,zc(t)):e=!1,ss(t,n),uv(t,o,l),np(t,o,l,n),op(null,t,o,!0,e,n);case 19:return _v(e,t,n);case 22:return fv(e,t,n)}throw Error(Le(156,t.tag))};function jv(e,t){return ay(e,t)}function pw(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(e,t,n,o){return new pw(e,t,n,o)}function P0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mw(e){if(typeof e=="function")return P0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kp)return 11;if(e===qp)return 14}return 2}function ao(e,t){var n=e.alternate;return n===null?(n=yr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,o,l,c){var f=2;if(o=e,typeof e=="function")P0(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Ga:return Go(n.children,l,c,t);case Wp:f=8,l|=8;break;case Ef:return e=yr(12,n,t,l|2),e.elementType=Ef,e.lanes=c,e;case Mf:return e=yr(13,n,t,l),e.elementType=Mf,e.lanes=c,e;case Sf:return e=yr(19,n,t,l),e.elementType=Sf,e.lanes=c,e;case V_:return _h(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U_:f=10;break e;case $_:f=9;break e;case Kp:f=11;break e;case qp:f=14;break e;case Vi:f=16,o=null;break e}throw Error(Le(130,e==null?e:typeof e,""))}return t=yr(f,n,t,l),t.elementType=e,t.type=o,t.lanes=c,t}function Go(e,t,n,o){return e=yr(7,e,o,t),e.lanes=n,e}function _h(e,t,n,o){return e=yr(22,e,o,t),e.elementType=V_,e.lanes=n,e.stateNode={isHidden:!1},e}function df(e,t,n){return e=yr(6,e,null,t),e.lanes=n,e}function ff(e,t,n){return t=yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gw(e,t,n,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function T0(e,t,n,o,l,c,f,v,m){return e=new gw(e,t,n,v,m),t===1?(t=1,c===!0&&(t|=8)):t=0,c=yr(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f0(c),e}function _w(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Va,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Dv(e){if(!e)return co;e=e._reactInternals;e:{if(ra(e)!==e||e.tag!==1)throw Error(Le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(e.tag===1){var n=e.type;if(Hn(n))return Dy(e,n,t)}return t}function Ov(e,t,n,o,l,c,f,v,m){return e=T0(n,o,!0,e,l,c,f,v,m),e.context=Dv(null),n=e.current,o=Dn(),l=oo(n),c=xi(o,l),c.callback=t??null,ro(n,c,l),e.current.lanes=l,eu(e,l,o),Zn(e,o),e}function yh(e,t,n,o){var l=t.current,c=Dn(),f=oo(l);return n=Dv(n),t.context===null?t.context=n:t.pendingContext=n,t=xi(c,f),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ro(l,t,f),e!==null&&(jr(e,l,f,c),xc(e,l,f)),f}function Qc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function B0(e,t){xg(e,t),(e=e.alternate)&&xg(e,t)}function yw(){return null}var Nv=typeof reportError=="function"?reportError:function(e){console.error(e)};function A0(e){this._internalRoot=e}vh.prototype.render=A0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Le(409));yh(e,t,null,null)};vh.prototype.unmount=A0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xo(function(){yh(null,e,null,null)}),t[bi]=null}};function vh(e){this._internalRoot=e}vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=fy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wi.length&&t!==0&&t<Wi[n].priority;n++);Wi.splice(n,0,e),n===0&&my(e)}};function j0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wg(){}function vw(e,t,n,o,l){if(l){if(typeof o=="function"){var c=o;o=function(){var w=Qc(f);c.call(w)}}var f=Ov(t,o,e,0,null,!1,!1,"",wg);return e._reactRootContainer=f,e[bi]=f.current,Rl(e.nodeType===8?e.parentNode:e),Xo(),f}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var v=o;o=function(){var w=Qc(m);v.call(w)}}var m=T0(e,0,!1,null,null,!1,!1,"",wg);return e._reactRootContainer=m,e[bi]=m.current,Rl(e.nodeType===8?e.parentNode:e),Xo(function(){yh(t,m,n,o)}),m}function wh(e,t,n,o,l){var c=n._reactRootContainer;if(c){var f=c;if(typeof l=="function"){var v=l;l=function(){var m=Qc(f);v.call(m)}}yh(t,f,e,l)}else f=vw(n,t,e,l,o);return Qc(f)}hy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ml(t.pendingLanes);n!==0&&(Jp(t,n|1),Zn(t,Zt()),!(ft&6)&&(ms=Zt()+500,mo()))}break;case 13:Xo(function(){var o=Li(e,1);if(o!==null){var l=Dn();jr(o,e,1,l)}}),B0(e,1)}};Qp=function(e){if(e.tag===13){var t=Li(e,134217728);if(t!==null){var n=Dn();jr(t,e,134217728,n)}B0(e,134217728)}};dy=function(e){if(e.tag===13){var t=oo(e),n=Li(e,t);if(n!==null){var o=Dn();jr(n,e,t,o)}B0(e,t)}};fy=function(){return _t};py=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}};If=function(e,t,n){switch(t){case"input":if(Bf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var l=hh(o);if(!l)throw Error(Le(90));H_(o),Bf(o,l)}}}break;case"textarea":W_(e,n);break;case"select":t=n.value,t!=null&&rs(e,!!n.multiple,t,!1)}};ey=E0;ty=Xo;var xw={usingClientEntryPoint:!1,Events:[nu,Ka,hh,J_,Q_,E0]},cl={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ww={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iy(e),e===null?null:e.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||yw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{sh=dc.inject(ww),qr=dc}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xw;rr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j0(t))throw Error(Le(200));return _w(e,t,null,n)};rr.createRoot=function(e,t){if(!j0(e))throw Error(Le(299));var n=!1,o="",l=Nv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=T0(e,1,!1,null,null,n,!1,o,l),e[bi]=t.current,Rl(e.nodeType===8?e.parentNode:e),new A0(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Le(188)):(e=Object.keys(e).join(","),Error(Le(268,e)));return e=iy(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return Xo(e)};rr.hydrate=function(e,t,n){if(!xh(t))throw Error(Le(200));return wh(null,e,t,!0,n)};rr.hydrateRoot=function(e,t,n){if(!j0(e))throw Error(Le(405));var o=n!=null&&n.hydratedSources||null,l=!1,c="",f=Nv;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=Ov(t,null,e,1,n??null,l,!1,c,f),e[bi]=t.current,Rl(e),o)for(e=0;e<o.length;e++)n=o[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new vh(t)};rr.render=function(e,t,n){if(!xh(t))throw Error(Le(200));return wh(null,e,t,!1,n)};rr.unmountComponentAtNode=function(e){if(!xh(e))throw Error(Le(40));return e._reactRootContainer?(Xo(function(){wh(null,null,e,!1,function(){e._reactRootContainer=null,e[bi]=null})}),!0):!1};rr.unstable_batchedUpdates=E0;rr.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!xh(n))throw Error(Le(200));if(e==null||e._reactInternals===void 0)throw Error(Le(38));return wh(e,t,n,!1,o)};rr.version="18.3.1-next-f1338f8080-20240426";function Rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rv)}catch(e){console.error(e)}}Rv(),R_.exports=rr;var Iv=R_.exports,bg=Iv;kf.createRoot=bg.createRoot,kf.hydrateRoot=bg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zl.apply(this,arguments)}var Xi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xi||(Xi={}));const Lg="popstate";function bw(e){e===void 0&&(e={});function t(o,l){let{pathname:c,search:f,hash:v}=o.location;return _p("",{pathname:c,search:f,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:eh(l)}return kw(t,n,null,e)}function Wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lw(){return Math.random().toString(36).substr(2,8)}function kg(e,t){return{usr:e.state,key:e.key,idx:t}}function _p(e,t,n,o){return n===void 0&&(n=null),Zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xs(t):t,{state:n,key:t&&t.key||o||Lw()})}function eh(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function kw(e,t,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:c=!1}=o,f=l.history,v=Xi.Pop,m=null,w=C();w==null&&(w=0,f.replaceState(Zl({},f.state,{idx:w}),""));function C(){return(f.state||{idx:null}).idx}function S(){v=Xi.Pop;let X=C(),F=X==null?null:X-w;w=X,m&&m({action:v,location:Z.location,delta:F})}function M(X,F){v=Xi.Push;let D=_p(Z.location,X,F);n&&n(D,X),w=C()+1;let I=kg(D,w),Q=Z.createHref(D);try{f.pushState(I,"",Q)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;l.location.assign(Q)}c&&m&&m({action:v,location:Z.location,delta:1})}function z(X,F){v=Xi.Replace;let D=_p(Z.location,X,F);n&&n(D,X),w=C();let I=kg(D,w),Q=Z.createHref(D);f.replaceState(I,"",Q),c&&m&&m({action:v,location:Z.location,delta:0})}function $(X){let F=l.location.origin!=="null"?l.location.origin:l.location.href,D=typeof X=="string"?X:eh(X);return D=D.replace(/ $/,"%20"),Wt(F,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,F)}let Z={get action(){return v},get location(){return e(l,f)},listen(X){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Lg,S),m=X,()=>{l.removeEventListener(Lg,S),m=null}},createHref(X){return t(l,X)},createURL:$,encodeLocation(X){let F=$(X);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:M,replace:z,go(X){return f.go(X)}};return Z}var Cg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cg||(Cg={}));function Cw(e,t,n){return n===void 0&&(n="/"),Ew(e,t,n,!1)}function Ew(e,t,n,o){let l=typeof t=="string"?xs(t):t,c=D0(l.pathname||"/",n);if(c==null)return null;let f=zv(e);Mw(f);let v=null;for(let m=0;v==null&&m<f.length;++m){let w=Iw(c);v=Nw(f[m],w,o)}return v}function zv(e,t,n,o){t===void 0&&(t=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(c,f,v)=>{let m={relativePath:v===void 0?c.path||"":v,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};m.relativePath.startsWith("/")&&(Wt(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let w=so([o,m.relativePath]),C=n.concat(m);c.children&&c.children.length>0&&(Wt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),zv(c.children,t,C,w)),!(c.path==null&&!c.index)&&t.push({path:w,score:Dw(w,c.index),routesMeta:C})};return e.forEach((c,f)=>{var v;if(c.path===""||!((v=c.path)!=null&&v.includes("?")))l(c,f);else for(let m of Uv(c.path))l(c,f,m)}),t}function Uv(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(o.length===0)return l?[c,""]:[c];let f=Uv(o.join("/")),v=[];return v.push(...f.map(m=>m===""?c:[c,m].join("/"))),l&&v.push(...f),v.map(m=>e.startsWith("/")&&m===""?"/":m)}function Mw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ow(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const Sw=/^:[\w-]+$/,Pw=3,Tw=2,Bw=1,Aw=10,jw=-2,Eg=e=>e==="*";function Dw(e,t){let n=e.split("/"),o=n.length;return n.some(Eg)&&(o+=jw),t&&(o+=Tw),n.filter(l=>!Eg(l)).reduce((l,c)=>l+(Sw.test(c)?Pw:c===""?Bw:Aw),o)}function Ow(e,t){return e.length===t.length&&e.slice(0,-1).every((o,l)=>o===t[l])?e[e.length-1]-t[t.length-1]:0}function Nw(e,t,n){n===void 0&&(n=!1);let{routesMeta:o}=e,l={},c="/",f=[];for(let v=0;v<o.length;++v){let m=o[v],w=v===o.length-1,C=c==="/"?t:t.slice(c.length)||"/",S=Mg({path:m.relativePath,caseSensitive:m.caseSensitive,end:w},C),M=m.route;if(!S&&w&&n&&!o[o.length-1].route.index&&(S=Mg({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},C)),!S)return null;Object.assign(l,S.params),f.push({params:l,pathname:so([c,S.pathname]),pathnameBase:$w(so([c,S.pathnameBase])),route:M}),S.pathnameBase!=="/"&&(c=so([c,S.pathnameBase]))}return f}function Mg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=Rw(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:o.reduce((w,C,S)=>{let{paramName:M,isOptional:z}=C;if(M==="*"){let Z=v[S]||"";f=c.slice(0,c.length-Z.length).replace(/(.)\/+$/,"$1")}const $=v[S];return z&&!$?w[M]=void 0:w[M]=($||"").replace(/%2F/g,"/"),w},{}),pathname:c,pathnameBase:f,pattern:e}}function Rw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,v,m)=>(o.push({paramName:v,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function Iw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function D0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}function Fw(e,t){t===void 0&&(t="/");let{pathname:n,search:o="",hash:l=""}=typeof e=="string"?xs(e):e;return{pathname:n?n.startsWith("/")?n:zw(n,t):t,search:Vw(o),hash:Gw(l)}}function zw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function pf(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function O0(e,t){let n=Uw(e);return t?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function N0(e,t,n,o){o===void 0&&(o=!1);let l;typeof e=="string"?l=xs(e):(l=Zl({},e),Wt(!l.pathname||!l.pathname.includes("?"),pf("?","pathname","search",l)),Wt(!l.pathname||!l.pathname.includes("#"),pf("#","pathname","hash",l)),Wt(!l.search||!l.search.includes("#"),pf("#","search","hash",l)));let c=e===""||l.pathname==="",f=c?"/":l.pathname,v;if(f==null)v=n;else{let S=t.length-1;if(!o&&f.startsWith("..")){let M=f.split("/");for(;M[0]==="..";)M.shift(),S-=1;l.pathname=M.join("/")}v=S>=0?t[S]:"/"}let m=Fw(l,v),w=f&&f!=="/"&&f.endsWith("/"),C=(c||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(w||C)&&(m.pathname+="/"),m}const so=e=>e.join("/").replace(/\/\/+/g,"/"),$w=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Vw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $v=["post","put","patch","delete"];new Set($v);const Zw=["get",...$v];new Set(Zw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Wl.apply(this,arguments)}const R0=H.createContext(null),Ww=H.createContext(null),go=H.createContext(null),bh=H.createContext(null),Mi=H.createContext({outlet:null,matches:[],isDataRoute:!1}),Vv=H.createContext(null);function Kw(e,t){let{relative:n}=t===void 0?{}:t;ws()||Wt(!1);let{basename:o,navigator:l}=H.useContext(go),{hash:c,pathname:f,search:v}=Hv(e,{relative:n}),m=f;return o!=="/"&&(m=f==="/"?o:so([o,f])),l.createHref({pathname:m,search:v,hash:c})}function ws(){return H.useContext(bh)!=null}function ia(){return ws()||Wt(!1),H.useContext(bh).location}function Gv(e){H.useContext(go).static||H.useLayoutEffect(e)}function _o(){let{isDataRoute:e}=H.useContext(Mi);return e?lb():qw()}function qw(){ws()||Wt(!1);let e=H.useContext(R0),{basename:t,future:n,navigator:o}=H.useContext(go),{matches:l}=H.useContext(Mi),{pathname:c}=ia(),f=JSON.stringify(O0(l,n.v7_relativeSplatPath)),v=H.useRef(!1);return Gv(()=>{v.current=!0}),H.useCallback(function(w,C){if(C===void 0&&(C={}),!v.current)return;if(typeof w=="number"){o.go(w);return}let S=N0(w,JSON.parse(f),c,C.relative==="path");e==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:so([t,S.pathname])),(C.replace?o.replace:o.push)(S,C.state,C)},[t,o,f,c,e])}function Yw(){let{matches:e}=H.useContext(Mi),t=e[e.length-1];return t?t.params:{}}function Hv(e,t){let{relative:n}=t===void 0?{}:t,{future:o}=H.useContext(go),{matches:l}=H.useContext(Mi),{pathname:c}=ia(),f=JSON.stringify(O0(l,o.v7_relativeSplatPath));return H.useMemo(()=>N0(e,JSON.parse(f),c,n==="path"),[e,f,c,n])}function Xw(e,t){return Jw(e,t)}function Jw(e,t,n,o){ws()||Wt(!1);let{navigator:l}=H.useContext(go),{matches:c}=H.useContext(Mi),f=c[c.length-1],v=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let w=ia(),C;if(t){var S;let X=typeof t=="string"?xs(t):t;m==="/"||(S=X.pathname)!=null&&S.startsWith(m)||Wt(!1),C=X}else C=w;let M=C.pathname||"/",z=M;if(m!=="/"){let X=m.replace(/^\//,"").split("/");z="/"+M.replace(/^\//,"").split("/").slice(X.length).join("/")}let $=Cw(e,{pathname:z}),Z=rb($&&$.map(X=>Object.assign({},X,{params:Object.assign({},v,X.params),pathname:so([m,l.encodeLocation?l.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?m:so([m,l.encodeLocation?l.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),c,n,o);return t&&Z?H.createElement(bh.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:Xi.Pop}},Z):Z}function Qw(){let e=sb(),t=Hw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},c=null;return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:l},n):null,c)}const eb=H.createElement(Qw,null);class tb extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?H.createElement(Mi.Provider,{value:this.props.routeContext},H.createElement(Vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nb(e){let{routeContext:t,match:n,children:o}=e,l=H.useContext(R0);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(Mi.Provider,{value:t},o)}function rb(e,t,n,o){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),o===void 0&&(o=null),e==null){var c;if(!n)return null;if(n.errors)e=n.matches;else if((c=o)!=null&&c.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let f=e,v=(l=n)==null?void 0:l.errors;if(v!=null){let C=f.findIndex(S=>S.route.id&&(v==null?void 0:v[S.route.id])!==void 0);C>=0||Wt(!1),f=f.slice(0,Math.min(f.length,C+1))}let m=!1,w=-1;if(n&&o&&o.v7_partialHydration)for(let C=0;C<f.length;C++){let S=f[C];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(w=C),S.route.id){let{loaderData:M,errors:z}=n,$=S.route.loader&&M[S.route.id]===void 0&&(!z||z[S.route.id]===void 0);if(S.route.lazy||$){m=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((C,S,M)=>{let z,$=!1,Z=null,X=null;n&&(z=v&&S.route.id?v[S.route.id]:void 0,Z=S.route.errorElement||eb,m&&(w<0&&M===0?(ub("route-fallback",!1),$=!0,X=null):w===M&&($=!0,X=S.route.hydrateFallbackElement||null)));let F=t.concat(f.slice(0,M+1)),D=()=>{let I;return z?I=Z:$?I=X:S.route.Component?I=H.createElement(S.route.Component,null):S.route.element?I=S.route.element:I=C,H.createElement(nb,{match:S,routeContext:{outlet:C,matches:F,isDataRoute:n!=null},children:I})};return n&&(S.route.ErrorBoundary||S.route.errorElement||M===0)?H.createElement(tb,{location:n.location,revalidation:n.revalidation,component:Z,error:z,children:D(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):D()},null)}var Zv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zv||{}),th=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(th||{});function ib(e){let t=H.useContext(R0);return t||Wt(!1),t}function ob(e){let t=H.useContext(Ww);return t||Wt(!1),t}function ab(e){let t=H.useContext(Mi);return t||Wt(!1),t}function Wv(e){let t=ab(),n=t.matches[t.matches.length-1];return n.route.id||Wt(!1),n.route.id}function sb(){var e;let t=H.useContext(Vv),n=ob(th.UseRouteError),o=Wv(th.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[o]}function lb(){let{router:e}=ib(Zv.UseNavigateStable),t=Wv(th.UseNavigateStable),n=H.useRef(!1);return Gv(()=>{n.current=!0}),H.useCallback(function(l,c){c===void 0&&(c={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Wl({fromRouteId:t},c)))},[e,t])}const Sg={};function ub(e,t,n){!t&&!Sg[e]&&(Sg[e]=!0)}function cb(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function hb(e){let{to:t,replace:n,state:o,relative:l}=e;ws()||Wt(!1);let{future:c,static:f}=H.useContext(go),{matches:v}=H.useContext(Mi),{pathname:m}=ia(),w=_o(),C=N0(t,O0(v,c.v7_relativeSplatPath),m,l==="path"),S=JSON.stringify(C);return H.useEffect(()=>w(JSON.parse(S),{replace:n,state:o,relative:l}),[w,S,l,n,o]),null}function Ro(e){Wt(!1)}function db(e){let{basename:t="/",children:n=null,location:o,navigationType:l=Xi.Pop,navigator:c,static:f=!1,future:v}=e;ws()&&Wt(!1);let m=t.replace(/^\/*/,"/"),w=H.useMemo(()=>({basename:m,navigator:c,static:f,future:Wl({v7_relativeSplatPath:!1},v)}),[m,v,c,f]);typeof o=="string"&&(o=xs(o));let{pathname:C="/",search:S="",hash:M="",state:z=null,key:$="default"}=o,Z=H.useMemo(()=>{let X=D0(C,m);return X==null?null:{location:{pathname:X,search:S,hash:M,state:z,key:$},navigationType:l}},[m,C,S,M,z,$,l]);return Z==null?null:H.createElement(go.Provider,{value:w},H.createElement(bh.Provider,{children:n,value:Z}))}function fb(e){let{children:t,location:n}=e;return Xw(yp(t),n)}new Promise(()=>{});function yp(e,t){t===void 0&&(t=[]);let n=[];return H.Children.forEach(e,(o,l)=>{if(!H.isValidElement(o))return;let c=[...t,l];if(o.type===H.Fragment){n.push.apply(n,yp(o.props.children,c));return}o.type!==Ro&&Wt(!1),!o.props.index||!o.props.children||Wt(!1);let f={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=yp(o.props.children,c)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},vp.apply(this,arguments)}function pb(e,t){if(e==null)return{};var n={},o=Object.keys(e),l,c;for(c=0;c<o.length;c++)l=o[c],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function mb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gb(e,t){return e.button===0&&(!t||t==="_self")&&!mb(e)}function xp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let o=e[n];return t.concat(Array.isArray(o)?o.map(l=>[n,l]):[[n,o]])},[]))}function _b(e,t){let n=xp(e);return t&&t.forEach((o,l)=>{n.has(l)||t.getAll(l).forEach(c=>{n.append(l,c)})}),n}const yb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vb="6";try{window.__reactRouterVersion=vb}catch{}const xb="startTransition",Pg=h4[xb];function wb(e){let{basename:t,children:n,future:o,window:l}=e,c=H.useRef();c.current==null&&(c.current=bw({window:l,v5Compat:!0}));let f=c.current,[v,m]=H.useState({action:f.action,location:f.location}),{v7_startTransition:w}=o||{},C=H.useCallback(S=>{w&&Pg?Pg(()=>m(S)):m(S)},[m,w]);return H.useLayoutEffect(()=>f.listen(C),[f,C]),H.useEffect(()=>cb(o),[o]),H.createElement(db,{basename:t,children:n,location:v.location,navigationType:v.action,navigator:f,future:o})}const bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=H.forwardRef(function(t,n){let{onClick:o,relative:l,reloadDocument:c,replace:f,state:v,target:m,to:w,preventScrollReset:C,viewTransition:S}=t,M=pb(t,yb),{basename:z}=H.useContext(go),$,Z=!1;if(typeof w=="string"&&Lb.test(w)&&($=w,bb))try{let I=new URL(window.location.href),Q=w.startsWith("//")?new URL(I.protocol+w):new URL(w),ne=D0(Q.pathname,z);Q.origin===I.origin&&ne!=null?w=ne+Q.search+Q.hash:Z=!0}catch{}let X=Kw(w,{relative:l}),F=kb(w,{replace:f,state:v,target:m,preventScrollReset:C,relative:l,viewTransition:S});function D(I){o&&o(I),I.defaultPrevented||F(I)}return H.createElement("a",vp({},M,{href:$||X,onClick:Z||c?o:D,ref:n,target:m}))});var Tg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Tg||(Tg={}));var Bg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bg||(Bg={}));function kb(e,t){let{target:n,replace:o,state:l,preventScrollReset:c,relative:f,viewTransition:v}=t===void 0?{}:t,m=_o(),w=ia(),C=Hv(e,{relative:f});return H.useCallback(S=>{if(gb(S,n)){S.preventDefault();let M=o!==void 0?o:eh(w)===eh(C);m(e,{replace:M,state:l,preventScrollReset:c,relative:f,viewTransition:v})}},[w,m,C,o,l,n,e,c,f,v])}function Cb(e){let t=H.useRef(xp(e)),n=H.useRef(!1),o=ia(),l=H.useMemo(()=>_b(o.search,n.current?null:t.current),[o.search]),c=_o(),f=H.useCallback((v,m)=>{const w=xp(typeof v=="function"?v(l):v);n.current=!0,c("?"+w,m)},[c,l]);return[l,f]}function Kv(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=Kv(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Ho(){for(var e,t,n=0,o="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=Kv(e))&&(o&&(o+=" "),o+=t);return o}function Eb(e){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Eb(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var iu=e=>typeof e=="number"&&!isNaN(e),Jo=e=>typeof e=="string",Ci=e=>typeof e=="function",Mb=e=>Jo(e)||iu(e),wp=e=>Jo(e)||Ci(e)?e:null,Sb=(e,t)=>e===!1||iu(e)&&e>0?e:t,bp=e=>H.isValidElement(e)||Jo(e)||Ci(e)||iu(e);function Pb(e,t,n=300){let{scrollHeight:o,style:l}=e;requestAnimationFrame(()=>{l.minHeight="initial",l.height=o+"px",l.transition=`all ${n}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,n)})})}function Tb({enter:e,exit:t,appendPosition:n=!1,collapse:o=!0,collapseDuration:l=300}){return function({children:c,position:f,preventExitTransition:v,done:m,nodeRef:w,isIn:C,playToast:S}){let M=n?`${e}--${f}`:e,z=n?`${t}--${f}`:t,$=H.useRef(0);return H.useLayoutEffect(()=>{let Z=w.current,X=M.split(" "),F=D=>{D.target===w.current&&(S(),Z.removeEventListener("animationend",F),Z.removeEventListener("animationcancel",F),$.current===0&&D.type!=="animationcancel"&&Z.classList.remove(...X))};Z.classList.add(...X),Z.addEventListener("animationend",F),Z.addEventListener("animationcancel",F)},[]),H.useEffect(()=>{let Z=w.current,X=()=>{Z.removeEventListener("animationend",X),o?Pb(Z,m,l):m()};C||(v?X():($.current=1,Z.className+=` ${z}`,Z.addEventListener("animationend",X)))},[C]),He.createElement(He.Fragment,null,c)}}function Ag(e,t){return{content:qv(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function qv(e,t,n=!1){return H.isValidElement(e)&&!Jo(e.type)?H.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ci(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Bb({closeToast:e,theme:t,ariaLabel:n="close"}){return He.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:o=>{o.stopPropagation(),e(!0)},"aria-label":n},He.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},He.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ab({delay:e,isRunning:t,closeToast:n,type:o="default",hide:l,className:c,controlledProgress:f,progress:v,rtl:m,isIn:w,theme:C}){let S=l||f&&v===0,M={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};f&&(M.transform=`scaleX(${v})`);let z=Ho("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${C}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":m}),$=Ci(c)?c({rtl:m,type:o,defaultClassName:z}):Ho(z,c),Z={[f&&v>=1?"onTransitionEnd":"onAnimationEnd"]:f&&v<1?null:()=>{w&&n()}};return He.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},He.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${C} Toastify__progress-bar--${o}`}),He.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:$,style:M,...Z}))}var jb=1,Yv=()=>`${jb++}`;function Db(e,t,n){let o=1,l=0,c=[],f=[],v=t,m=new Map,w=new Set,C=D=>(w.add(D),()=>w.delete(D)),S=()=>{f=Array.from(m.values()),w.forEach(D=>D())},M=({containerId:D,toastId:I,updateId:Q})=>{let ne=D?D!==e:e!==1,me=m.has(I)&&Q==null;return ne||me},z=(D,I)=>{m.forEach(Q=>{var ne;(I==null||I===Q.props.toastId)&&((ne=Q.toggle)==null||ne.call(Q,D))})},$=D=>{var I,Q;(Q=(I=D.props)==null?void 0:I.onClose)==null||Q.call(I,D.removalReason),D.isActive=!1},Z=D=>{if(D==null)m.forEach($);else{let I=m.get(D);I&&$(I)}S()},X=()=>{l-=c.length,c=[]},F=D=>{var I,Q;let{toastId:ne,updateId:me}=D.props,de=me==null;D.staleId&&m.delete(D.staleId),D.isActive=!0,m.set(ne,D),S(),n(Ag(D,de?"added":"updated")),de&&((Q=(I=D.props).onOpen)==null||Q.call(I))};return{id:e,props:v,observe:C,toggle:z,removeToast:Z,toasts:m,clearQueue:X,buildToast:(D,I)=>{if(M(I))return;let{toastId:Q,updateId:ne,data:me,staleId:de,delay:we}=I,Ne=ne==null;Ne&&l++;let Ce={...v,style:v.toastStyle,key:o++,...Object.fromEntries(Object.entries(I).filter(([Ye,tt])=>tt!=null)),toastId:Q,updateId:ne,data:me,isIn:!1,className:wp(I.className||v.toastClassName),progressClassName:wp(I.progressClassName||v.progressClassName),autoClose:I.isLoading?!1:Sb(I.autoClose,v.autoClose),closeToast(Ye){m.get(Q).removalReason=Ye,Z(Q)},deleteToast(){let Ye=m.get(Q);if(Ye!=null){if(n(Ag(Ye,"removed")),m.delete(Q),l--,l<0&&(l=0),c.length>0){F(c.shift());return}S()}}};Ce.closeButton=v.closeButton,I.closeButton===!1||bp(I.closeButton)?Ce.closeButton=I.closeButton:I.closeButton===!0&&(Ce.closeButton=bp(v.closeButton)?v.closeButton:!0);let ke={content:D,props:Ce,staleId:de};v.limit&&v.limit>0&&l>v.limit&&Ne?c.push(ke):iu(we)?setTimeout(()=>{F(ke)},we):F(ke)},setProps(D){v=D},setToggle:(D,I)=>{let Q=m.get(D);Q&&(Q.toggle=I)},isToastActive:D=>{var I;return(I=m.get(D))==null?void 0:I.isActive},getSnapshot:()=>f}}var jn=new Map,Kl=[],Lp=new Set,Ob=e=>Lp.forEach(t=>t(e)),Xv=()=>jn.size>0;function Nb(){Kl.forEach(e=>Qv(e.content,e.options)),Kl=[]}var Rb=(e,{containerId:t})=>{var n;return(n=jn.get(t||1))==null?void 0:n.toasts.get(e)};function Jv(e,t){var n;if(t)return!!((n=jn.get(t))!=null&&n.isToastActive(e));let o=!1;return jn.forEach(l=>{l.isToastActive(e)&&(o=!0)}),o}function Ib(e){if(!Xv()){Kl=Kl.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Mb(e))jn.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=jn.get(e.containerId);t?t.removeToast(e.id):jn.forEach(n=>{n.removeToast(e.id)})}}var Fb=(e={})=>{jn.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Qv(e,t){bp(e)&&(Xv()||Kl.push({content:e,options:t}),jn.forEach(n=>{n.buildToast(e,t)}))}function zb(e){var t;(t=jn.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function e1(e,t){jn.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function Ub(e){let t=e.containerId||1;return{subscribe(n){let o=Db(t,e,Ob);jn.set(t,o);let l=o.observe(n);return Nb(),()=>{l(),jn.delete(t)}},setProps(n){var o;(o=jn.get(t))==null||o.setProps(n)},getSnapshot(){var n;return(n=jn.get(t))==null?void 0:n.getSnapshot()}}}function $b(e){return Lp.add(e),()=>{Lp.delete(e)}}function Vb(e){return e&&(Jo(e.toastId)||iu(e.toastId))?e.toastId:Yv()}function ou(e,t){return Qv(e,t),t.toastId}function Lh(e,t){return{...t,type:t&&t.type||e,toastId:Vb(t)}}function kh(e){return(t,n)=>ou(t,Lh(e,n))}function Ze(e,t){return ou(e,Lh("default",t))}Ze.loading=(e,t)=>ou(e,Lh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Gb(e,{pending:t,error:n,success:o},l){let c;t&&(c=Jo(t)?Ze.loading(t,l):Ze.loading(t.render,{...l,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},v=(w,C,S)=>{if(C==null){Ze.dismiss(c);return}let M={type:w,...f,...l,data:S},z=Jo(C)?{render:C}:C;return c?Ze.update(c,{...M,...z}):Ze(z.render,{...M,...z}),S},m=Ci(e)?e():e;return m.then(w=>v("success",o,w)).catch(w=>v("error",n,w)),m}Ze.promise=Gb;Ze.success=kh("success");Ze.info=kh("info");Ze.error=kh("error");Ze.warning=kh("warning");Ze.warn=Ze.warning;Ze.dark=(e,t)=>ou(e,Lh("default",{theme:"dark",...t}));function Hb(e){Ib(e)}Ze.dismiss=Hb;Ze.clearWaitingQueue=Fb;Ze.isActive=Jv;Ze.update=(e,t={})=>{let n=Rb(e,t);if(n){let{props:o,content:l}=n,c={delay:100,...o,...t,toastId:t.toastId||e,updateId:Yv()};c.toastId!==e&&(c.staleId=e);let f=c.render||l;delete c.render,ou(f,c)}};Ze.done=e=>{Ze.update(e,{progress:1})};Ze.onChange=$b;Ze.play=e=>e1(!0,e);Ze.pause=e=>e1(!1,e);function Zb(e){var t;let{subscribe:n,getSnapshot:o,setProps:l}=H.useRef(Ub(e)).current;l(e);let c=(t=H.useSyncExternalStore(n,o,o))==null?void 0:t.slice();function f(v){if(!c)return[];let m=new Map;return e.newestOnTop&&c.reverse(),c.forEach(w=>{let{position:C}=w.props;m.has(C)||m.set(C,[]),m.get(C).push(w)}),Array.from(m,w=>v(w[0],w[1]))}return{getToastToRender:f,isToastActive:Jv,count:c==null?void 0:c.length}}function Wb(e){let[t,n]=H.useState(!1),[o,l]=H.useState(!1),c=H.useRef(null),f=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:v,pauseOnHover:m,closeToast:w,onClick:C,closeOnClick:S}=e;zb({id:e.toastId,containerId:e.containerId,fn:n}),H.useEffect(()=>{if(e.pauseOnFocusLoss)return M(),()=>{z()}},[e.pauseOnFocusLoss]);function M(){document.hasFocus()||F(),window.addEventListener("focus",X),window.addEventListener("blur",F)}function z(){window.removeEventListener("focus",X),window.removeEventListener("blur",F)}function $(de){if(e.draggable===!0||e.draggable===de.pointerType){D();let we=c.current;f.canCloseOnClick=!0,f.canDrag=!0,we.style.transition="none",e.draggableDirection==="x"?(f.start=de.clientX,f.removalDistance=we.offsetWidth*(e.draggablePercent/100)):(f.start=de.clientY,f.removalDistance=we.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function Z(de){let{top:we,bottom:Ne,left:Ce,right:ke}=c.current.getBoundingClientRect();de.nativeEvent.type!=="touchend"&&e.pauseOnHover&&de.clientX>=Ce&&de.clientX<=ke&&de.clientY>=we&&de.clientY<=Ne?F():X()}function X(){n(!0)}function F(){n(!1)}function D(){f.didMove=!1,document.addEventListener("pointermove",Q),document.addEventListener("pointerup",ne)}function I(){document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",ne)}function Q(de){let we=c.current;if(f.canDrag&&we){f.didMove=!0,t&&F(),e.draggableDirection==="x"?f.delta=de.clientX-f.start:f.delta=de.clientY-f.start,f.start!==de.clientX&&(f.canCloseOnClick=!1);let Ne=e.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;we.style.transform=`translate3d(${Ne},0)`,we.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function ne(){I();let de=c.current;if(f.canDrag&&f.didMove&&de){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){l(!0),e.closeToast(!0),e.collapseAll();return}de.style.transition="transform 0.2s, opacity 0.2s",de.style.removeProperty("transform"),de.style.removeProperty("opacity")}}let me={onPointerDown:$,onPointerUp:Z};return v&&m&&(me.onMouseEnter=F,e.stacked||(me.onMouseLeave=X)),S&&(me.onClick=de=>{C&&C(de),f.canCloseOnClick&&w(!0)}),{playToast:X,pauseToast:F,isRunning:t,preventExitTransition:o,toastRef:c,eventHandlers:me}}var Kb=typeof window<"u"?H.useLayoutEffect:H.useEffect,Ch=({theme:e,type:t,isLoading:n,...o})=>He.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...o});function qb(e){return He.createElement(Ch,{...e},He.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Yb(e){return He.createElement(Ch,{...e},He.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Xb(e){return He.createElement(Ch,{...e},He.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Jb(e){return He.createElement(Ch,{...e},He.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Qb(){return He.createElement("div",{className:"Toastify__spinner"})}var kp={info:Yb,warning:qb,success:Xb,error:Jb,spinner:Qb},eL=e=>e in kp;function tL({theme:e,type:t,isLoading:n,icon:o}){let l=null,c={theme:e,type:t};return o===!1||(Ci(o)?l=o({...c,isLoading:n}):H.isValidElement(o)?l=H.cloneElement(o,c):n?l=kp.spinner():eL(t)&&(l=kp[t](c))),l}var nL=e=>{let{isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:l,playToast:c}=Wb(e),{closeButton:f,children:v,autoClose:m,onClick:w,type:C,hideProgressBar:S,closeToast:M,transition:z,position:$,className:Z,style:X,progressClassName:F,updateId:D,role:I,progress:Q,rtl:ne,toastId:me,deleteToast:de,isIn:we,isLoading:Ne,closeOnClick:Ce,theme:ke,ariaLabel:Ye}=e,tt=Ho("Toastify__toast",`Toastify__toast-theme--${ke}`,`Toastify__toast--${C}`,{"Toastify__toast--rtl":ne},{"Toastify__toast--close-on-click":Ce}),at=Ci(Z)?Z({rtl:ne,position:$,type:C,defaultClassName:tt}):Ho(tt,Z),kt=tL(e),ct=!!Q||!m,nt={closeToast:M,type:C,theme:ke},pe=null;return f===!1||(Ci(f)?pe=f(nt):H.isValidElement(f)?pe=H.cloneElement(f,nt):pe=Bb(nt)),He.createElement(z,{isIn:we,done:de,position:$,preventExitTransition:n,nodeRef:o,playToast:c},He.createElement("div",{id:me,tabIndex:0,onClick:w,"data-in":we,className:at,...l,style:X,ref:o,...we&&{role:I,"aria-label":Ye}},kt!=null&&He.createElement("div",{className:Ho("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Ne})},kt),qv(v,e,!t),pe,!e.customProgressBar&&He.createElement(Ab,{...D&&!ct?{key:`p-${D}`}:{},rtl:ne,theme:ke,delay:m,isRunning:t,isIn:we,closeToast:M,hide:S,type:C,className:F,controlledProgress:ct,progress:Q||0})))},rL=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),iL=Tb(rL("bounce",!0)),oL={position:"top-right",transition:iL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function t1(e){let t={...oL,...e},n=e.stacked,[o,l]=H.useState(!0),c=H.useRef(null),{getToastToRender:f,isToastActive:v,count:m}=Zb(t),{className:w,style:C,rtl:S,containerId:M,hotKeys:z}=t;function $(X){let F=Ho("Toastify__toast-container",`Toastify__toast-container--${X}`,{"Toastify__toast-container--rtl":S});return Ci(w)?w({position:X,rtl:S,defaultClassName:F}):Ho(F,wp(w))}function Z(){n&&(l(!0),Ze.play())}return Kb(()=>{var X;if(n){let F=c.current.querySelectorAll('[data-in="true"]'),D=12,I=(X=t.position)==null?void 0:X.includes("top"),Q=0,ne=0;Array.from(F).reverse().forEach((me,de)=>{let we=me;we.classList.add("Toastify__toast--stacked"),de>0&&(we.dataset.collapsed=`${o}`),we.dataset.pos||(we.dataset.pos=I?"top":"bot");let Ne=Q*(o?.2:1)+(o?0:D*de);we.style.setProperty("--y",`${I?Ne:Ne*-1}px`),we.style.setProperty("--g",`${D}`),we.style.setProperty("--s",`${1-(o?ne:0)}`),Q+=we.offsetHeight,ne+=.025})}},[o,m,n]),H.useEffect(()=>{function X(F){var D;let I=c.current;z(F)&&((D=I.querySelector('[tabIndex="0"]'))==null||D.focus(),l(!1),Ze.pause()),F.key==="Escape"&&(document.activeElement===I||I!=null&&I.contains(document.activeElement))&&(l(!0),Ze.play())}return document.addEventListener("keydown",X),()=>{document.removeEventListener("keydown",X)}},[z]),He.createElement("section",{ref:c,className:"Toastify",id:M,onMouseEnter:()=>{n&&(l(!1),Ze.pause())},onMouseLeave:Z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((X,F)=>{let D=F.length?{...C}:{...C,pointerEvents:"none"};return He.createElement("div",{tabIndex:-1,className:$(X),"data-stacked":n,style:D,key:`c-${X}`},F.map(({content:I,props:Q})=>He.createElement(nL,{...Q,stacked:n,collapseAll:Z,isIn:v(Q.toastId,Q.containerId),key:`t-${Q.key}`},I)))}))}const n1=H.createContext(),aL=({children:e})=>{const[t,n]=H.useState(null),[o,l]=H.useState(!0),c=(v,m)=>{m?localStorage.setItem("token",v):sessionStorage.setItem("token",v),n(v)},f=()=>{localStorage.removeItem("token"),sessionStorage.removeItem("token"),n(null)};return H.useEffect(()=>{const v=localStorage.getItem("token")||sessionStorage.getItem("token");v&&n(v),l(!1)},[]),y.jsx(n1.Provider,{value:{token:t,login:c,logout:f,loading:o},children:e})},oa=()=>H.useContext(n1);function r1(e,t){const n=H.useRef(t);H.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const sL=1;function lL(e){return Object.freeze({__version:sL,map:e})}function i1(e,t){return Object.freeze({...e,...t})}const o1=H.createContext(null),a1=o1.Provider;function Eh(){const e=H.useContext(o1);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function s1(e){function t(n,o){const{instance:l,context:c}=e(n).current;return H.useImperativeHandle(o,()=>l),n.children==null?null:He.createElement(a1,{value:c},n.children)}return H.forwardRef(t)}function uL(e){function t(n,o){const[l,c]=H.useState(!1),{instance:f}=e(n,c).current;H.useImperativeHandle(o,()=>f),H.useEffect(function(){l&&f.update()},[f,l,n.children]);const v=f._contentNode;return v?Iv.createPortal(n.children,v):null}return H.forwardRef(t)}function cL(e){function t(n,o){const{instance:l}=e(n).current;return H.useImperativeHandle(o,()=>l),null}return H.forwardRef(t)}function I0(e,t){const n=H.useRef();H.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Mh(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function hL(e,t){return function(o,l){const c=Eh(),f=e(Mh(o,c),c);return r1(c.map,o.attribution),I0(f.current,o.eventHandlers),t(f.current,c,o,l),f}}var Cp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,o){o(t)})(dl,function(n){var o="1.9.4";function l(r){var s,d,_,k;for(d=1,_=arguments.length;d<_;d++){k=arguments[d];for(s in k)r[s]=k[s]}return r}var c=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function f(r,s){var d=Array.prototype.slice;if(r.bind)return r.bind.apply(r,d.call(arguments,1));var _=d.call(arguments,2);return function(){return r.apply(s,_.length?_.concat(d.call(arguments)):arguments)}}var v=0;function m(r){return"_leaflet_id"in r||(r._leaflet_id=++v),r._leaflet_id}function w(r,s,d){var _,k,B,W;return W=function(){_=!1,k&&(B.apply(d,k),k=!1)},B=function(){_?k=arguments:(r.apply(d,arguments),setTimeout(W,s),_=!0)},B}function C(r,s,d){var _=s[1],k=s[0],B=_-k;return r===_&&d?r:((r-k)%B+B)%B+k}function S(){return!1}function M(r,s){if(s===!1)return r;var d=Math.pow(10,s===void 0?6:s);return Math.round(r*d)/d}function z(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function $(r){return z(r).split(/\s+/)}function Z(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?c(r.options):{});for(var d in s)r.options[d]=s[d];return r.options}function X(r,s,d){var _=[];for(var k in r)_.push(encodeURIComponent(d?k.toUpperCase():k)+"="+encodeURIComponent(r[k]));return(!s||s.indexOf("?")===-1?"?":"&")+_.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function D(r,s){return r.replace(F,function(d,_){var k=s[_];if(k===void 0)throw new Error("No value provided for variable "+d);return typeof k=="function"&&(k=k(s)),k})}var I=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Q(r,s){for(var d=0;d<r.length;d++)if(r[d]===s)return d;return-1}var ne="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function me(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var de=0;function we(r){var s=+new Date,d=Math.max(0,16-(s-de));return de=s+d,window.setTimeout(r,d)}var Ne=window.requestAnimationFrame||me("RequestAnimationFrame")||we,Ce=window.cancelAnimationFrame||me("CancelAnimationFrame")||me("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function ke(r,s,d){if(d&&Ne===we)r.call(s);else return Ne.call(window,f(r,s))}function Ye(r){r&&Ce.call(window,r)}var tt={__proto__:null,extend:l,create:c,bind:f,get lastId(){return v},stamp:m,throttle:w,wrapNum:C,falseFn:S,formatNum:M,trim:z,splitWords:$,setOptions:Z,getParamString:X,template:D,isArray:I,indexOf:Q,emptyImageUrl:ne,requestFn:Ne,cancelFn:Ce,requestAnimFrame:ke,cancelAnimFrame:Ye};function at(){}at.extend=function(r){var s=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=s.__super__=this.prototype,_=c(d);_.constructor=s,s.prototype=_;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(s[k]=this[k]);return r.statics&&l(s,r.statics),r.includes&&(kt(r.includes),l.apply(null,[_].concat(r.includes))),l(_,r),delete _.statics,delete _.includes,_.options&&(_.options=d.options?c(d.options):{},l(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,W=_._initHooks.length;B<W;B++)_._initHooks[B].call(this)}},s},at.include=function(r){var s=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},at.mergeOptions=function(r){return l(this.prototype.options,r),this},at.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),d=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function kt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=I(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ct={on:function(r,s,d){if(typeof r=="object")for(var _ in r)this._on(_,r[_],s);else{r=$(r);for(var k=0,B=r.length;k<B;k++)this._on(r[k],s,d)}return this},off:function(r,s,d){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],s);else{r=$(r);for(var k=arguments.length===1,B=0,W=r.length;B<W;B++)k?this._off(r[B]):this._off(r[B],s,d)}return this},_on:function(r,s,d,_){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,d)===!1){d===this&&(d=void 0);var k={fn:s,ctx:d};_&&(k.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(k)}},_off:function(r,s,d){var _,k,B;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(k=0,B=_.length;k<B;k++)_[k].fn=S;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var W=this._listens(r,s,d);if(W!==!1){var re=_[W];this._firingCount&&(re.fn=S,this._events[r]=_=_.slice()),_.splice(W,1)}}},fire:function(r,s,d){if(!this.listens(r,d))return this;var _=l({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var k=this._events[r];if(k){this._firingCount=this._firingCount+1||1;for(var B=0,W=k.length;B<W;B++){var re=k[B],ce=re.fn;re.once&&this.off(r,ce,re.ctx),ce.call(re.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(r,s,d,_){typeof r!="string"&&console.warn('"string" type argument expected');var k=s;typeof s!="function"&&(_=!!s,k=void 0,d=void 0);var B=this._events&&this._events[r];if(B&&B.length&&this._listens(r,k,d)!==!1)return!0;if(_){for(var W in this._eventParents)if(this._eventParents[W].listens(r,s,d,_))return!0}return!1},_listens:function(r,s,d){if(!this._events)return!1;var _=this._events[r]||[];if(!s)return!!_.length;d===this&&(d=void 0);for(var k=0,B=_.length;k<B;k++)if(_[k].fn===s&&_[k].ctx===d)return k;return!1},once:function(r,s,d){if(typeof r=="object")for(var _ in r)this._on(_,r[_],s,!0);else{r=$(r);for(var k=0,B=r.length;k<B;k++)this._on(r[k],s,d,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[m(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[m(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};ct.addEventListener=ct.on,ct.removeEventListener=ct.clearAllEventListeners=ct.off,ct.addOneTimeEventListener=ct.once,ct.fireEvent=ct.fire,ct.hasEventListeners=ct.listens;var nt=at.extend(ct);function pe(r,s,d){this.x=d?Math.round(r):r,this.y=d?Math.round(s):s}var Re=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(r){return this.clone()._add(be(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(be(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new pe(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new pe(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Re(this.x),this.y=Re(this.y),this},distanceTo:function(r){r=be(r);var s=r.x-this.x,d=r.y-this.y;return Math.sqrt(s*s+d*d)},equals:function(r){return r=be(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=be(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function be(r,s,d){return r instanceof pe?r:I(r)?new pe(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new pe(r.x,r.y):new pe(r,s,d)}function Oe(r,s){if(r)for(var d=s?[r,s]:r,_=0,k=d.length;_<k;_++)this.extend(d[_])}Oe.prototype={extend:function(r){var s,d;if(!r)return this;if(r instanceof pe||typeof r[0]=="number"||"x"in r)s=d=be(r);else if(r=Ge(r),s=r.min,d=r.max,!s||!d)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=d.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(r){return be((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return be(this.min.x,this.max.y)},getTopRight:function(){return be(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,d;return typeof r[0]=="number"||r instanceof pe?r=be(r):r=Ge(r),r instanceof Oe?(s=r.min,d=r.max):s=d=r,s.x>=this.min.x&&d.x<=this.max.x&&s.y>=this.min.y&&d.y<=this.max.y},intersects:function(r){r=Ge(r);var s=this.min,d=this.max,_=r.min,k=r.max,B=k.x>=s.x&&_.x<=d.x,W=k.y>=s.y&&_.y<=d.y;return B&&W},overlaps:function(r){r=Ge(r);var s=this.min,d=this.max,_=r.min,k=r.max,B=k.x>s.x&&_.x<d.x,W=k.y>s.y&&_.y<d.y;return B&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,d=this.max,_=Math.abs(s.x-d.x)*r,k=Math.abs(s.y-d.y)*r;return Ge(be(s.x-_,s.y-k),be(d.x+_,d.y+k))},equals:function(r){return r?(r=Ge(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function Ge(r,s){return!r||r instanceof Oe?r:new Oe(r,s)}function pt(r,s){if(r)for(var d=s?[r,s]:r,_=0,k=d.length;_<k;_++)this.extend(d[_])}pt.prototype={extend:function(r){var s=this._southWest,d=this._northEast,_,k;if(r instanceof We)_=r,k=r;else if(r instanceof pt){if(_=r._southWest,k=r._northEast,!_||!k)return this}else return r?this.extend($e(r)||Qe(r)):this;return!s&&!d?(this._southWest=new We(_.lat,_.lng),this._northEast=new We(k.lat,k.lng)):(s.lat=Math.min(_.lat,s.lat),s.lng=Math.min(_.lng,s.lng),d.lat=Math.max(k.lat,d.lat),d.lng=Math.max(k.lng,d.lng)),this},pad:function(r){var s=this._southWest,d=this._northEast,_=Math.abs(s.lat-d.lat)*r,k=Math.abs(s.lng-d.lng)*r;return new pt(new We(s.lat-_,s.lng-k),new We(d.lat+_,d.lng+k))},getCenter:function(){return new We((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new We(this.getNorth(),this.getWest())},getSouthEast:function(){return new We(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof We||"lat"in r?r=$e(r):r=Qe(r);var s=this._southWest,d=this._northEast,_,k;return r instanceof pt?(_=r.getSouthWest(),k=r.getNorthEast()):_=k=r,_.lat>=s.lat&&k.lat<=d.lat&&_.lng>=s.lng&&k.lng<=d.lng},intersects:function(r){r=Qe(r);var s=this._southWest,d=this._northEast,_=r.getSouthWest(),k=r.getNorthEast(),B=k.lat>=s.lat&&_.lat<=d.lat,W=k.lng>=s.lng&&_.lng<=d.lng;return B&&W},overlaps:function(r){r=Qe(r);var s=this._southWest,d=this._northEast,_=r.getSouthWest(),k=r.getNorthEast(),B=k.lat>s.lat&&_.lat<d.lat,W=k.lng>s.lng&&_.lng<d.lng;return B&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=Qe(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Qe(r,s){return r instanceof pt?r:new pt(r,s)}function We(r,s,d){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,d!==void 0&&(this.alt=+d)}We.prototype={equals:function(r,s){if(!r)return!1;r=$e(r);var d=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return d<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+M(this.lat,r)+", "+M(this.lng,r)+")"},distanceTo:function(r){return fe.distance(this,$e(r))},wrap:function(){return fe.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,d=s/Math.cos(Math.PI/180*this.lat);return Qe([this.lat-s,this.lng-d],[this.lat+s,this.lng+d])},clone:function(){return new We(this.lat,this.lng,this.alt)}};function $e(r,s,d){return r instanceof We?r:I(r)&&typeof r[0]!="object"?r.length===3?new We(r[0],r[1],r[2]):r.length===2?new We(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new We(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new We(r,s,d)}var Ct={latLngToPoint:function(r,s){var d=this.projection.project(r),_=this.scale(s);return this.transformation._transform(d,_)},pointToLatLng:function(r,s){var d=this.scale(s),_=this.transformation.untransform(r,d);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,d=this.scale(r),_=this.transformation.transform(s.min,d),k=this.transformation.transform(s.max,d);return new Oe(_,k)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?C(r.lng,this.wrapLng,!0):r.lng,d=this.wrapLat?C(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new We(d,s,_)},wrapLatLngBounds:function(r){var s=r.getCenter(),d=this.wrapLatLng(s),_=s.lat-d.lat,k=s.lng-d.lng;if(_===0&&k===0)return r;var B=r.getSouthWest(),W=r.getNorthEast(),re=new We(B.lat-_,B.lng-k),ce=new We(W.lat-_,W.lng-k);return new pt(re,ce)}},fe=l({},Ct,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var d=Math.PI/180,_=r.lat*d,k=s.lat*d,B=Math.sin((s.lat-r.lat)*d/2),W=Math.sin((s.lng-r.lng)*d/2),re=B*B+Math.cos(_)*Math.cos(k)*W*W,ce=2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re));return this.R*ce}}),Me=6378137,lt={R:Me,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,r.lat),-d),k=Math.sin(_*s);return new pe(this.R*r.lng*s,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(r){var s=180/Math.PI;return new We((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=Me*Math.PI;return new Oe([-r,-r],[r,r])}()};function vt(r,s,d,_){if(I(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=d,this._d=_}vt.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new pe((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function Pt(r,s,d,_){return new vt(r,s,d,_)}var xt=l({},fe,{code:"EPSG:3857",projection:lt,transformation:function(){var r=.5/(Math.PI*lt.R);return Pt(r,.5,-r,.5)}()}),tn=l({},xt,{code:"EPSG:900913"});function un(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Wn(r,s){var d="",_,k,B,W,re,ce;for(_=0,B=r.length;_<B;_++){for(re=r[_],k=0,W=re.length;k<W;k++)ce=re[k],d+=(k?"L":"M")+ce.x+" "+ce.y;d+=s?Ie.svg?"z":"x":""}return d||"M0 0"}var Rn=document.documentElement.style,Mn="ActiveXObject"in window,Or=Mn&&!document.addEventListener,Pi="msLaunchUri"in navigator&&!("documentMode"in document),ei=Kn("webkit"),he=Kn("android"),Se=Kn("android 2")||Kn("android 3"),je=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fe=he&&Kn("Google")&&je<537&&!("AudioNode"in window),_e=!!window.opera,ve=!Pi&&Kn("chrome"),ht=Kn("gecko")&&!ei&&!_e&&!Mn,Kt=!ve&&Kn("safari"),yn=Kn("phantom"),ar="OTransition"in Rn,Nr=navigator.platform.indexOf("Win")===0,ks=Mn&&"transition"in Rn,ti="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Se,Rr="MozPerspective"in Rn,cu=!window.L_DISABLE_3D&&(ks||ti||Rr)&&!ar&&!yn,ni=typeof orientation<"u"||Kn("mobile"),Wh=ni&&ei,Kh=ni&&ti,Cs=!window.PointerEvent&&window.MSPointerEvent,hu=!!(window.PointerEvent||Cs),du="ontouchstart"in window||!!window.TouchEvent,qh=!window.L_NO_TOUCH&&(du||hu),Yh=ni&&_e,fu=ni&&ht,pu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xh=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",S,s),window.removeEventListener("testPassiveEventSupport",S,s)}catch{}return r}(),Jh=function(){return!!document.createElement("canvas").getContext}(),Es=!!(document.createElementNS&&un("svg").createSVGRect),mu=!!Es&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Qh=!Es&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),ed=navigator.platform.indexOf("Mac")===0,td=navigator.platform.indexOf("Linux")===0;function Kn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Ie={ie:Mn,ielt9:Or,edge:Pi,webkit:ei,android:he,android23:Se,androidStock:Fe,opera:_e,chrome:ve,gecko:ht,safari:Kt,phantom:yn,opera12:ar,win:Nr,ie3d:ks,webkit3d:ti,gecko3d:Rr,any3d:cu,mobile:ni,mobileWebkit:Wh,mobileWebkit3d:Kh,msPointer:Cs,pointer:hu,touch:qh,touchNative:du,mobileOpera:Yh,mobileGecko:fu,retina:pu,passiveEvents:Xh,canvas:Jh,svg:Es,vml:Qh,inlineSvg:mu,mac:ed,linux:td},gu=Ie.msPointer?"MSPointerDown":"pointerdown",_u=Ie.msPointer?"MSPointerMove":"pointermove",Ms=Ie.msPointer?"MSPointerUp":"pointerup",yu=Ie.msPointer?"MSPointerCancel":"pointercancel",Ss={touchstart:gu,touchmove:_u,touchend:Ms,touchcancel:yu},vu={touchstart:ad,touchmove:fa,touchend:fa,touchcancel:fa},Ti={},xu=!1;function nd(r,s,d){return s==="touchstart"&&Ps(),vu[s]?(d=vu[s].bind(this,d),r.addEventListener(Ss[s],d,!1),d):(console.warn("wrong event specified:",s),S)}function rd(r,s,d){if(!Ss[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(Ss[s],d,!1)}function id(r){Ti[r.pointerId]=r}function od(r){Ti[r.pointerId]&&(Ti[r.pointerId]=r)}function da(r){delete Ti[r.pointerId]}function Ps(){xu||(document.addEventListener(gu,id,!0),document.addEventListener(_u,od,!0),document.addEventListener(Ms,da,!0),document.addEventListener(yu,da,!0),xu=!0)}function fa(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var d in Ti)s.touches.push(Ti[d]);s.changedTouches=[s],r(s)}}function ad(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Xt(s),fa(r,s)}function sd(r){var s={},d,_;for(_ in r)d=r[_],s[_]=d&&d.bind?d.bind(r):d;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var ld=200;function ud(r,s){r.addEventListener("dblclick",s);var d=0,_;function k(B){if(B.detail!==1){_=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var W=Cu(B);if(!(W.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!W.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var re=Date.now();re-d<=ld?(_++,_===2&&s(sd(B))):_=1,d=re}}}return r.addEventListener("click",k),{dblclick:s,simDblclick:k}}function cd(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var Ts=ma(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xo=ma(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wu=xo==="webkitTransition"||xo==="OTransition"?xo+"End":"transitionend";function bu(r){return typeof r=="string"?document.getElementById(r):r}function Ir(r,s){var d=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);d=_?_[s]:null}return d==="auto"?null:d}function ut(r,s,d){var _=document.createElement(r);return _.className=s||"",d&&d.appendChild(_),_}function Et(r){var s=r.parentNode;s&&s.removeChild(r)}function wo(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Bi(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function ri(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function Bs(r,s){if(r.classList!==void 0)return r.classList.contains(s);var d=pa(r);return d.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(d)}function Je(r,s){if(r.classList!==void 0)for(var d=$(s),_=0,k=d.length;_<k;_++)r.classList.add(d[_]);else if(!Bs(r,s)){var B=pa(r);As(r,(B?B+" ":"")+s)}}function Nt(r,s){r.classList!==void 0?r.classList.remove(s):As(r,z((" "+pa(r)+" ").replace(" "+s+" "," ")))}function As(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function pa(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function In(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&hd(r,s)}function hd(r,s){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=r.filters.item(_)}catch{if(s===1)return}s=Math.round(s*100),d?(d.Enabled=s!==100,d.Opacity=s):r.style.filter+=" progid:"+_+"(opacity="+s+")"}function ma(r){for(var s=document.documentElement.style,d=0;d<r.length;d++)if(r[d]in s)return r[d];return!1}function ii(r,s,d){var _=s||new pe(0,0);r.style[Ts]=(Ie.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function Ut(r,s){r._leaflet_pos=s,Ie.any3d?ii(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function oi(r){return r._leaflet_pos||new pe(0,0)}var bo,Lo,js;if("onselectstart"in document)bo=function(){Xe(window,"selectstart",Xt)},Lo=function(){wt(window,"selectstart",Xt)};else{var Ai=ma(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bo=function(){if(Ai){var r=document.documentElement.style;js=r[Ai],r[Ai]="none"}},Lo=function(){Ai&&(document.documentElement.style[Ai]=js,js=void 0)}}function Ds(){Xe(window,"dragstart",Xt)}function Os(){wt(window,"dragstart",Xt)}var ga,Ns;function Rs(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(_a(),ga=r,Ns=r.style.outlineStyle,r.style.outlineStyle="none",Xe(window,"keydown",_a))}function _a(){ga&&(ga.style.outlineStyle=Ns,ga=void 0,Ns=void 0,wt(window,"keydown",_a))}function Lu(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Is(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var dd={__proto__:null,TRANSFORM:Ts,TRANSITION:xo,TRANSITION_END:wu,get:bu,getStyle:Ir,create:ut,remove:Et,empty:wo,toFront:Bi,toBack:ri,hasClass:Bs,addClass:Je,removeClass:Nt,setClass:As,getClass:pa,setOpacity:In,testProp:ma,setTransform:ii,setPosition:Ut,getPosition:oi,get disableTextSelection(){return bo},get enableTextSelection(){return Lo},disableImageDrag:Ds,enableImageDrag:Os,preventOutline:Rs,restoreOutline:_a,getSizedParentNode:Lu,getScale:Is};function Xe(r,s,d,_){if(s&&typeof s=="object")for(var k in s)zs(r,k,s[k],d);else{s=$(s);for(var B=0,W=s.length;B<W;B++)zs(r,s[B],d,_)}return this}var sr="_leaflet_events";function wt(r,s,d,_){if(arguments.length===1)ku(r),delete r[sr];else if(s&&typeof s=="object")for(var k in s)Fr(r,k,s[k],d);else if(s=$(s),arguments.length===2)ku(r,function(re){return Q(s,re)!==-1});else for(var B=0,W=s.length;B<W;B++)Fr(r,s[B],d,_);return this}function ku(r,s){for(var d in r[sr]){var _=d.split(/\d/)[0];(!s||s(_))&&Fr(r,_,null,null,d)}}var Fs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zs(r,s,d,_){var k=s+m(d)+(_?"_"+m(_):"");if(r[sr]&&r[sr][k])return this;var B=function(re){return d.call(_||r,re||window.event)},W=B;!Ie.touchNative&&Ie.pointer&&s.indexOf("touch")===0?B=nd(r,s,B):Ie.touch&&s==="dblclick"?B=ud(r,B):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(Fs[s]||s,B,Ie.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(B=function(re){re=re||window.event,$s(r,re)&&W(re)},r.addEventListener(Fs[s],B,!1)):r.addEventListener(s,W,!1):r.attachEvent("on"+s,B),r[sr]=r[sr]||{},r[sr][k]=B}function Fr(r,s,d,_,k){k=k||s+m(d)+(_?"_"+m(_):"");var B=r[sr]&&r[sr][k];if(!B)return this;!Ie.touchNative&&Ie.pointer&&s.indexOf("touch")===0?rd(r,s,B):Ie.touch&&s==="dblclick"?cd(r,B):"removeEventListener"in r?r.removeEventListener(Fs[s]||s,B,!1):r.detachEvent("on"+s,B),r[sr][k]=null}function ai(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Us(r){return zs(r,"wheel",ai),this}function ko(r){return Xe(r,"mousedown touchstart dblclick contextmenu",ai),r._leaflet_disable_click=!0,this}function Xt(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function si(r){return Xt(r),ai(r),this}function Cu(r){if(r.composedPath)return r.composedPath();for(var s=[],d=r.target;d;)s.push(d),d=d.parentNode;return s}function Eu(r,s){if(!s)return new pe(r.clientX,r.clientY);var d=Is(s),_=d.boundingClientRect;return new pe((r.clientX-_.left)/d.x-s.clientLeft,(r.clientY-_.top)/d.y-s.clientTop)}var fd=Ie.linux&&Ie.chrome?window.devicePixelRatio:Ie.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Mu(r){return Ie.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/fd:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function $s(r,s){var d=s.relatedTarget;if(!d)return!0;try{for(;d&&d!==r;)d=d.parentNode}catch{return!1}return d!==r}var ya={__proto__:null,on:Xe,off:wt,stopPropagation:ai,disableScrollPropagation:Us,disableClickPropagation:ko,preventDefault:Xt,stop:si,getPropagationPath:Cu,getMousePosition:Eu,getWheelDelta:Mu,isExternalTarget:$s,addListener:Xe,removeListener:wt},Su=nt.extend({run:function(r,s,d,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=oi(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,d=this._duration*1e3;s<d?this._runFrame(this._easeOut(s/d),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var d=this._startPos.add(this._offset.multiplyBy(r));s&&d._round(),Ut(this._el,d),this.fire("step")},_complete:function(){Ye(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),ot=nt.extend({options:{crs:xt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=Z(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView($e(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xo&&Ie.any3d&&!Ie.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Xe(this._proxy,wu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,d){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter($e(r),s,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,d.zoom):this._tryAnimatedPan(r,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,d.pan&&d.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,d){var _=this.getZoomScale(s),k=this.getSize().divideBy(2),B=r instanceof pe?r:this.latLngToContainerPoint(r),W=B.subtract(k).multiplyBy(1-1/_),re=this.containerPointToLatLng(k.add(W));return this.setView(re,s,{zoom:d})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():Qe(r);var d=be(s.paddingTopLeft||s.padding||[0,0]),_=be(s.paddingBottomRight||s.padding||[0,0]),k=this.getBoundsZoom(r,!1,d.add(_));if(k=typeof s.maxZoom=="number"?Math.min(s.maxZoom,k):k,k===1/0)return{center:r.getCenter(),zoom:k};var B=_.subtract(d).divideBy(2),W=this.project(r.getSouthWest(),k),re=this.project(r.getNorthEast(),k),ce=this.unproject(W.add(re).divideBy(2).add(B),k);return{center:ce,zoom:k}},fitBounds:function(r,s){if(r=Qe(r),!r.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(r,s);return this.setView(d.center,d.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=be(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Su,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Je(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,d,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,d){if(d=d||{},d.animate===!1||!Ie.any3d)return this.setView(r,s,d);this._stop();var _=this.project(this.getCenter()),k=this.project(r),B=this.getSize(),W=this._zoom;r=$e(r),s=s===void 0?W:s;var re=Math.max(B.x,B.y),ce=re*this.getZoomScale(W,s),ye=k.distanceTo(_)||1,Pe=1.42,Ve=Pe*Pe;function et(Rt){var jo=Rt?-1:1,Od=Rt?ce:re,fr=ce*ce-re*re+jo*Ve*Ve*ye*ye,Nd=2*Od*Ve*ye,Fi=fr/Nd,el=Math.sqrt(Fi*Fi+1)-Fi,Rd=el<1e-9?-18:Math.log(el);return Rd}function fn(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function qt(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}function wn(Rt){return fn(Rt)/qt(Rt)}var jt=et(0);function dr(Rt){return re*(qt(jt)/qt(jt+Pe*Rt))}function Qs(Rt){return re*(qt(jt)*wn(jt+Pe*Rt)-fn(jt))/Ve}function Fa(Rt){return 1-Math.pow(1-Rt,1.5)}var Vu=Date.now(),Ao=(et(1)-jt)/Pe,Dd=d.duration?1e3*d.duration:1e3*Ao*.8;function Gu(){var Rt=(Date.now()-Vu)/Dd,jo=Fa(Rt)*Ao;Rt<=1?(this._flyToFrame=ke(Gu,this),this._move(this.unproject(_.add(k.subtract(_).multiplyBy(Qs(jo)/ye)),W),this.getScaleZoom(re/dr(jo),W),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Gu.call(this),this},flyToBounds:function(r,s){var d=this._getBoundsCenterZoom(r,s);return this.flyTo(d.center,d.zoom,s)},setMaxBounds:function(r){return r=Qe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,Qe(r));return d.equals(_)||this.panTo(_,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var d=be(s.paddingTopLeft||s.padding||[0,0]),_=be(s.paddingBottomRight||s.padding||[0,0]),k=this.project(this.getCenter()),B=this.project(r),W=this.getPixelBounds(),re=Ge([W.min.add(d),W.max.subtract(_)]),ce=re.getSize();if(!re.contains(B)){this._enforcingBounds=!0;var ye=B.subtract(re.getCenter()),Pe=re.extend(B).getSize().subtract(ce);k.x+=ye.x<0?-Pe.x:Pe.x,k.y+=ye.y<0?-Pe.y:Pe.y,this.panTo(this.unproject(k),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=s.divideBy(2).round(),k=d.divideBy(2).round(),B=_.subtract(k);return!B.x&&!B.y?this:(r.animate&&r.pan?this.panBy(B):(r.pan&&this._rawPanBy(B),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=f(this._handleGeolocationResponse,this),d=f(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,d,r):navigator.geolocation.getCurrentPosition(s,d,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,d=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,d=r.coords.longitude,_=new We(s,d),k=_.toBounds(r.coords.accuracy*2),B=this._locateOptions;if(B.setView){var W=this.getBoundsZoom(k);this.setView(_,B.maxZoom?Math.min(W,B.maxZoom):W)}var re={latlng:_,bounds:k,timestamp:r.timestamp};for(var ce in r.coords)typeof r.coords[ce]=="number"&&(re[ce]=r.coords[ce]);this.fire("locationfound",re)}},addHandler:function(r,s){if(!s)return this;var d=this[r]=new s(this);return this._handlers.push(d),this.options[r]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Et(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ye(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Et(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var d="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=ut("div",d,s||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),d=this.unproject(r.getTopRight());return new pt(s,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,d){r=Qe(r),d=be(d||[0,0]);var _=this.getZoom()||0,k=this.getMinZoom(),B=this.getMaxZoom(),W=r.getNorthWest(),re=r.getSouthEast(),ce=this.getSize().subtract(d),ye=Ge(this.project(re,_),this.project(W,_)).getSize(),Pe=Ie.any3d?this.options.zoomSnap:1,Ve=ce.x/ye.x,et=ce.y/ye.y,fn=s?Math.max(Ve,et):Math.min(Ve,et);return _=this.getScaleZoom(fn,_),Pe&&(_=Math.round(_/(Pe/100))*(Pe/100),_=s?Math.ceil(_/Pe)*Pe:Math.floor(_/Pe)*Pe),Math.max(k,Math.min(B,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var d=this._getTopLeftPoint(r,s);return new Oe(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var d=this.options.crs;return s=s===void 0?this._zoom:s,d.scale(r)/d.scale(s)},getScaleZoom:function(r,s){var d=this.options.crs;s=s===void 0?this._zoom:s;var _=d.zoom(r*d.scale(s));return isNaN(_)?1/0:_},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint($e(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(be(r),s)},layerPointToLatLng:function(r){var s=be(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project($e(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng($e(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Qe(r))},distance:function(r,s){return this.options.crs.distance($e(r),$e(s))},containerPointToLayerPoint:function(r){return be(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return be(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(be(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint($e(r)))},mouseEventToContainerPoint:function(r){return Eu(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=bu(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Xe(s,"scroll",this._onScroll,this),this._containerId=m(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ie.any3d,Je(r,"leaflet-container"+(Ie.touch?" leaflet-touch":"")+(Ie.retina?" leaflet-retina":"")+(Ie.ielt9?" leaflet-oldie":"")+(Ie.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Ir(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Je(r.markerPane,"leaflet-zoom-hide"),Je(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,d){Ut(this._mapPane,new pe(0,0));var _=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var k=this._zoom!==s;this._moveStart(k,d)._move(r,s)._moveEnd(k),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,d,_){s===void 0&&(s=this._zoom);var k=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?d&&d.pinch&&this.fire("zoom",d):((k||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ye(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ut(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[m(this._container)]=this;var s=r?wt:Xe;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Ie.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ye(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var d=[],_,k=s==="mouseout"||s==="mouseover",B=r.target||r.srcElement,W=!1;B;){if(_=this._targets[m(B)],_&&(s==="click"||s==="preclick")&&this._draggableMoved(_)){W=!0;break}if(_&&_.listens(s,!0)&&(k&&!$s(B,r)||(d.push(_),k))||B===this._container)break;B=B.parentNode}return!d.length&&!W&&!k&&this.listens(s,!0)&&(d=[this]),d},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var d=r.type;d==="mousedown"&&Rs(s),this._fireDOMEvent(r,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,d){if(r.type==="click"){var _=l({},r);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var k=this._findEventTargets(r,s);if(d){for(var B=[],W=0;W<d.length;W++)d[W].listens(s,!0)&&B.push(d[W]);k=B.concat(k)}if(k.length){s==="contextmenu"&&Xt(r);var re=k[0],ce={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var ye=re.getLatLng&&(!re._radius||re._radius<=10);ce.containerPoint=ye?this.latLngToContainerPoint(re.getLatLng()):this.mouseEventToContainerPoint(r),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=ye?re.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(W=0;W<k.length;W++)if(k[W].fire(s,ce,!0),ce.originalEvent._stopped||k[W].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return oi(this._mapPane)||new pe(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var d=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var d=this.getSize()._divideBy(2);return this.project(r,s)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,d){var _=this._getNewPixelOrigin(d,s);return this.project(r,s)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,s,d){var _=this._getNewPixelOrigin(d,s);return Ge([this.project(r.getSouthWest(),s)._subtract(_),this.project(r.getNorthWest(),s)._subtract(_),this.project(r.getSouthEast(),s)._subtract(_),this.project(r.getNorthEast(),s)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,d){if(!d)return r;var _=this.project(r,s),k=this.getSize().divideBy(2),B=new Oe(_.subtract(k),_.add(k)),W=this._getBoundsOffset(B,d,s);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?r:this.unproject(_.add(W),s)},_limitOffset:function(r,s){if(!s)return r;var d=this.getPixelBounds(),_=new Oe(d.min.add(r),d.max.add(r));return r.add(this._getBoundsOffset(_,s))},_getBoundsOffset:function(r,s,d){var _=Ge(this.project(s.getNorthEast(),d),this.project(s.getSouthWest(),d)),k=_.min.subtract(r.min),B=_.max.subtract(r.max),W=this._rebound(k.x,-B.x),re=this._rebound(k.y,-B.y);return new pe(W,re)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),d=this.getMaxZoom(),_=Ie.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(s,Math.min(d,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var d=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,s),!0)},_createAnimProxy:function(){var r=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var d=Ts,_=this._proxy.style[d];ii(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Et(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();ii(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(s),k=this._getCenterOffset(r)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(k)?!1:(ke(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,Je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Pu(r,s){return new ot(r,s)}var qe=at.extend({options:{position:"topright"},initialize:function(r){Z(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),d=this.getPosition(),_=r._controlCorners[d];return Je(s,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(s,_.firstChild):_.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Et(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),li=function(r){return new qe(r)};ot.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",d=this._controlContainer=ut("div",s+"control-container",this._container);function _(k,B){var W=s+k+" "+s+B;r[k+B]=ut("div",W,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Et(this._controlCorners[r]);Et(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Co=qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,d,_){return d<_?-1:_<d?1:0}},initialize:function(r,s,d){Z(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in s)this._addLayer(s[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return qe.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(m(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=ut("div",r),d=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ko(s),Us(s);var _=this._section=ut("section",r+"-list");d&&(this._map.on("click",this.collapse,this),Xe(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=ut("a",r+"-toggle",s);k.href="#",k.title="Layers",k.setAttribute("role","button"),Xe(k,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){Xt(B),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=ut("div",r+"-base",_),this._separator=ut("div",r+"-separator",_),this._overlaysList=ut("div",r+"-overlays",_),s.appendChild(_)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&m(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,d){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:d}),this.options.sortLayers&&this._layers.sort(f(function(_,k){return this.options.sortFunction(_.layer,k.layer,_.name,k.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wo(this._baseLayersList),wo(this._overlaysList),this._layerControlInputs=[];var r,s,d,_,k=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),s=s||_.overlay,r=r||!_.overlay,k+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&k>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(m(r.target)),d=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;d&&this._map.fire(d,s)},_createRadioElement:function(r,s){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(r){var s=document.createElement("label"),d=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+m(this),d),this._layerControlInputs.push(_),_.layerId=m(r.layer),Xe(_,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+r.name;var B=document.createElement("span");s.appendChild(B),B.appendChild(_),B.appendChild(k);var W=r.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,d,_=[],k=[];this._handlingClick=!0;for(var B=r.length-1;B>=0;B--)s=r[B],d=this._getLayer(s.layerId).layer,s.checked?_.push(d):s.checked||k.push(d);for(B=0;B<k.length;B++)this._map.hasLayer(k[B])&&this._map.removeLayer(k[B]);for(B=0;B<_.length;B++)this._map.hasLayer(_[B])||this._map.addLayer(_[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,d,_=this._map.getZoom(),k=r.length-1;k>=0;k--)s=r[k],d=this._getLayer(s.layerId).layer,s.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Xe(r,"click",Xt),this.expand();var s=this;setTimeout(function(){wt(r,"click",Xt),s._preventClick=!1})}}),pd=function(r,s,d){return new Co(r,s,d)},va=qe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",d=ut("div",s+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,s+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,s+"-out",d,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,d,_,k){var B=ut("a",d,_);return B.innerHTML=r,B.href="#",B.title=s,B.setAttribute("role","button"),B.setAttribute("aria-label",s),ko(B),Xe(B,"click",si),Xe(B,"click",k,this),Xe(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";Nt(this._zoomInButton,s),Nt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Je(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Je(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new va,this.addControl(this.zoomControl))});var md=function(r){return new va(r)},xa=qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",d=ut("div",s),_=this.options;return this._addScales(_,s+"-line",d),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),d},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,d){r.metric&&(this._mScale=ut("div",s,d)),r.imperial&&(this._iScale=ut("div",s,d))},_update:function(){var r=this._map,s=r.getSize().y/2,d=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(d)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),d=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,d,s/r)},_updateImperial:function(r){var s=r*3.2808399,d,_,k;s>5280?(d=s/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(k=this._getRoundNum(s),this._updateScale(this._iScale,k+" ft",k/s))},_updateScale:function(r,s,d){r.style.width=Math.round(this.options.maxWidth*d)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),d=r/s;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,s*d}}),wa=function(r){return new xa(r)},gd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',lr=qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ie.inlineSvg?gd+" ":"")+"Leaflet</a>"},initialize:function(r){Z(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),ko(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var d=[];this.options.prefix&&d.push(this.options.prefix),r.length&&d.push(r.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new lr().addTo(this)});var Tu=function(r){return new lr(r)};qe.Layers=Co,qe.Zoom=va,qe.Scale=xa,qe.Attribution=lr,li.layers=pd,li.zoom=md,li.scale=wa,li.attribution=Tu;var cn=at.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});cn.addTo=function(r,s){return r.addHandler(s,this),this};var _d={Events:ct},Bu=Ie.touch?"touchstart mousedown":"mousedown",zr=nt.extend({options:{clickTolerance:3},initialize:function(r,s,d,_){Z(this,_),this._element=r,this._dragStartTarget=s||r,this._preventOutline=d},enable:function(){this._enabled||(Xe(this._dragStartTarget,Bu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(zr._dragging===this&&this.finishDrag(!0),wt(this._dragStartTarget,Bu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Bs(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){zr._dragging===this&&this.finishDrag();return}if(!(zr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(zr._dragging=this,this._preventOutline&&Rs(this._element),Ds(),bo(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,d=Lu(this._element);this._startPoint=new pe(s.clientX,s.clientY),this._startPos=oi(this._element),this._parentScale=Is(d);var _=r.type==="mousedown";Xe(document,_?"mousemove":"touchmove",this._onMove,this),Xe(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,d=new pe(s.clientX,s.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Xt(r),this._moved||(this.fire("dragstart"),this._moved=!0,Je(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ut(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Nt(document.body,"leaflet-dragging"),this._lastTarget&&(Nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wt(document,"mousemove touchmove",this._onMove,this),wt(document,"mouseup touchend touchcancel",this._onUp,this),Os(),Lo();var s=this._moved&&this._moving;this._moving=!1,zr._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Au(r,s,d){var _,k=[1,4,2,8],B,W,re,ce,ye,Pe,Ve,et;for(B=0,Pe=r.length;B<Pe;B++)r[B]._code=vn(r[B],s);for(re=0;re<4;re++){for(Ve=k[re],_=[],B=0,Pe=r.length,W=Pe-1;B<Pe;W=B++)ce=r[B],ye=r[W],ce._code&Ve?ye._code&Ve||(et=Ur(ye,ce,Ve,s,d),et._code=vn(et,s),_.push(et)):(ye._code&Ve&&(et=Ur(ye,ce,Ve,s,d),et._code=vn(et,s),_.push(et)),_.push(ce));r=_}return r}function ju(r,s){var d,_,k,B,W,re,ce,ye,Pe;if(!r||r.length===0)throw new Error("latlngs not passed");xn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ve=$e([0,0]),et=Qe(r),fn=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());fn<1700&&(Ve=Vs(r));var qt=r.length,wn=[];for(d=0;d<qt;d++){var jt=$e(r[d]);wn.push(s.project($e([jt.lat-Ve.lat,jt.lng-Ve.lng])))}for(re=ce=ye=0,d=0,_=qt-1;d<qt;_=d++)k=wn[d],B=wn[_],W=k.y*B.x-B.y*k.x,ce+=(k.x+B.x)*W,ye+=(k.y+B.y)*W,re+=W*3;re===0?Pe=wn[0]:Pe=[ce/re,ye/re];var dr=s.unproject(be(Pe));return $e([dr.lat+Ve.lat,dr.lng+Ve.lng])}function Vs(r){for(var s=0,d=0,_=0,k=0;k<r.length;k++){var B=$e(r[k]);s+=B.lat,d+=B.lng,_++}return $e([s/_,d/_])}var yd={__proto__:null,clipPolygon:Au,polygonCenter:ju,centroid:Vs};function Du(r,s){if(!s||!r.length)return r.slice();var d=s*s;return r=Ou(r,d),r=Jt(r,d),r}function Gs(r,s,d){return Math.sqrt(Eo(r,s,d,!0))}function vd(r,s,d){return Eo(r,s,d)}function Jt(r,s){var d=r.length,_=typeof Uint8Array!=void 0+""?Uint8Array:Array,k=new _(d);k[0]=k[d-1]=1,nn(r,k,s,0,d-1);var B,W=[];for(B=0;B<d;B++)k[B]&&W.push(r[B]);return W}function nn(r,s,d,_,k){var B=0,W,re,ce;for(re=_+1;re<=k-1;re++)ce=Eo(r[re],r[_],r[k],!0),ce>B&&(W=re,B=ce);B>d&&(s[W]=1,nn(r,s,d,_,W),nn(r,s,d,W,k))}function Ou(r,s){for(var d=[r[0]],_=1,k=0,B=r.length;_<B;_++)xd(r[_],r[k])>s&&(d.push(r[_]),k=_);return k<B-1&&d.push(r[B-1]),d}var ui;function ci(r,s,d,_,k){var B=_?ui:vn(r,d),W=vn(s,d),re,ce,ye;for(ui=W;;){if(!(B|W))return[r,s];if(B&W)return!1;re=B||W,ce=Ur(r,s,re,d,k),ye=vn(ce,d),re===B?(r=ce,B=ye):(s=ce,W=ye)}}function Ur(r,s,d,_,k){var B=s.x-r.x,W=s.y-r.y,re=_.min,ce=_.max,ye,Pe;return d&8?(ye=r.x+B*(ce.y-r.y)/W,Pe=ce.y):d&4?(ye=r.x+B*(re.y-r.y)/W,Pe=re.y):d&2?(ye=ce.x,Pe=r.y+W*(ce.x-r.x)/B):d&1&&(ye=re.x,Pe=r.y+W*(re.x-r.x)/B),new pe(ye,Pe,k)}function vn(r,s){var d=0;return r.x<s.min.x?d|=1:r.x>s.max.x&&(d|=2),r.y<s.min.y?d|=4:r.y>s.max.y&&(d|=8),d}function xd(r,s){var d=s.x-r.x,_=s.y-r.y;return d*d+_*_}function Eo(r,s,d,_){var k=s.x,B=s.y,W=d.x-k,re=d.y-B,ce=W*W+re*re,ye;return ce>0&&(ye=((r.x-k)*W+(r.y-B)*re)/ce,ye>1?(k=d.x,B=d.y):ye>0&&(k+=W*ye,B+=re*ye)),W=r.x-k,re=r.y-B,_?W*W+re*re:new pe(k,B)}function xn(r){return!I(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Fn(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),xn(r)}function Hs(r,s){var d,_,k,B,W,re,ce,ye;if(!r||r.length===0)throw new Error("latlngs not passed");xn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Pe=$e([0,0]),Ve=Qe(r),et=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());et<1700&&(Pe=Vs(r));var fn=r.length,qt=[];for(d=0;d<fn;d++){var wn=$e(r[d]);qt.push(s.project($e([wn.lat-Pe.lat,wn.lng-Pe.lng])))}for(d=0,_=0;d<fn-1;d++)_+=qt[d].distanceTo(qt[d+1])/2;if(_===0)ye=qt[0];else for(d=0,B=0;d<fn-1;d++)if(W=qt[d],re=qt[d+1],k=W.distanceTo(re),B+=k,B>_){ce=(B-_)/k,ye=[re.x-ce*(re.x-W.x),re.y-ce*(re.y-W.y)];break}var jt=s.unproject(be(ye));return $e([jt.lat+Pe.lat,jt.lng+Pe.lng])}var ba={__proto__:null,simplify:Du,pointToSegmentDistance:Gs,closestPointOnSegment:vd,clipSegment:ci,_getEdgeIntersection:Ur,_getBitCode:vn,_sqClosestPointOnSegment:Eo,isFlat:xn,_flat:Fn,polylineCenter:Hs},Zs={project:function(r){return new pe(r.lng,r.lat)},unproject:function(r){return new We(r.y,r.x)},bounds:new Oe([-180,-90],[180,90])},zn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Oe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,d=this.R,_=r.lat*s,k=this.R_MINOR/d,B=Math.sqrt(1-k*k),W=B*Math.sin(_),re=Math.tan(Math.PI/4-_/2)/Math.pow((1-W)/(1+W),B/2);return _=-d*Math.log(Math.max(re,1e-10)),new pe(r.lng*s*d,_)},unproject:function(r){for(var s=180/Math.PI,d=this.R,_=this.R_MINOR/d,k=Math.sqrt(1-_*_),B=Math.exp(-r.y/d),W=Math.PI/2-2*Math.atan(B),re=0,ce=.1,ye;re<15&&Math.abs(ce)>1e-7;re++)ye=k*Math.sin(W),ye=Math.pow((1-ye)/(1+ye),k/2),ce=Math.PI/2-2*Math.atan(B*ye)-W,W+=ce;return new We(W*s,r.x*s/d)}},ur={__proto__:null,LonLat:Zs,Mercator:zn,SphericalMercator:lt},La=l({},fe,{code:"EPSG:3395",projection:zn,transformation:function(){var r=.5/(Math.PI*zn.R);return Pt(r,.5,-r,.5)}()}),Ws=l({},fe,{code:"EPSG:4326",projection:Zs,transformation:Pt(1/180,1,-1/180,.5)}),Ks=l({},Ct,{projection:Zs,transformation:Pt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var d=s.lng-r.lng,_=s.lat-r.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Ct.Earth=fe,Ct.EPSG3395=La,Ct.EPSG3857=xt,Ct.EPSG900913=tn,Ct.EPSG4326=Ws,Ct.Simple=Ks;var hn=nt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[m(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[m(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var d=this.getEvents();s.on(d,this),this.once("remove",function(){s.off(d,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=m(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=m(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return m(r)in this._layers},eachLayer:function(r,s){for(var d in this._layers)r.call(s,this._layers[d]);return this},_addLayers:function(r){r=r?I(r)?r:[r]:[];for(var s=0,d=r.length;s<d;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[m(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=m(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var k=this._zoomBoundLayers[_].options;r=k.minZoom===void 0?r:Math.min(r,k.minZoom),s=k.maxZoom===void 0?s:Math.max(s,k.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ji=hn.extend({initialize:function(r,s){Z(this,s),this._layers={};var d,_;if(r)for(d=0,_=r.length;d<_;d++)this.addLayer(r[d])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[r]&&_[r].apply(_,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var d in this._layers)r.call(s,this._layers[d]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return m(r)}}),wd=function(r,s){return new ji(r,s)},qn=ji.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ji.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ji.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new pt;for(var s in this._layers){var d=this._layers[s];r.extend(d.getBounds?d.getBounds():d.getLatLng())}return r}}),bd=function(r,s){return new qn(r,s)},Di=at.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){Z(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var d=this._getIconUrl(r);if(!d){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,s){var d=this.options,_=d[s+"Size"];typeof _=="number"&&(_=[_,_]);var k=be(_),B=be(s==="shadow"&&d.shadowAnchor||d.iconAnchor||k&&k.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(d.className||""),B&&(r.style.marginLeft=-B.x+"px",r.style.marginTop=-B.y+"px"),k&&(r.style.width=k.x+"px",r.style.height=k.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return Ie.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Ld(r){return new Di(r)}var Mo=Di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Mo.imagePath!="string"&&(Mo.imagePath=this._detectIconPath()),(this.options.imagePath||Mo.imagePath)+Di.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(d,_,k){var B=_.exec(d);return B&&B[k]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ut("div","leaflet-default-icon-path",document.body),s=Ir(r,"background-image")||Ir(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),ka=cn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new zr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Je(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,d=s._map,_=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,B=oi(s._icon),W=d.getPixelBounds(),re=d.getPixelOrigin(),ce=Ge(W.min._subtract(re).add(k),W.max._subtract(re).subtract(k));if(!ce.contains(B)){var ye=be((Math.max(ce.max.x,B.x)-ce.max.x)/(W.max.x-ce.max.x)-(Math.min(ce.min.x,B.x)-ce.min.x)/(W.min.x-ce.min.x),(Math.max(ce.max.y,B.y)-ce.max.y)/(W.max.y-ce.max.y)-(Math.min(ce.min.y,B.y)-ce.min.y)/(W.min.y-ce.min.y)).multiplyBy(_);d.panBy(ye,{animate:!1}),this._draggable._newPos._add(ye),this._draggable._startPos._add(ye),Ut(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=ke(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Ye(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,d=s._shadow,_=oi(s._icon),k=s._map.layerPointToLatLng(_);d&&Ut(d,_),s._latlng=k,r.latlng=k,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Ye(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Ca=hn.extend({options:{icon:new Mo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){Z(this,s),this._latlng=$e(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=$e(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=r.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(d.title=r.title),d.tagName==="IMG"&&(d.alt=r.alt||"")),Je(d,s),r.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(d,"focus",this._panOnFocus,this);var k=r.icon.createShadow(this._shadow),B=!1;k!==this._shadow&&(this._removeShadow(),B=!0),k&&(Je(k,s),k.alt=""),this._shadow=k,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&B&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(this._icon,"focus",this._panOnFocus,this),Et(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Et(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ut(this._icon,r),this._shadow&&Ut(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ka)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ka(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&In(this._icon,r),this._shadow&&In(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,d=s.iconSize?be(s.iconSize):be(0,0),_=s.iconAnchor?be(s.iconAnchor):be(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function kd(r,s){return new Ca(r,s)}var br=hn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return Z(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),cr=br.extend({options:{fill:!0,radius:10},initialize:function(r,s){Z(this,s),this._latlng=$e(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=$e(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return br.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,d=this._clickTolerance(),_=[r+d,s+d];this._pxBounds=new Oe(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nu(r,s){return new cr(r,s)}var qs=cr.extend({initialize:function(r,s,d){if(typeof s=="number"&&(s=l({},d,{radius:s})),Z(this,s),this._latlng=$e(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new pt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:br.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===fe.distance){var k=Math.PI/180,B=this._mRadius/fe.R/k,W=d.project([s+B,r]),re=d.project([s-B,r]),ce=W.add(re).divideBy(2),ye=d.unproject(ce).lat,Pe=Math.acos((Math.cos(B*k)-Math.sin(s*k)*Math.sin(ye*k))/(Math.cos(s*k)*Math.cos(ye*k)))/k;(isNaN(Pe)||Pe===0)&&(Pe=B/Math.cos(Math.PI/180*s)),this._point=ce.subtract(d.getPixelOrigin()),this._radius=isNaN(Pe)?0:ce.x-d.project([ye,r-Pe]).x,this._radiusY=ce.y-W.y}else{var Ve=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ve).x}this._updateBounds()}});function hi(r,s,d){return new qs(r,s,d)}var Lr=br.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){Z(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,d=null,_=Eo,k,B,W=0,re=this._parts.length;W<re;W++)for(var ce=this._parts[W],ye=1,Pe=ce.length;ye<Pe;ye++){k=ce[ye-1],B=ce[ye];var Ve=_(r,k,B,!0);Ve<s&&(s=Ve,d=_(r,k,B))}return d&&(d.distance=Math.sqrt(s)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=$e(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new pt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return xn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],d=xn(r),_=0,k=r.length;_<k;_++)d?(s[_]=$e(r[_]),this._bounds.extend(s[_])):s[_]=this._convertLatLngs(r[_]);return s},_project:function(){var r=new Oe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new pe(r,r);this._rawPxBounds&&(this._pxBounds=new Oe([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,d){var _=r[0]instanceof We,k=r.length,B,W;if(_){for(W=[],B=0;B<k;B++)W[B]=this._map.latLngToLayerPoint(r[B]),d.extend(W[B]);s.push(W)}else for(B=0;B<k;B++)this._projectLatlngs(r[B],s,d)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,d,_,k,B,W,re,ce;for(d=0,k=0,B=this._rings.length;d<B;d++)for(ce=this._rings[d],_=0,W=ce.length;_<W-1;_++)re=ci(ce[_],ce[_+1],r,_,!0),re&&(s[k]=s[k]||[],s[k].push(re[0]),(re[1]!==ce[_+1]||_===W-2)&&(s[k].push(re[1]),k++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,d=0,_=r.length;d<_;d++)r[d]=Du(r[d],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var d,_,k,B,W,re,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(d=0,B=this._parts.length;d<B;d++)for(re=this._parts[d],_=0,W=re.length,k=W-1;_<W;k=_++)if(!(!s&&_===0)&&Gs(r,re[k],re[_])<=ce)return!0;return!1}});function Cd(r,s){return new Lr(r,s)}Lr._flat=Fn;var $r=Lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ju(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=Lr.prototype._convertLatLngs.call(this,r),d=s.length;return d>=2&&s[0]instanceof We&&s[0].equals(s[d-1])&&s.pop(),s},_setLatLngs:function(r){Lr.prototype._setLatLngs.call(this,r),xn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return xn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,d=new pe(s,s);if(r=new Oe(r.min.subtract(d),r.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,k=this._rings.length,B;_<k;_++)B=Au(this._rings[_],r,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,d,_,k,B,W,re,ce,ye;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(B=0,ce=this._parts.length;B<ce;B++)for(d=this._parts[B],W=0,ye=d.length,re=ye-1;W<ye;re=W++)_=d[W],k=d[re],_.y>r.y!=k.y>r.y&&r.x<(k.x-_.x)*(r.y-_.y)/(k.y-_.y)+_.x&&(s=!s);return s||Lr.prototype._containsPoint.call(this,r,!0)}});function So(r,s){return new $r(r,s)}var kr=qn.extend({initialize:function(r,s){Z(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=I(r)?r:r.features,d,_,k;if(s){for(d=0,_=s.length;d<_;d++)k=s[d],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var B=this.options;if(B.filter&&!B.filter(r))return this;var W=Ea(r,B);return W?(W.feature=Ba(r),W.defaultOptions=W.options,this.resetStyle(W),B.onEachFeature&&B.onEachFeature(r,W),this.addLayer(W)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function Ea(r,s){var d=r.type==="Feature"?r.geometry:r,_=d?d.coordinates:null,k=[],B=s&&s.pointToLayer,W=s&&s.coordsToLatLng||Ma,re,ce,ye,Pe;if(!_&&!d)return null;switch(d.type){case"Point":return re=W(_),Ru(B,r,re,s);case"MultiPoint":for(ye=0,Pe=_.length;ye<Pe;ye++)re=W(_[ye]),k.push(Ru(B,r,re,s));return new qn(k);case"LineString":case"MultiLineString":return ce=Sa(_,d.type==="LineString"?0:1,W),new Lr(ce,s);case"Polygon":case"MultiPolygon":return ce=Sa(_,d.type==="Polygon"?1:2,W),new $r(ce,s);case"GeometryCollection":for(ye=0,Pe=d.geometries.length;ye<Pe;ye++){var Ve=Ea({geometry:d.geometries[ye],type:"Feature",properties:r.properties},s);Ve&&k.push(Ve)}return new qn(k);case"FeatureCollection":for(ye=0,Pe=d.features.length;ye<Pe;ye++){var et=Ea(d.features[ye],s);et&&k.push(et)}return new qn(k);default:throw new Error("Invalid GeoJSON object.")}}function Ru(r,s,d,_){return r?r(s,d):new Ca(d,_&&_.markersInheritOptions&&_)}function Ma(r){return new We(r[1],r[0],r[2])}function Sa(r,s,d){for(var _=[],k=0,B=r.length,W;k<B;k++)W=s?Sa(r[k],s-1,d):(d||Ma)(r[k]),_.push(W);return _}function Pa(r,s){return r=$e(r),r.alt!==void 0?[M(r.lng,s),M(r.lat,s),M(r.alt,s)]:[M(r.lng,s),M(r.lat,s)]}function Ta(r,s,d,_){for(var k=[],B=0,W=r.length;B<W;B++)k.push(s?Ta(r[B],xn(r[B])?0:s-1,d,_):Pa(r[B],_));return!s&&d&&k.length>0&&k.push(k[0].slice()),k}function Oi(r,s){return r.feature?l({},r.feature,{geometry:s}):Ba(s)}function Ba(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Aa={toGeoJSON:function(r){return Oi(this,{type:"Point",coordinates:Pa(this.getLatLng(),r)})}};Ca.include(Aa),qs.include(Aa),cr.include(Aa),Lr.include({toGeoJSON:function(r){var s=!xn(this._latlngs),d=Ta(this._latlngs,s?1:0,!1,r);return Oi(this,{type:(s?"Multi":"")+"LineString",coordinates:d})}}),$r.include({toGeoJSON:function(r){var s=!xn(this._latlngs),d=s&&!xn(this._latlngs[0]),_=Ta(this._latlngs,d?2:s?1:0,!0,r);return s||(_=[_]),Oi(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),ji.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(d){s.push(d.toGeoJSON(r).geometry.coordinates)}),Oi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var d=s==="GeometryCollection",_=[];return this.eachLayer(function(k){if(k.toGeoJSON){var B=k.toGeoJSON(r);if(d)_.push(B.geometry);else{var W=Ba(B);W.type==="FeatureCollection"?_.push.apply(_,W.features):_.push(W)}}}),d?Oi(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function ja(r,s){return new kr(r,s)}var Iu=ja,Ni=hn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,d){this._url=r,this._bounds=Qe(s),Z(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Et(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Bi(this._image),this},bringToBack:function(){return this._map&&ri(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Qe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:ut("img");if(Je(s,"leaflet-image-layer"),this._zoomAnimated&&Je(s,"leaflet-zoom-animated"),this.options.className&&Je(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onload=f(this.fire,this,"load"),s.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ii(this._image,d,s)},_reset:function(){var r=this._image,s=new Oe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=s.getSize();Ut(r,s.min),r.style.width=d.x+"px",r.style.height=d.y+"px"},_updateOpacity:function(){In(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Ed=function(r,s,d){return new Ni(r,s,d)},Po=Ni.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:ut("video");if(Je(s,"leaflet-image-layer"),this._zoomAnimated&&Je(s,"leaflet-zoom-animated"),this.options.className&&Je(s,this.options.className),s.onselectstart=S,s.onmousemove=S,s.onloadeddata=f(this.fire,this,"load"),r){for(var d=s.getElementsByTagName("source"),_=[],k=0;k<d.length;k++)_.push(d[k].src);this._url=d.length>0?_:[s.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var W=ut("source");W.src=this._url[B],s.appendChild(W)}}});function Fu(r,s,d){return new Po(r,s,d)}var zu=Ni.extend({_initImage:function(){var r=this._image=this._url;Je(r,"leaflet-image-layer"),this._zoomAnimated&&Je(r,"leaflet-zoom-animated"),this.options.className&&Je(r,this.options.className),r.onselectstart=S,r.onmousemove=S}});function Md(r,s,d){return new zu(r,s,d)}var hr=hn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof We||I(r))?(this._latlng=$e(r),Z(this,s)):(Z(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&In(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&In(this._container,1),this.bringToFront(),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(In(this._container,0),this._removeTimeout=setTimeout(f(Et,void 0,this._container),200)):Et(this._container),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=$e(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bi(this._container),this},bringToBack:function(){return this._map&&ri(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof qn){s=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){s=d[_];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=be(this.options.offset),d=this._getAnchor();this._zoomAnimated?Ut(this._container,r.add(d)):s=s.add(r).add(d);var _=this._containerBottom=-s.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=_+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(r,s,d,_){var k=s;return k instanceof r||(k=new r(_).setContent(s)),d&&k.setLatLng(d),k}}),hn.include({_initOverlay:function(r,s,d,_){var k=d;return k instanceof r?(Z(k,_),k._source=this):(k=s&&!_?s:new r(_,this),k.setContent(d)),k}});var Vr=hr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,hr.prototype.openOn.call(this,r)},onAdd:function(r){hr.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof br||this._source.on("preclick",ai))},onRemove:function(r){hr.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof br||this._source.off("preclick",ai))},getEvents:function(){var r=hr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=ut("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=ut("div",r+"-content-wrapper",s);if(this._contentNode=ut("div",r+"-content",d),ko(s),Us(this._contentNode),Xe(s,"contextmenu",ai),this._tipContainer=ut("div",r+"-tip-container",s),this._tip=ut("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=ut("a",r+"-close-button",s);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Xe(_,"click",function(k){Xt(k),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var d=r.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),s.width=d+1+"px",s.whiteSpace="",s.height="";var _=r.offsetHeight,k=this.options.maxHeight,B="leaflet-popup-scrolled";k&&_>k?(s.height=k+"px",Je(r,B)):Nt(r,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),d=this._getAnchor();Ut(this._container,s.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(Ir(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+s,_=this._containerWidth,k=new pe(this._containerLeft,-d-this._containerBottom);k._add(oi(this._container));var B=r.layerPointToContainerPoint(k),W=be(this.options.autoPanPadding),re=be(this.options.autoPanPaddingTopLeft||W),ce=be(this.options.autoPanPaddingBottomRight||W),ye=r.getSize(),Pe=0,Ve=0;B.x+_+ce.x>ye.x&&(Pe=B.x+_-ye.x+ce.x),B.x-Pe-re.x<0&&(Pe=B.x-re.x),B.y+d+ce.y>ye.y&&(Ve=B.y+d-ye.y+ce.y),B.y-Ve-re.y<0&&(Ve=B.y-re.y),(Pe||Ve)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Pe,Ve]))}},_getAnchor:function(){return be(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Sd=function(r,s){return new Vr(r,s)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(r,s,d){return this._initOverlay(Vr,r,s,d).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),hn.include({bindPopup:function(r,s){return this._popup=this._initOverlay(Vr,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof qn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){si(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof br)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Da=hr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){hr.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){hr.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=hr.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,d,_=this._map,k=this._container,B=_.latLngToContainerPoint(_.getCenter()),W=_.layerPointToContainerPoint(r),re=this.options.direction,ce=k.offsetWidth,ye=k.offsetHeight,Pe=be(this.options.offset),Ve=this._getAnchor();re==="top"?(s=ce/2,d=ye):re==="bottom"?(s=ce/2,d=0):re==="center"?(s=ce/2,d=ye/2):re==="right"?(s=0,d=ye/2):re==="left"?(s=ce,d=ye/2):W.x<B.x?(re="right",s=0,d=ye/2):(re="left",s=ce+(Pe.x+Ve.x)*2,d=ye/2),r=r.subtract(be(s,d,!0)).add(Pe).add(Ve),Nt(k,"leaflet-tooltip-right"),Nt(k,"leaflet-tooltip-left"),Nt(k,"leaflet-tooltip-top"),Nt(k,"leaflet-tooltip-bottom"),Je(k,"leaflet-tooltip-"+re),Ut(k,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&In(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return be(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pd=function(r,s){return new Da(r,s)};ot.include({openTooltip:function(r,s,d){return this._initOverlay(Da,r,s,d).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),hn.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Da,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[s](d),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof qn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(Xe(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Xe(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,d,_;this._tooltip.options.sticky&&r.originalEvent&&(d=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(d),s=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(s)}});var Uu=Di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),d=this.options;if(d.html instanceof Element?(wo(s),s.appendChild(d.html)):s.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=be(d.bgPos);s.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Td(r){return new Uu(r)}Di.Default=Mo;var To=hn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ie.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){Z(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Et(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ri(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof pe?r:new pe(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,d=-r(-1/0,1/0),_=0,k=s.length,B;_<k;_++)B=s[_].style.zIndex,s[_]!==this._container&&B&&(d=r(d,+B));isFinite(d)&&(this.options.zIndex=d+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ie.ielt9){In(this._container,this.options.opacity);var r=+new Date,s=!1,d=!1;for(var _ in this._tiles){var k=this._tiles[_];if(!(!k.current||!k.loaded)){var B=Math.min(1,(r-k.loaded)/200);In(k.el,B),B<1?s=!0:(k.active?d=!0:this._onOpaqueTile(k),k.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),s&&(Ye(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:S,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===r?(this._levels[d].el.style.zIndex=s-Math.abs(r-d),this._onUpdateLevel(d)):(Et(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[r],k=this._map;return _||(_=this._levels[r]={},_.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=s,_.origin=k.project(k.unproject(k.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,k.getCenter(),k.getZoom()),S(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:S,_onRemoveLevel:S,_onCreateLevel:S,_pruneTiles:function(){if(this._map){var r,s,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var _=s.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Et(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,d,_){var k=Math.floor(r/2),B=Math.floor(s/2),W=d-1,re=new pe(+k,+B);re.z=+W;var ce=this._tileCoordsToKey(re),ye=this._tiles[ce];return ye&&ye.active?(ye.retain=!0,!0):(ye&&ye.loaded&&(ye.retain=!0),W>_?this._retainParent(k,B,W,_):!1)},_retainChildren:function(r,s,d,_){for(var k=2*r;k<2*r+2;k++)for(var B=2*s;B<2*s+2;B++){var W=new pe(k,B);W.z=d+1;var re=this._tileCoordsToKey(W),ce=this._tiles[re];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);d+1<_&&this._retainChildren(k,B,d+1,_)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,d,_){var k=Math.round(s);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var B=this.options.updateWhenZooming&&k!==this._tileZoom;(!_||B)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(r),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var d in this._levels)this._setZoomTransform(this._levels[d],r,s)},_setZoomTransform:function(r,s,d){var _=this._map.getZoomScale(d,r.zoom),k=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(s,d)).round();Ie.any3d?ii(r.el,k,_):Ut(r.el,k)},_resetGrid:function(){var r=this._map,s=r.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],_).x/d.x),Math.ceil(r.project([0,s.wrapLng[1]],_).x/d.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],_).y/d.x),Math.ceil(r.project([s.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,d=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),_=s.getZoomScale(d,this._tileZoom),k=s.project(r,this._tileZoom).floor(),B=s.getSize().divideBy(_*2);return new Oe(k.subtract(B),k.add(B))},_update:function(r){var s=this._map;if(s){var d=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),k=this._pxBoundsToTileRange(_),B=k.getCenter(),W=[],re=this.options.keepBuffer,ce=new Oe(k.getBottomLeft().subtract([re,-re]),k.getTopRight().add([re,-re]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ye in this._tiles){var Pe=this._tiles[ye].coords;(Pe.z!==this._tileZoom||!ce.contains(new pe(Pe.x,Pe.y)))&&(this._tiles[ye].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(r,d);return}for(var Ve=k.min.y;Ve<=k.max.y;Ve++)for(var et=k.min.x;et<=k.max.x;et++){var fn=new pe(et,Ve);if(fn.z=this._tileZoom,!!this._isValidTile(fn)){var qt=this._tiles[this._tileCoordsToKey(fn)];qt?qt.current=!0:W.push(fn)}}if(W.sort(function(jt,dr){return jt.distanceTo(B)-dr.distanceTo(B)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wn=document.createDocumentFragment();for(et=0;et<W.length;et++)this._addTile(W[et],wn);this._level.el.appendChild(wn)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var d=this._globalTileRange;if(!s.wrapLng&&(r.x<d.min.x||r.x>d.max.x)||!s.wrapLat&&(r.y<d.min.y||r.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return Qe(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,d=this.getTileSize(),_=r.scaleBy(d),k=_.add(d),B=s.unproject(_,r.z),W=s.unproject(k,r.z);return[B,W]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),d=new pt(s[0],s[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),d=new pe(+s[0],+s[1]);return d.z=+s[2],d},_removeTile:function(r){var s=this._tiles[r];s&&(Et(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Je(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=S,r.onmousemove=S,Ie.ielt9&&this.options.opacity<1&&In(r,this.options.opacity)},_addTile:function(r,s){var d=this._getTilePos(r),_=this._tileCoordsToKey(r),k=this.createTile(this._wrapCoords(r),f(this._tileReady,this,r));this._initTile(k),this.createTile.length<2&&ke(f(this._tileReady,this,r,null,k)),Ut(k,d),this._tiles[_]={el:k,coords:r,current:!0},s.appendChild(k),this.fire("tileloadstart",{tile:k,coords:r})},_tileReady:function(r,s,d){s&&this.fire("tileerror",{error:s,tile:d,coords:r});var _=this._tileCoordsToKey(r);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(In(d.el,0),Ye(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),s||(Je(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ie.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new pe(this._wrapX?C(r.x,this._wrapX):r.x,this._wrapY?C(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new Oe(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Bd(r){return new To(r)}var Ri=To.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=Z(this,s),s.detectRetina&&Ie.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var d=document.createElement("img");return Xe(d,"load",f(this._tileOnLoad,this,s,d)),Xe(d,"error",f(this._tileOnError,this,s,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(r),d},getTileUrl:function(r){var s={r:Ie.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=d),s["-y"]=d}return D(this._url,l(s,this.options))},_tileOnLoad:function(r,s){Ie.ielt9?setTimeout(f(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,d){var _=this.options.errorTileUrl;_&&s.getAttribute("src")!==_&&(s.src=_),r(d,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(r=s-r),r+_},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=S,s.onerror=S,!s.complete)){s.src=ne;var d=this._tiles[r].coords;Et(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:d})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",ne),To.prototype._removeTile.call(this,r)},_tileReady:function(r,s,d){if(!(!this._map||d&&d.getAttribute("src")===ne))return To.prototype._tileReady.call(this,r,s,d)}});function Ys(r,s){return new Ri(r,s)}var Oa=Ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var d=l({},this.defaultWmsParams);for(var _ in s)_ in this.options||(d[_]=s[_]);s=Z(this,s);var k=s.detectRetina&&Ie.retina?2:1,B=this.getTileSize();d.width=B.x*k,d.height=B.y*k,this.wmsParams=d},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Ri.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),d=this._crs,_=Ge(d.project(s[0]),d.project(s[1])),k=_.min,B=_.max,W=(this._wmsVersion>=1.3&&this._crs===Ws?[k.y,k.x,B.y,B.x]:[k.x,k.y,B.x,B.y]).join(","),re=Ri.prototype.getTileUrl.call(this,r);return re+X(this.wmsParams,re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(r,s){return l(this.wmsParams,r),s||this.redraw(),this}});function Ad(r,s){return new Oa(r,s)}Ri.WMS=Oa,Ys.wms=Ad;var Cr=hn.extend({options:{padding:.1},initialize:function(r){Z(this,r),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var d=this._map.getZoomScale(s,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,s),B=_.multiplyBy(-d).add(k).subtract(this._map._getNewPixelOrigin(r,s));Ie.any3d?ii(this._container,B,d):Ut(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),d=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new Oe(d,d.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xs=Cr.extend({options:{tolerance:0},getEvents:function(){var r=Cr.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Xe(r,"mousemove",this._onMouseMove,this),Xe(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Xe(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Ye(this._redrawRequest),delete this._ctx,Et(this._container),wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cr.prototype._update.call(this);var r=this._bounds,s=this._container,d=r.getSize(),_=Ie.retina?2:1;Ut(s,r.min),s.width=_*d.x,s.height=_*d.y,s.style.width=d.x+"px",s.style.height=d.y+"px",Ie.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Cr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[m(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,d=s.next,_=s.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete r._order,delete this._layers[m(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),d=[],_,k;for(k=0;k<s.length;k++){if(_=Number(s[k]),isNaN(_))return;d.push(_)}r.options._dashArray=d}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Oe,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var d=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var d,_,k,B,W=r._parts,re=W.length,ce=this._ctx;if(re){for(ce.beginPath(),d=0;d<re;d++){for(_=0,k=W[d].length;_<k;_++)B=W[d][_],ce[_?"lineTo":"moveTo"](B.x,B.y);s&&ce.closePath()}this._fillStroke(ce,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,d=this._ctx,_=Math.max(Math.round(r._radius),1),k=(Math.max(Math.round(r._radiusY),1)||_)/_;k!==1&&(d.save(),d.scale(1,k)),d.beginPath(),d.arc(s.x,s.y/k,_,0,Math.PI*2,!1),k!==1&&d.restore(),this._fillStroke(d,r)}},_fillStroke:function(r,s){var d=s.options;d.fill&&(r.globalAlpha=d.fillOpacity,r.fillStyle=d.fillColor||d.color,r.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=d.opacity,r.lineWidth=d.weight,r.strokeStyle=d.color,r.lineCap=d.lineCap,r.lineJoin=d.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),d,_,k=this._drawFirst;k;k=k.next)d=k.layer,d.options.interactive&&d._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var d,_,k=this._drawFirst;k;k=k.next)d=k.layer,d.options.interactive&&d._containsPoint(s)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(Je(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,d){this._map._fireDOMEvent(s,d||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var d=s.next,_=s.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var d=s.next,_=s.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function Na(r){return Ie.canvas?new Xs(r):null}var Bo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),jd={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cr.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=Bo("shape");Je(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=Bo("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[m(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Et(s),r.removeInteractiveTarget(s),delete this._layers[m(r)]},_updateStyle:function(r){var s=r._stroke,d=r._fill,_=r.options,k=r._container;k.stroked=!!_.stroke,k.filled=!!_.fill,_.stroke?(s||(s=r._stroke=Bo("stroke")),k.appendChild(s),s.weight=_.weight+"px",s.color=_.color,s.opacity=_.opacity,_.dashArray?s.dashStyle=I(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=_.lineCap.replace("butt","flat"),s.joinstyle=_.lineJoin):s&&(k.removeChild(s),r._stroke=null),_.fill?(d||(d=r._fill=Bo("fill")),k.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(k.removeChild(d),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),d=Math.round(r._radius),_=Math.round(r._radiusY||d);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){Bi(r._container)},_bringToBack:function(r){ri(r._container)}},Ii=Ie.vml?Bo:un,rn=Cr.extend({_initContainer:function(){this._container=Ii("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ii("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Et(this._container),wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cr.prototype._update.call(this);var r=this._bounds,s=r.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,d.setAttribute("width",s.x),d.setAttribute("height",s.y)),Ut(d,r.min),d.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=Ii("path");r.options.className&&Je(s,r.options.className),r.options.interactive&&Je(s,"leaflet-interactive"),this._updateStyle(r),this._layers[m(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Et(r._path),r.removeInteractiveTarget(r._path),delete this._layers[m(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,d=r.options;s&&(d.stroke?(s.setAttribute("stroke",d.color),s.setAttribute("stroke-opacity",d.opacity),s.setAttribute("stroke-width",d.weight),s.setAttribute("stroke-linecap",d.lineCap),s.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?s.setAttribute("stroke-dasharray",d.dashArray):s.removeAttribute("stroke-dasharray"),d.dashOffset?s.setAttribute("stroke-dashoffset",d.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),d.fill?(s.setAttribute("fill",d.fillColor||d.color),s.setAttribute("fill-opacity",d.fillOpacity),s.setAttribute("fill-rule",d.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,Wn(r._parts,s))},_updateCircle:function(r){var s=r._point,d=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||d,k="a"+d+","+_+" 0 1,0 ",B=r._empty()?"M0 0":"M"+(s.x-d)+","+s.y+k+d*2+",0 "+k+-d*2+",0 ";this._setPath(r,B)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){Bi(r._path)},_bringToBack:function(r){ri(r._path)}});Ie.vml&&rn.include(jd);function dn(r){return Ie.svg||Ie.vml?new rn(r):null}ot.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&Na(r)||dn(r)}});var Js=$r.extend({initialize:function(r,s){$r.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Qe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Yn(r,s){return new Js(r,s)}rn.create=Ii,rn.pointsToPath=Wn,kr.geometryToLayer=Ea,kr.coordsToLatLng=Ma,kr.coordsToLatLngs=Sa,kr.latLngToCoords=Pa,kr.latLngsToCoords=Ta,kr.getFeature=Oi,kr.asFeature=Ba,ot.mergeOptions({boxZoom:!0});var Ke=cn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Et(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),bo(),Ds(),this._startPoint=this._map.mouseEventToContainerPoint(r),Xe(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),Je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new Oe(this._point,this._startPoint),d=s.getSize();Ut(this._box,s.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Et(this._box),Nt(this._container,"leaflet-crosshair")),Lo(),Os(),wt(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var s=new pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",Ke),ot.mergeOptions({doubleClickZoom:!0});var Ra=cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,d=s.getZoom(),_=s.options.zoomDelta,k=r.originalEvent.shiftKey?d-_:d+_;s.options.doubleClickZoom==="center"?s.setZoom(k):s.setZoomAround(r.containerPoint,k)}});ot.addInitHook("addHandler","doubleClickZoom",Ra),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ia=cn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new zr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nt(this._map._container,"leaflet-grab"),Nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=Qe(this._map.options.maxBounds);this._offsetLimit=Ge(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,k=(_-s+d)%r+s-d,B=(_+s+d)%r-s-d,W=Math.abs(k+d)<Math.abs(B+d)?k:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(r){var s=this._map,d=s.options,_=!d.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),_)s.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,W=d.easeLinearity,re=k.multiplyBy(W/B),ce=re.distanceTo([0,0]),ye=Math.min(d.inertiaMaxSpeed,ce),Pe=re.multiplyBy(ye/ce),Ve=ye/(d.inertiaDeceleration*W),et=Pe.multiplyBy(-Ve/2).round();!et.x&&!et.y?s.fire("moveend"):(et=s._limitOffset(et,s.options.maxBounds),ke(function(){s.panBy(et,{duration:Ve,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",Ia),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Er=cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Xe(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,d=r.scrollTop||s.scrollTop,_=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},d=this.keyCodes,_,k;for(_=0,k=d.left.length;_<k;_++)s[d.left[_]]=[-1*r,0];for(_=0,k=d.right.length;_<k;_++)s[d.right[_]]=[r,0];for(_=0,k=d.down.length;_<k;_++)s[d.down[_]]=[0,r];for(_=0,k=d.up.length;_<k;_++)s[d.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},d=this.keyCodes,_,k;for(_=0,k=d.zoomIn.length;_<k;_++)s[d.zoomIn[_]]=r;for(_=0,k=d.zoomOut.length;_<k;_++)s[d.zoomOut[_]]=-r},_addHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,d=this._map,_;if(s in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[s],r.shiftKey&&(_=be(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(be(_),d.options.maxBounds)),d.options.worldCopyJump){var k=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(k)}else d.panBy(_)}else if(s in this._zoomKeys)d.setZoom(d.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;si(r)}}});ot.addInitHook("addHandler","keyboard",Er),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ht=cn.extend({addHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=Mu(r),d=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),_),si(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),d=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,B=d?Math.ceil(k/d)*d:k,W=r._limitZoom(s+(this._delta>0?B:-B))-s;this._delta=0,this._startTime=null,W&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+W):r.setZoomAround(this._lastMousePos,s+W))}});ot.addInitHook("addHandler","scrollWheelZoom",Ht);var $u=600;ot.mergeOptions({tapHold:Ie.touchNative&&Ie.safari&&Ie.mobile,tapTolerance:15});var Sn=cn.extend({addHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new pe(s.clientX,s.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Xe(document,"touchend",Xt),Xe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),$u),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){wt(document,"touchend",Xt),wt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new pe(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var d=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});d._simulated=!0,s.target.dispatchEvent(d)}});ot.addInitHook("addHandler","tapHold",Sn),ot.mergeOptions({touchZoom:Ie.touch,bounceAtZoomLimits:!0});var Pn=cn.extend({addHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var d=s.mouseEventToContainerPoint(r.touches[0]),_=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),Xt(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,d=s.mouseEventToContainerPoint(r.touches[0]),_=s.mouseEventToContainerPoint(r.touches[1]),k=d.distanceTo(_)/this._startDist;if(this._zoom=s.getScaleZoom(k,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&k<1||this._zoom>s.getMaxZoom()&&k>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var B=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(k===1&&B.x===0&&B.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Ye(this._animRequest);var W=f(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(W,this,!0),Xt(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ye(this._animRequest),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",Pn),ot.BoxZoom=Ke,ot.DoubleClickZoom=Ra,ot.Drag=Ia,ot.Keyboard=Er,ot.ScrollWheelZoom=Ht,ot.TapHold=Sn,ot.TouchZoom=Pn,n.Bounds=Oe,n.Browser=Ie,n.CRS=Ct,n.Canvas=Xs,n.Circle=qs,n.CircleMarker=cr,n.Class=at,n.Control=qe,n.DivIcon=Uu,n.DivOverlay=hr,n.DomEvent=ya,n.DomUtil=dd,n.Draggable=zr,n.Evented=nt,n.FeatureGroup=qn,n.GeoJSON=kr,n.GridLayer=To,n.Handler=cn,n.Icon=Di,n.ImageOverlay=Ni,n.LatLng=We,n.LatLngBounds=pt,n.Layer=hn,n.LayerGroup=ji,n.LineUtil=ba,n.Map=ot,n.Marker=Ca,n.Mixin=_d,n.Path=br,n.Point=pe,n.PolyUtil=yd,n.Polygon=$r,n.Polyline=Lr,n.Popup=Vr,n.PosAnimation=Su,n.Projection=ur,n.Rectangle=Js,n.Renderer=Cr,n.SVG=rn,n.SVGOverlay=zu,n.TileLayer=Ri,n.Tooltip=Da,n.Transformation=vt,n.Util=tt,n.VideoOverlay=Po,n.bind=f,n.bounds=Ge,n.canvas=Na,n.circle=hi,n.circleMarker=Nu,n.control=li,n.divIcon=Td,n.extend=l,n.featureGroup=bd,n.geoJSON=ja,n.geoJson=Iu,n.gridLayer=Bd,n.icon=Ld,n.imageOverlay=Ed,n.latLng=$e,n.latLngBounds=Qe,n.layerGroup=wd,n.map=Pu,n.marker=kd,n.point=be,n.polygon=So,n.polyline=Cd,n.popup=Sd,n.rectangle=Yn,n.setOptions=Z,n.stamp=m,n.svg=dn,n.svgOverlay=Md,n.tileLayer=Ys,n.tooltip=Pd,n.transformation=Pt,n.version=o,n.videoOverlay=Fu;var di=window.L;n.noConflict=function(){return window.L=di,this},window.L=n})})(Cp,Cp.exports);var bs=Cp.exports;const aa=Jl(bs);function Sh(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Ph(e,t){return t==null?function(o,l){const c=H.useRef();return c.current||(c.current=e(o,l)),c}:function(o,l){const c=H.useRef();c.current||(c.current=e(o,l));const f=H.useRef(o),{instance:v}=c.current;return H.useEffect(function(){f.current!==o&&(t(v,o,f.current),f.current=o)},[v,o,l]),c}}function l1(e,t){H.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var c;(c=t.layerContainer)==null||c.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function u1(e){return function(n){const o=Eh(),l=e(Mh(n,o),o);return r1(o.map,n.attribution),I0(l.current,n.eventHandlers),l1(l.current,o),l}}function dL(e,t){const n=H.useRef();H.useEffect(function(){if(t.pathOptions!==n.current){const l=t.pathOptions??{};e.instance.setStyle(l),n.current=l}},[e,t])}function fL(e){return function(n){const o=Eh(),l=e(Mh(n,o),o);return I0(l.current,n.eventHandlers),l1(l.current,o),dL(l.current,n),l}}function pL(e,t){const n=Ph(e,t),o=u1(n);return s1(o)}function mL(e,t){const n=Ph(e),o=hL(n,t);return uL(o)}function gL(e,t){const n=Ph(e,t),o=fL(n);return s1(o)}function _L(e,t){const n=Ph(e,t),o=u1(n);return cL(o)}function yL(e,t,n){const{opacity:o,zIndex:l}=t;o!=null&&o!==n.opacity&&e.setOpacity(o),l!=null&&l!==n.zIndex&&e.setZIndex(l)}function au(){return Eh().map}function vL(e){const t=au();return H.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function Ep(){return Ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ep.apply(this,arguments)}function xL({bounds:e,boundsOptions:t,center:n,children:o,className:l,id:c,placeholder:f,style:v,whenReady:m,zoom:w,...C},S){const[M]=H.useState({className:l,id:c,style:v}),[z,$]=H.useState(null);H.useImperativeHandle(S,()=>(z==null?void 0:z.map)??null,[z]);const Z=H.useCallback(F=>{if(F!==null&&z===null){const D=new bs.Map(F,C);n!=null&&w!=null?D.setView(n,w):e!=null&&D.fitBounds(e,t),m!=null&&D.whenReady(m),$(lL(D))}},[]);H.useEffect(()=>()=>{z==null||z.map.remove()},[z]);const X=z?He.createElement(a1,{value:z},o):f??null;return He.createElement("div",Ep({},M,{ref:Z}),X)}const c1=H.forwardRef(xL),wL=pL(function({position:t,...n},o){const l=new bs.Marker(t,n);return Sh(l,i1(o,{overlayContainer:l}))},function(t,n,o){n.position!==o.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==o.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==o.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==o.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),bL=gL(function({positions:t,...n},o){const l=new bs.Polygon(t,n);return Sh(l,i1(o,{overlayContainer:l}))},function(t,n,o){n.positions!==o.positions&&t.setLatLngs(n.positions)}),LL=mL(function(t,n){const o=new bs.Popup(t,n.overlayContainer);return Sh(o,n)},function(t,n,{position:o},l){H.useEffect(function(){const{instance:f}=t;function v(w){w.popup===f&&(f.update(),l(!0))}function m(w){w.popup===f&&l(!1)}return n.map.on({popupopen:v,popupclose:m}),n.overlayContainer==null?(o!=null&&f.setLatLng(o),f.openOn(n.map)):n.overlayContainer.bindPopup(f),function(){var C;n.map.off({popupopen:v,popupclose:m}),(C=n.overlayContainer)==null||C.unbindPopup(),n.map.removeLayer(f)}},[t,n,l,o])}),h1=_L(function({url:t,...n},o){const l=new bs.TileLayer(t,Mh(n,o));return Sh(l,o)},function(t,n,o){yL(t,n,o);const{url:l}=n;l!=null&&l!==o.url&&t.setUrl(l)}),kL=({property:e,isOpen:t,onClose:n})=>{const[o,l]=H.useState(0);if(!t||!e)return null;const c=z=>z?parseFloat(z).toFixed(2):"0.00",f=z=>({house:"Casa",land:"Terreno",apartment:"Apartamento",commercial:"Comercial",other:"Otro"})[z]||z,v=z=>({for_sale:"En Venta",for_rent:"En Alquiler",sold:"Vendido",rented:"Alquilado",inactive:"Inactivo"})[z]||z,m=z=>({for_sale:"bg-green-500",for_rent:"bg-blue-500",sold:"bg-gray-500",rented:"bg-purple-500",inactive:"bg-red-500"})[z]||"bg-gray-500",w=e.images||[],C=w.length>0,S=()=>{l(z=>(z+1)%w.length)},M=()=>{l(z=>(z-1+w.length)%w.length)};return y.jsxs("div",{className:"fixed top-16 right-2 sm:right-4 w-[calc(100%-1rem)] sm:w-full max-w-sm max-h-[calc(100vh-6rem)] animate-slideIn",style:{zIndex:1500},children:[y.jsx("div",{className:"relative bg-white rounded-xl shadow-2xl overflow-hidden border-2 border-gray-200",children:y.jsxs("div",{children:[y.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-all hover:scale-110",children:y.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),y.jsxs("div",{className:"overflow-y-auto max-h-[calc(100vh-6rem)]",children:[C?y.jsxs("div",{className:"relative h-48 bg-gray-900",children:[y.jsx("img",{src:w[o].image,alt:e.title,className:"w-full h-full object-cover"}),y.jsxs("div",{className:"absolute top-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm font-medium",children:[o+1," / ",w.length]}),w.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:M,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full p-3 shadow-lg transition-all hover:scale-110",children:y.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),y.jsx("button",{onClick:S,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full p-3 shadow-lg transition-all hover:scale-110",children:y.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),w.length>1&&y.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-black/50 p-2 rounded-lg backdrop-blur-sm",children:[w.slice(0,5).map((z,$)=>y.jsx("button",{onClick:()=>l($),className:`w-12 h-12 rounded-lg overflow-hidden border-2 transition-all ${$===o?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"}`,children:y.jsx("img",{src:z.image,alt:"",className:"w-full h-full object-cover"})},$)),w.length>5&&y.jsxs("div",{className:"w-12 h-12 rounded-lg bg-black/70 flex items-center justify-center text-white text-xs font-bold",children:["+",w.length-5]})]})]}):y.jsx("div",{className:"h-48 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:y.jsxs("div",{className:"text-center text-gray-500",children:[y.jsx("svg",{className:"h-16 w-16 mx-auto mb-2 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y.jsx("p",{className:"text-sm font-medium",children:"Sin imgenes"})]})}),y.jsxs("div",{className:"p-3",children:[y.jsxs("div",{className:"mb-3",children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsx("h2",{className:"text-lg font-bold text-gray-900 flex-1",children:e.title||"Propiedad"}),y.jsx("span",{className:`${m(e.status)} text-white text-xs px-2 py-1 rounded-full font-semibold ml-2 flex-shrink-0`,children:v(e.status)})]}),y.jsxs("div",{className:"flex items-center gap-1.5 mb-2 bg-gray-50 p-2 rounded-lg",children:[y.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-[10px] text-gray-500 font-medium",children:"Publicado por"}),y.jsx("div",{className:"text-xs text-gray-900 font-bold",children:e.owner_username||`Usuario ${e.owner}`})]})]}),y.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[y.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",parseFloat(e.price).toLocaleString()]}),e.is_negotiable&&y.jsx("span",{className:"text-sm text-blue-600 font-medium bg-blue-50 px-3 py-1 rounded-full",children:"Negociable"})]}),(e.address||e.city)&&y.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[y.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),y.jsxs("span",{children:[e.address&&y.jsx("span",{children:e.address}),e.address&&e.city&&y.jsx("span",{children:", "}),e.city&&y.jsx("span",{children:e.city}),e.province&&y.jsxs("span",{children:[", ",e.province]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 mb-3",children:[y.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-2 rounded-lg text-center",children:[y.jsx("div",{className:"text-lg mb-0.5",children:""}),y.jsx("div",{className:"text-base font-bold text-gray-900",children:c(e.area)}),y.jsx("div",{className:"text-[10px] text-gray-600 font-medium",children:"m Total"})]}),e.built_area&&y.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-2 rounded-lg text-center",children:[y.jsx("div",{className:"text-lg mb-0.5",children:""}),y.jsx("div",{className:"text-base font-bold text-gray-900",children:c(e.built_area)}),y.jsx("div",{className:"text-[10px] text-gray-600 font-medium",children:"m Construidos"})]}),e.rooms>0&&y.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-2 rounded-lg text-center",children:[y.jsx("div",{className:"text-lg mb-0.5",children:""}),y.jsx("div",{className:"text-base font-bold text-gray-900",children:e.rooms}),y.jsx("div",{className:"text-[10px] text-gray-600 font-medium",children:"Habitaciones"})]}),e.bathrooms>0&&y.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-2 rounded-lg text-center",children:[y.jsx("div",{className:"text-lg mb-0.5",children:""}),y.jsx("div",{className:"text-base font-bold text-gray-900",children:e.bathrooms}),y.jsx("div",{className:"text-[10px] text-gray-600 font-medium",children:"Baos"})]}),e.parking_spaces>0&&y.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-2 rounded-lg text-center",children:[y.jsx("div",{className:"text-lg mb-0.5",children:""}),y.jsx("div",{className:"text-base font-bold text-gray-900",children:e.parking_spaces}),y.jsx("div",{className:"text-[10px] text-gray-600 font-medium",children:"Estacionamientos"})]}),e.floors&&y.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 p-2 rounded-lg text-center",children:[y.jsx("div",{className:"text-lg mb-0.5",children:""}),y.jsx("div",{className:"text-base font-bold text-gray-900",children:e.floors}),y.jsx("div",{className:"text-[10px] text-gray-600 font-medium",children:e.floors===1?"Piso":"Pisos"})]})]}),e.description&&y.jsxs("div",{className:"mb-3",children:[y.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-1 flex items-center gap-1",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),"Descripcin"]}),y.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:e.description})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[y.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[y.jsx("div",{className:"text-[10px] font-semibold text-gray-500 mb-0.5",children:"Tipo"}),y.jsx("div",{className:"text-xs font-bold text-gray-900",children:f(e.property_type)})]}),e.year_built&&y.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[y.jsx("div",{className:"text-[10px] font-semibold text-gray-500 mb-0.5",children:"Ao"}),y.jsx("div",{className:"text-xs font-bold text-gray-900",children:e.year_built})]}),e.furnished&&y.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[y.jsx("div",{className:"text-[10px] font-semibold text-gray-500 mb-0.5",children:"Amoblado"}),y.jsx("div",{className:"text-xs font-bold text-green-600",children:"S"})]})]}),e.contact_phone&&y.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary p-3 rounded-lg text-white",children:[y.jsxs("h3",{className:"text-sm font-bold mb-1.5 flex items-center gap-1",children:[y.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Informacin de Contacto"]}),y.jsxs("a",{href:`tel:${e.contact_phone}`,className:"flex items-center gap-3 bg-white/20 hover:bg-white/30 transition-all p-3 rounded-lg",children:[y.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:y.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs opacity-90",children:"Llamar o WhatsApp"}),y.jsx("div",{className:"text-lg font-bold",children:e.contact_phone})]})]})]})]})]})]})}),y.jsx("style",{children:`
        @keyframes slideIn {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slideIn {
          animation: slideIn 0.3s ease-out;
        }
      `})]})};var CL=Object.defineProperty,nh=Object.getOwnPropertySymbols,d1=Object.prototype.hasOwnProperty,f1=Object.prototype.propertyIsEnumerable,jg=(e,t,n)=>t in e?CL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mp=(e,t)=>{for(var n in t||(t={}))d1.call(t,n)&&jg(e,n,t[n]);if(nh)for(var n of nh(t))f1.call(t,n)&&jg(e,n,t[n]);return e},Sp=(e,t)=>{var n={};for(var o in e)d1.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&nh)for(var o of nh(e))t.indexOf(o)<0&&f1.call(e,o)&&(n[o]=e[o]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Qo;(e=>{const t=class rt{constructor(m,w,C,S){if(this.version=m,this.errorCorrectionLevel=w,this.modules=[],this.isFunction=[],m<rt.MIN_VERSION||m>rt.MAX_VERSION)throw new RangeError("Version value out of range");if(S<-1||S>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let M=[];for(let $=0;$<this.size;$++)M.push(!1);for(let $=0;$<this.size;$++)this.modules.push(M.slice()),this.isFunction.push(M.slice());this.drawFunctionPatterns();const z=this.addEccAndInterleave(C);if(this.drawCodewords(z),S==-1){let $=1e9;for(let Z=0;Z<8;Z++){this.applyMask(Z),this.drawFormatBits(Z);const X=this.getPenaltyScore();X<$&&(S=Z,$=X),this.applyMask(Z)}}l(0<=S&&S<=7),this.mask=S,this.applyMask(S),this.drawFormatBits(S),this.isFunction=[]}static encodeText(m,w){const C=e.QrSegment.makeSegments(m);return rt.encodeSegments(C,w)}static encodeBinary(m,w){const C=e.QrSegment.makeBytes(m);return rt.encodeSegments([C],w)}static encodeSegments(m,w,C=1,S=40,M=-1,z=!0){if(!(rt.MIN_VERSION<=C&&C<=S&&S<=rt.MAX_VERSION)||M<-1||M>7)throw new RangeError("Invalid value");let $,Z;for($=C;;$++){const I=rt.getNumDataCodewords($,w)*8,Q=f.getTotalBits(m,$);if(Q<=I){Z=Q;break}if($>=S)throw new RangeError("Data too long")}for(const I of[rt.Ecc.MEDIUM,rt.Ecc.QUARTILE,rt.Ecc.HIGH])z&&Z<=rt.getNumDataCodewords($,I)*8&&(w=I);let X=[];for(const I of m){n(I.mode.modeBits,4,X),n(I.numChars,I.mode.numCharCountBits($),X);for(const Q of I.getData())X.push(Q)}l(X.length==Z);const F=rt.getNumDataCodewords($,w)*8;l(X.length<=F),n(0,Math.min(4,F-X.length),X),n(0,(8-X.length%8)%8,X),l(X.length%8==0);for(let I=236;X.length<F;I^=253)n(I,8,X);let D=[];for(;D.length*8<X.length;)D.push(0);return X.forEach((I,Q)=>D[Q>>>3]|=I<<7-(Q&7)),new rt($,w,D,M)}getModule(m,w){return 0<=m&&m<this.size&&0<=w&&w<this.size&&this.modules[w][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let C=0;C<this.size;C++)this.setFunctionModule(6,C,C%2==0),this.setFunctionModule(C,6,C%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),w=m.length;for(let C=0;C<w;C++)for(let S=0;S<w;S++)C==0&&S==0||C==0&&S==w-1||C==w-1&&S==0||this.drawAlignmentPattern(m[C],m[S]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const w=this.errorCorrectionLevel.formatBits<<3|m;let C=w;for(let M=0;M<10;M++)C=C<<1^(C>>>9)*1335;const S=(w<<10|C)^21522;l(S>>>15==0);for(let M=0;M<=5;M++)this.setFunctionModule(8,M,o(S,M));this.setFunctionModule(8,7,o(S,6)),this.setFunctionModule(8,8,o(S,7)),this.setFunctionModule(7,8,o(S,8));for(let M=9;M<15;M++)this.setFunctionModule(14-M,8,o(S,M));for(let M=0;M<8;M++)this.setFunctionModule(this.size-1-M,8,o(S,M));for(let M=8;M<15;M++)this.setFunctionModule(8,this.size-15+M,o(S,M));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let C=0;C<12;C++)m=m<<1^(m>>>11)*7973;const w=this.version<<12|m;l(w>>>18==0);for(let C=0;C<18;C++){const S=o(w,C),M=this.size-11+C%3,z=Math.floor(C/3);this.setFunctionModule(M,z,S),this.setFunctionModule(z,M,S)}}drawFinderPattern(m,w){for(let C=-4;C<=4;C++)for(let S=-4;S<=4;S++){const M=Math.max(Math.abs(S),Math.abs(C)),z=m+S,$=w+C;0<=z&&z<this.size&&0<=$&&$<this.size&&this.setFunctionModule(z,$,M!=2&&M!=4)}}drawAlignmentPattern(m,w){for(let C=-2;C<=2;C++)for(let S=-2;S<=2;S++)this.setFunctionModule(m+S,w+C,Math.max(Math.abs(S),Math.abs(C))!=1)}setFunctionModule(m,w,C){this.modules[w][m]=C,this.isFunction[w][m]=!0}addEccAndInterleave(m){const w=this.version,C=this.errorCorrectionLevel;if(m.length!=rt.getNumDataCodewords(w,C))throw new RangeError("Invalid argument");const S=rt.NUM_ERROR_CORRECTION_BLOCKS[C.ordinal][w],M=rt.ECC_CODEWORDS_PER_BLOCK[C.ordinal][w],z=Math.floor(rt.getNumRawDataModules(w)/8),$=S-z%S,Z=Math.floor(z/S);let X=[];const F=rt.reedSolomonComputeDivisor(M);for(let I=0,Q=0;I<S;I++){let ne=m.slice(Q,Q+Z-M+(I<$?0:1));Q+=ne.length;const me=rt.reedSolomonComputeRemainder(ne,F);I<$&&ne.push(0),X.push(ne.concat(me))}let D=[];for(let I=0;I<X[0].length;I++)X.forEach((Q,ne)=>{(I!=Z-M||ne>=$)&&D.push(Q[I])});return l(D.length==z),D}drawCodewords(m){if(m.length!=Math.floor(rt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let w=0;for(let C=this.size-1;C>=1;C-=2){C==6&&(C=5);for(let S=0;S<this.size;S++)for(let M=0;M<2;M++){const z=C-M,Z=(C+1&2)==0?this.size-1-S:S;!this.isFunction[Z][z]&&w<m.length*8&&(this.modules[Z][z]=o(m[w>>>3],7-(w&7)),w++)}}l(w==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let w=0;w<this.size;w++)for(let C=0;C<this.size;C++){let S;switch(m){case 0:S=(C+w)%2==0;break;case 1:S=w%2==0;break;case 2:S=C%3==0;break;case 3:S=(C+w)%3==0;break;case 4:S=(Math.floor(C/3)+Math.floor(w/2))%2==0;break;case 5:S=C*w%2+C*w%3==0;break;case 6:S=(C*w%2+C*w%3)%2==0;break;case 7:S=((C+w)%2+C*w%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[w][C]&&S&&(this.modules[w][C]=!this.modules[w][C])}}getPenaltyScore(){let m=0;for(let M=0;M<this.size;M++){let z=!1,$=0,Z=[0,0,0,0,0,0,0];for(let X=0;X<this.size;X++)this.modules[M][X]==z?($++,$==5?m+=rt.PENALTY_N1:$>5&&m++):(this.finderPenaltyAddHistory($,Z),z||(m+=this.finderPenaltyCountPatterns(Z)*rt.PENALTY_N3),z=this.modules[M][X],$=1);m+=this.finderPenaltyTerminateAndCount(z,$,Z)*rt.PENALTY_N3}for(let M=0;M<this.size;M++){let z=!1,$=0,Z=[0,0,0,0,0,0,0];for(let X=0;X<this.size;X++)this.modules[X][M]==z?($++,$==5?m+=rt.PENALTY_N1:$>5&&m++):(this.finderPenaltyAddHistory($,Z),z||(m+=this.finderPenaltyCountPatterns(Z)*rt.PENALTY_N3),z=this.modules[X][M],$=1);m+=this.finderPenaltyTerminateAndCount(z,$,Z)*rt.PENALTY_N3}for(let M=0;M<this.size-1;M++)for(let z=0;z<this.size-1;z++){const $=this.modules[M][z];$==this.modules[M][z+1]&&$==this.modules[M+1][z]&&$==this.modules[M+1][z+1]&&(m+=rt.PENALTY_N2)}let w=0;for(const M of this.modules)w=M.reduce((z,$)=>z+($?1:0),w);const C=this.size*this.size,S=Math.ceil(Math.abs(w*20-C*10)/C)-1;return l(0<=S&&S<=9),m+=S*rt.PENALTY_N4,l(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,w=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let C=[6];for(let S=this.size-7;C.length<m;S-=w)C.splice(1,0,S);return C}}static getNumRawDataModules(m){if(m<rt.MIN_VERSION||m>rt.MAX_VERSION)throw new RangeError("Version number out of range");let w=(16*m+128)*m+64;if(m>=2){const C=Math.floor(m/7)+2;w-=(25*C-10)*C-55,m>=7&&(w-=36)}return l(208<=w&&w<=29648),w}static getNumDataCodewords(m,w){return Math.floor(rt.getNumRawDataModules(m)/8)-rt.ECC_CODEWORDS_PER_BLOCK[w.ordinal][m]*rt.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let w=[];for(let S=0;S<m-1;S++)w.push(0);w.push(1);let C=1;for(let S=0;S<m;S++){for(let M=0;M<w.length;M++)w[M]=rt.reedSolomonMultiply(w[M],C),M+1<w.length&&(w[M]^=w[M+1]);C=rt.reedSolomonMultiply(C,2)}return w}static reedSolomonComputeRemainder(m,w){let C=w.map(S=>0);for(const S of m){const M=S^C.shift();C.push(0),w.forEach((z,$)=>C[$]^=rt.reedSolomonMultiply(z,M))}return C}static reedSolomonMultiply(m,w){if(m>>>8||w>>>8)throw new RangeError("Byte out of range");let C=0;for(let S=7;S>=0;S--)C=C<<1^(C>>>7)*285,C^=(w>>>S&1)*m;return l(C>>>8==0),C}finderPenaltyCountPatterns(m){const w=m[1];l(w<=this.size*3);const C=w>0&&m[2]==w&&m[3]==w*3&&m[4]==w&&m[5]==w;return(C&&m[0]>=w*4&&m[6]>=w?1:0)+(C&&m[6]>=w*4&&m[0]>=w?1:0)}finderPenaltyTerminateAndCount(m,w,C){return m&&(this.finderPenaltyAddHistory(w,C),w=0),w+=this.size,this.finderPenaltyAddHistory(w,C),this.finderPenaltyCountPatterns(C)}finderPenaltyAddHistory(m,w){w[0]==0&&(m+=this.size),w.pop(),w.unshift(m)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(v,m,w){if(m<0||m>31||v>>>m)throw new RangeError("Value out of range");for(let C=m-1;C>=0;C--)w.push(v>>>C&1)}function o(v,m){return(v>>>m&1)!=0}function l(v){if(!v)throw new Error("Assertion error")}const c=class Vt{constructor(m,w,C){if(this.mode=m,this.numChars=w,this.bitData=C,w<0)throw new RangeError("Invalid argument");this.bitData=C.slice()}static makeBytes(m){let w=[];for(const C of m)n(C,8,w);return new Vt(Vt.Mode.BYTE,m.length,w)}static makeNumeric(m){if(!Vt.isNumeric(m))throw new RangeError("String contains non-numeric characters");let w=[];for(let C=0;C<m.length;){const S=Math.min(m.length-C,3);n(parseInt(m.substring(C,C+S),10),S*3+1,w),C+=S}return new Vt(Vt.Mode.NUMERIC,m.length,w)}static makeAlphanumeric(m){if(!Vt.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let w=[],C;for(C=0;C+2<=m.length;C+=2){let S=Vt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(C))*45;S+=Vt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(C+1)),n(S,11,w)}return C<m.length&&n(Vt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(C)),6,w),new Vt(Vt.Mode.ALPHANUMERIC,m.length,w)}static makeSegments(m){return m==""?[]:Vt.isNumeric(m)?[Vt.makeNumeric(m)]:Vt.isAlphanumeric(m)?[Vt.makeAlphanumeric(m)]:[Vt.makeBytes(Vt.toUtf8ByteArray(m))]}static makeEci(m){let w=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)n(m,8,w);else if(m<16384)n(2,2,w),n(m,14,w);else if(m<1e6)n(6,3,w),n(m,21,w);else throw new RangeError("ECI assignment value out of range");return new Vt(Vt.Mode.ECI,0,w)}static isNumeric(m){return Vt.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return Vt.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,w){let C=0;for(const S of m){const M=S.mode.numCharCountBits(w);if(S.numChars>=1<<M)return 1/0;C+=4+M+S.bitData.length}return C}static toUtf8ByteArray(m){m=encodeURI(m);let w=[];for(let C=0;C<m.length;C++)m.charAt(C)!="%"?w.push(m.charCodeAt(C)):(w.push(parseInt(m.substring(C+1,C+3),16)),C+=2);return w}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let f=c;e.QrSegment=c})(Qo||(Qo={}));(e=>{(t=>{const n=class{constructor(l,c){this.ordinal=l,this.formatBits=c}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Qo||(Qo={}));(e=>{(t=>{const n=class{constructor(l,c){this.modeBits=l,this.numBitsCharCount=c}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Qo||(Qo={}));var ts=Qo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var EL={L:ts.QrCode.Ecc.LOW,M:ts.QrCode.Ecc.MEDIUM,Q:ts.QrCode.Ecc.QUARTILE,H:ts.QrCode.Ecc.HIGH},p1=128,m1="L",g1="#FFFFFF",_1="#000000",y1=!1,v1=1,ML=4,SL=0,PL=.1;function x1(e,t=0){const n=[];return e.forEach(function(o,l){let c=null;o.forEach(function(f,v){if(!f&&c!==null){n.push(`M${c+t} ${l+t}h${v-c}v1H${c+t}z`),c=null;return}if(v===o.length-1){if(!f)return;c===null?n.push(`M${v+t},${l+t} h1v1H${v+t}z`):n.push(`M${c+t},${l+t} h${v+1-c}v1H${c+t}z`);return}f&&c===null&&(c=v)})}),n.join("")}function w1(e,t){return e.slice().map((n,o)=>o<t.y||o>=t.y+t.h?n:n.map((l,c)=>c<t.x||c>=t.x+t.w?l:!1))}function TL(e,t,n,o){if(o==null)return null;const l=e.length+n*2,c=Math.floor(t*PL),f=l/t,v=(o.width||c)*f,m=(o.height||c)*f,w=o.x==null?e.length/2-v/2:o.x*f,C=o.y==null?e.length/2-m/2:o.y*f,S=o.opacity==null?1:o.opacity;let M=null;if(o.excavate){let $=Math.floor(w),Z=Math.floor(C),X=Math.ceil(v+w-$),F=Math.ceil(m+C-Z);M={x:$,y:Z,w:X,h:F}}const z=o.crossOrigin;return{x:w,y:C,h:m,w:v,excavation:M,opacity:S,crossOrigin:z}}function BL(e,t){return t!=null?Math.max(Math.floor(t),0):e?ML:SL}function b1({value:e,level:t,minVersion:n,includeMargin:o,marginSize:l,imageSettings:c,size:f,boostLevel:v}){let m=He.useMemo(()=>{const $=(Array.isArray(e)?e:[e]).reduce((Z,X)=>(Z.push(...ts.QrSegment.makeSegments(X)),Z),[]);return ts.QrCode.encodeSegments($,EL[t],n,void 0,void 0,v)},[e,t,n,v]);const{cells:w,margin:C,numCells:S,calculatedImageSettings:M}=He.useMemo(()=>{let z=m.getModules();const $=BL(o,l),Z=z.length+$*2,X=TL(z,f,$,c);return{cells:z,margin:$,numCells:Z,calculatedImageSettings:X}},[m,f,c,o,l]);return{qrcode:m,margin:C,cells:w,numCells:S,calculatedImageSettings:M}}var AL=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),jL=He.forwardRef(function(t,n){const o=t,{value:l,size:c=p1,level:f=m1,bgColor:v=g1,fgColor:m=_1,includeMargin:w=y1,minVersion:C=v1,boostLevel:S,marginSize:M,imageSettings:z}=o,Z=Sp(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:X}=Z,F=Sp(Z,["style"]),D=z==null?void 0:z.src,I=He.useRef(null),Q=He.useRef(null),ne=He.useCallback(at=>{I.current=at,typeof n=="function"?n(at):n&&(n.current=at)},[n]),[me,de]=He.useState(!1),{margin:we,cells:Ne,numCells:Ce,calculatedImageSettings:ke}=b1({value:l,level:f,minVersion:C,boostLevel:S,includeMargin:w,marginSize:M,imageSettings:z,size:c});He.useEffect(()=>{if(I.current!=null){const at=I.current,kt=at.getContext("2d");if(!kt)return;let ct=Ne;const nt=Q.current,pe=ke!=null&&nt!==null&&nt.complete&&nt.naturalHeight!==0&&nt.naturalWidth!==0;pe&&ke.excavation!=null&&(ct=w1(Ne,ke.excavation));const Re=window.devicePixelRatio||1;at.height=at.width=c*Re;const be=c/Ce*Re;kt.scale(be,be),kt.fillStyle=v,kt.fillRect(0,0,Ce,Ce),kt.fillStyle=m,AL?kt.fill(new Path2D(x1(ct,we))):Ne.forEach(function(Oe,Ge){Oe.forEach(function(pt,Qe){pt&&kt.fillRect(Qe+we,Ge+we,1,1)})}),ke&&(kt.globalAlpha=ke.opacity),pe&&kt.drawImage(nt,ke.x+we,ke.y+we,ke.w,ke.h)}}),He.useEffect(()=>{de(!1)},[D]);const Ye=Mp({height:c,width:c},X);let tt=null;return D!=null&&(tt=He.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{de(!0)},ref:Q,crossOrigin:ke==null?void 0:ke.crossOrigin})),He.createElement(He.Fragment,null,He.createElement("canvas",Mp({style:Ye,height:c,width:c,ref:ne,role:"img"},F)),tt)});jL.displayName="QRCodeCanvas";var L1=He.forwardRef(function(t,n){const o=t,{value:l,size:c=p1,level:f=m1,bgColor:v=g1,fgColor:m=_1,includeMargin:w=y1,minVersion:C=v1,boostLevel:S,title:M,marginSize:z,imageSettings:$}=o,Z=Sp(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:X,cells:F,numCells:D,calculatedImageSettings:I}=b1({value:l,level:f,minVersion:C,boostLevel:S,includeMargin:w,marginSize:z,imageSettings:$,size:c});let Q=F,ne=null;$!=null&&I!=null&&(I.excavation!=null&&(Q=w1(F,I.excavation)),ne=He.createElement("image",{href:$.src,height:I.h,width:I.w,x:I.x+X,y:I.y+X,preserveAspectRatio:"none",opacity:I.opacity,crossOrigin:I.crossOrigin}));const me=x1(Q,X);return He.createElement("svg",Mp({height:c,width:c,viewBox:`0 0 ${D} ${D}`,ref:n,role:"img"},Z),!!M&&He.createElement("title",null,M),He.createElement("path",{fill:v,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),He.createElement("path",{fill:m,d:me,shapeRendering:"crispEdges"}),ne)});L1.displayName="QRCodeSVG";const DL=({isOpen:e,onClose:t,shareUrl:n})=>{const[o,l]=H.useState(!1);if(!e)return null;const c=()=>{navigator.clipboard.writeText(n),l(!0),setTimeout(()=>l(!1),2e3)},f=()=>{const v=document.getElementById("share-qr-code"),m=new XMLSerializer().serializeToString(v),w=document.createElement("canvas"),C=w.getContext("2d"),S=new Image;w.width=512,w.height=512,S.onload=()=>{C.fillStyle="white",C.fillRect(0,0,w.width,w.height),C.drawImage(S,0,0,512,512);const M=w.toDataURL("image/png"),z=document.createElement("a");z.download="qr-code-estatemap.png",z.href=M,z.click()},S.src="data:image/svg+xml;base64,"+btoa(m)};return y.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",onClick:t,children:[y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity"}),y.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:y.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md transform transition-all",onClick:v=>v.stopPropagation(),children:[y.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:y.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),y.jsxs("div",{className:"px-6 pt-6 pb-4 border-b border-gray-200",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[y.jsx("svg",{className:"h-6 w-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Compartir Filtros"]}),y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comparte esta bsqueda con otros usuarios"})]}),y.jsxs("div",{className:"px-6 py-6 space-y-6",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"bg-white p-4 rounded-xl shadow-lg border-2 border-gray-200",children:y.jsx(L1,{id:"share-qr-code",value:n,size:200,level:"H",includeMargin:!0})}),y.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Escanea este cdigo QR para abrir la bsqueda"}),y.jsxs("button",{onClick:f,className:"mt-3 text-sm text-primary hover:text-primary/80 font-semibold flex items-center gap-1 transition-colors",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Descargar QR"]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Enlace para compartir"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:n,readOnly:!0,className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-700 focus:outline-none"}),y.jsx("button",{onClick:c,className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${o?"bg-green-500 text-white":"bg-primary text-white hover:bg-primary/90"}`,children:o?y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copiado"]}):y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copiar"]})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Compartir en redes sociales"}),y.jsxs("div",{className:"flex gap-3 justify-center",children:[y.jsx("a",{href:`https://wa.me/?text=${encodeURIComponent("Mira estas propiedades: "+n)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-12 h-12 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors shadow-lg",title:"Compartir en WhatsApp",children:y.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})}),y.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(n)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-12 h-12 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-lg",title:"Compartir en Facebook",children:y.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),y.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(n)}&text=${encodeURIComponent("Mira estas propiedades")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-12 h-12 bg-black text-white rounded-full hover:bg-gray-800 transition-colors shadow-lg",title:"Compartir en X (Twitter)",children:y.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})})]})]})]}),y.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 rounded-b-2xl",children:y.jsx("button",{onClick:t,className:"w-full px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold rounded-lg transition-colors",children:"Cerrar"})})]})})]})};delete aa.Icon.Default.prototype._getIconUrl;aa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const OL=new aa.Icon({iconUrl:"data:image/svg+xml;base64,"+btoa(`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#3B82F6" width="32" height="32">
      <circle cx="12" cy="12" r="10" fill="#3B82F6" stroke="white" stroke-width="2"/>
      <circle cx="12" cy="12" r="4" fill="white"/>
    </svg>
  `),iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[0,-16]});function NL({onMapReady:e}){const t=au();return H.useEffect(()=>{t&&e(t)},[t,e]),null}function RL({properties:e,onVisiblePropertiesChange:t}){const n=vL({moveend:()=>{o()},zoomend:()=>{o()}}),o=H.useCallback(()=>{const l=n.getBounds(),c=e.filter(f=>{var m;if(!f.polygon)return!1;let v;return(m=f.polygon.coordinates)!=null&&m[0]?(v=f.polygon.coordinates[0],v.some(w=>{const[C,S]=w;return l.contains([S,C])})):Array.isArray(f.polygon)&&f.polygon.length>=3?(v=f.polygon,v.some(w=>{const[C,S]=w;return l.contains([C,S])})):!1});t(c)},[n,e,t]);return H.useEffect(()=>{e.length>0&&o()},[e,o]),null}function IL({users:e,selectedUserId:t,onSelect:n}){const[o,l]=H.useState(!1),[c,f]=H.useState(""),v=H.useRef(null),m=H.useMemo(()=>{if(!c.trim())return e;const M=c.toLowerCase();return e.filter(z=>z.username.toLowerCase().includes(M))},[e,c]),w=e.find(M=>M.id===parseInt(t)),C=t==="all"?"Todos los usuarios":` ${(w==null?void 0:w.username)||"Usuario"}`;H.useEffect(()=>{const M=z=>{v.current&&!v.current.contains(z.target)&&(l(!1),f(""))};return o&&document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[o]);const S=M=>{n(M),l(!1),f("")};return y.jsxs("div",{className:"relative",ref:v,children:[y.jsxs("button",{type:"button",onClick:()=>l(!o),className:"w-full px-2 py-1.5 text-xs bg-white/10 border border-white/20 rounded-lg text-white focus:bg-white/20 focus:outline-none text-left flex items-center justify-between",children:[y.jsx("span",{className:"truncate",children:C}),y.jsx("svg",{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&y.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-dark border border-white/20 rounded-lg shadow-xl max-h-64 overflow-hidden",children:[y.jsx("div",{className:"p-2 border-b border-white/20",children:y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",value:c,onChange:M=>f(M.target.value),placeholder:"Buscar usuario...",className:"w-full pl-7 pr-2 py-1.5 text-xs bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:bg-white/20 focus:outline-none",autoFocus:!0}),y.jsx("svg",{className:"absolute left-2 top-2 h-3.5 w-3.5 text-white/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),y.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[y.jsx("button",{type:"button",onClick:()=>S("all"),className:`w-full px-3 py-2 text-xs text-left hover:bg-white/10 transition-colors ${t==="all"?"bg-white/20 text-white":"text-white/80"}`,children:"Todos los usuarios"}),m.length>0?m.map(M=>y.jsxs("button",{type:"button",onClick:()=>S(M.id.toString()),className:`w-full px-3 py-2 text-xs text-left hover:bg-white/10 transition-colors ${t===M.id.toString()?"bg-white/20 text-white":"text-white/80"}`,children:[" ",M.username]},M.id)):y.jsx("div",{className:"px-3 py-2 text-xs text-white/50 text-center",children:"No se encontraron usuarios"})]})]})]})}const FL=()=>{var We,$e,Ct;const{token:e}=oa(),[t,n]=Cb(),[o,l]=H.useState([]),[c,f]=H.useState([]),[v,m]=H.useState([]),[w,C]=H.useState(!1),[S,M]=H.useState(null),[z,$]=H.useState(!1),[Z,X]=H.useState(!1),[F,D]=H.useState(null),[I,Q]=H.useState(!1),[ne,me]=H.useState({search:t.get("search")||"",propertyType:t.get("type")||"all",status:t.get("status")||"all",minPrice:t.get("minPrice")||"",maxPrice:t.get("maxPrice")||"",minArea:t.get("minArea")||"",maxArea:t.get("maxArea")||"",rooms:t.get("rooms")||"all",bathrooms:t.get("bathrooms")||"all",userId:t.get("user")||"all"}),[de,we]=H.useState([]),Ne=H.useRef(null),Ce=H.useRef(null),ke="http://localhost:8000/api",Ye=fe=>{Ne.current=fe},tt=()=>{if(!navigator.geolocation){alert("Tu navegador no soporta geolocalizacin");return}Q(!0),navigator.geolocation.getCurrentPosition(fe=>{const{latitude:Me,longitude:lt}=fe.coords;D({lat:Me,lng:lt}),Ne.current&&Ne.current.flyTo([Me,lt],17,{duration:1.5}),Q(!1)},fe=>{console.error("Error obteniendo ubicacin:",fe);let Me="No se pudo obtener tu ubicacin";switch(fe.code){case fe.PERMISSION_DENIED:Me="Permiso de ubicacin denegado. Por favor, habilita la ubicacin en tu navegador.";break;case fe.POSITION_UNAVAILABLE:Me="Informacin de ubicacin no disponible.";break;case fe.TIMEOUT:Me="Tiempo de espera agotado al obtener la ubicacin.";break}alert(Me),Q(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},at=fe=>{if(console.log("Sidebar property clicked:",fe),Ne.current&&fe.polygon)try{let Me;if(fe.polygon.coordinates&&Array.isArray(fe.polygon.coordinates[0])?Me=fe.polygon.coordinates[0]:Array.isArray(fe.polygon)&&fe.polygon.length>=3&&(Me=fe.polygon.map(lt=>[lt[1],lt[0]])),Me&&Me.length>=3){const lt=Me.map(xt=>xt[1]),vt=Me.map(xt=>xt[0]),Pt=[[Math.min(...lt),Math.min(...vt)],[Math.max(...lt),Math.max(...vt)]];console.log("Flying to bounds:",Pt),Ne.current.flyToBounds(Pt,{padding:[50,50],maxZoom:20,duration:1.5})}}catch(Me){console.error("Error moving map:",Me)}M(fe),window.innerWidth<1024&&C(!1)},kt=fe=>{console.log("Polygon clicked:",fe),M(fe),$(!0)},ct=()=>{$(!1),M(null)},nt=fe=>{me(fe);const Me=new URLSearchParams;fe.search&&Me.set("search",fe.search),fe.propertyType!=="all"&&Me.set("type",fe.propertyType),fe.status!=="all"&&Me.set("status",fe.status),fe.minPrice&&Me.set("minPrice",fe.minPrice),fe.maxPrice&&Me.set("maxPrice",fe.maxPrice),fe.minArea&&Me.set("minArea",fe.minArea),fe.maxArea&&Me.set("maxArea",fe.maxArea),fe.rooms!=="all"&&Me.set("rooms",fe.rooms),fe.bathrooms!=="all"&&Me.set("bathrooms",fe.bathrooms),fe.userId!=="all"&&Me.set("user",fe.userId),n(Me)},pe=()=>window.location.href;H.useEffect(()=>{const fe=o.filter(Me=>{var lt,vt,Pt,xt;if(ne.search){const tn=ne.search.toLowerCase();if(!(((lt=Me.title)==null?void 0:lt.toLowerCase().includes(tn))||((vt=Me.address)==null?void 0:vt.toLowerCase().includes(tn))||((Pt=Me.city)==null?void 0:Pt.toLowerCase().includes(tn))||((xt=Me.description)==null?void 0:xt.toLowerCase().includes(tn))))return!1}return!(ne.propertyType!=="all"&&Me.property_type!==ne.propertyType||ne.status!=="all"&&Me.status!==ne.status||ne.minPrice&&parseFloat(Me.price)<parseFloat(ne.minPrice)||ne.maxPrice&&parseFloat(Me.price)>parseFloat(ne.maxPrice)||ne.minArea&&parseFloat(Me.area)<parseFloat(ne.minArea)||ne.maxArea&&parseFloat(Me.area)>parseFloat(ne.maxArea)||ne.rooms!=="all"&&Me.rooms<parseInt(ne.rooms)||ne.bathrooms!=="all"&&Me.bathrooms<parseInt(ne.bathrooms)||ne.userId!=="all"&&Me.owner!==parseInt(ne.userId))});f(fe)},[ne,o]),H.useEffect(()=>((async()=>{try{const Me={};e&&(Me.Authorization=`Bearer ${e}`);const lt=await fetch(`${ke}/properties/`,{headers:Me});if(lt.ok){const vt=await lt.json();console.log("Properties loaded:",vt.length,"properties"),console.log("First property:",vt[0]),l(vt),f(vt);const Pt={};vt.forEach(xt=>{xt.owner&&!Pt[xt.owner]&&(Pt[xt.owner]={id:xt.owner,username:xt.owner_username||`Usuario ${xt.owner}`})}),we(Object.values(Pt))}}catch(Me){console.error("Error fetching properties:",Me)}})(),()=>{Ce.current&&clearTimeout(Ce.current)}),[e,ke]);const Re=[-2.31194,-78.124395],be=fe=>fe?parseFloat(fe).toFixed(2):"0.00";let Oe=Re;if(c.length>0){const fe=c.find(Me=>Me.polygon);if(fe)if((Ct=($e=(We=fe.polygon)==null?void 0:We.coordinates)==null?void 0:$e[0])!=null&&Ct[0]){const Me=fe.polygon.coordinates[0][0];Oe=[Me[1],Me[0]]}else Array.isArray(fe.polygon)&&fe.polygon[0]&&(Oe=fe.polygon[0])}const Ge=fe=>({house:"Casa",land:"Terreno",apartment:"Apartamento",commercial:"Comercial",other:"Otro"})[fe]||fe,pt=fe=>({for_sale:"En Venta",for_rent:"En Alquiler",sold:"Vendido",rented:"Alquilado",inactive:"Inactivo"})[fe]||fe,Qe=fe=>({for_sale:"bg-green-500",for_rent:"bg-blue-500",sold:"bg-gray-500",rented:"bg-purple-500",inactive:"bg-red-500"})[fe]||"bg-gray-500";return y.jsxs("div",{className:"relative h-[calc(100vh-4.5rem)] overflow-hidden",children:[y.jsxs("button",{onClick:()=>C(!w),className:"lg:hidden fixed bottom-20 left-4 z-[1000] bg-gradient-to-r from-primary to-secondary text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-transform","aria-label":"Toggle sidebar",children:[y.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),v.length>0&&y.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-6 h-6 rounded-full flex items-center justify-center font-bold",children:v.length})]}),y.jsx("button",{onClick:tt,disabled:I,className:"fixed bottom-20 right-4 z-[1000] bg-white text-primary p-4 rounded-full shadow-2xl hover:scale-110 transition-transform disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Mi ubicacin",title:"Ir a mi ubicacin",children:I?y.jsxs("svg",{className:"h-6 w-6 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y.jsxs("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),w&&y.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-30",onClick:()=>C(!1)}),y.jsxs("div",{className:`
        fixed lg:relative
        ${w?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        transition-transform duration-300 ease-in-out
        bg-dark text-white
        h-[calc(100vh-4.5rem)] lg:h-full
        w-72 lg:w-1/5
        z-40 lg:z-0
        overflow-y-auto
        shadow-2xl lg:shadow-none
      `,children:[y.jsxs("div",{className:"flex items-center justify-between lg:hidden p-3 bg-dark sticky top-0 z-10",children:[y.jsx("h2",{className:"text-base font-bold",children:"Filtros y Propiedades"}),y.jsx("button",{onClick:()=>C(!1),className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Close sidebar",children:y.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"p-3 bg-dark sticky top-0 lg:top-0 z-10 space-y-2",children:[y.jsxs("h3",{className:"text-sm font-bold flex items-center gap-1 mb-2",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filtros"]}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",value:ne.search,onChange:fe=>nt({...ne,search:fe.target.value}),placeholder:"Buscar...",className:"w-full pl-8 pr-3 py-1.5 text-xs bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:outline-none"}),y.jsx("svg",{className:"absolute left-2.5 top-2 h-3.5 w-3.5 text-white/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),y.jsxs("select",{value:ne.propertyType,onChange:fe=>nt({...ne,propertyType:fe.target.value}),className:"w-full px-2 py-1.5 text-xs bg-white/10 border border-white/20 rounded-lg text-white focus:bg-white/20 focus:outline-none",children:[y.jsx("option",{value:"all",className:"bg-dark",children:"Todos los tipos"}),y.jsx("option",{value:"house",className:"bg-dark",children:" Casa"}),y.jsx("option",{value:"apartment",className:"bg-dark",children:" Apartamento"}),y.jsx("option",{value:"land",className:"bg-dark",children:" Terreno"}),y.jsx("option",{value:"commercial",className:"bg-dark",children:" Comercial"})]}),y.jsxs("select",{value:ne.status,onChange:fe=>nt({...ne,status:fe.target.value}),className:"w-full px-2 py-1.5 text-xs bg-white/10 border border-white/20 rounded-lg text-white focus:bg-white/20 focus:outline-none",children:[y.jsx("option",{value:"all",className:"bg-dark",children:"Todos los estados"}),y.jsx("option",{value:"for_sale",className:"bg-dark",children:" En Venta"}),y.jsx("option",{value:"for_rent",className:"bg-dark",children:" En Alquiler"})]}),y.jsx(IL,{users:de,selectedUserId:ne.userId,onSelect:fe=>nt({...ne,userId:fe})}),y.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[y.jsx("input",{type:"number",value:ne.minPrice,onChange:fe=>nt({...ne,minPrice:fe.target.value}),placeholder:"$ Min",className:"w-full px-2 py-1.5 text-xs bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:outline-none"}),y.jsx("input",{type:"number",value:ne.maxPrice,onChange:fe=>nt({...ne,maxPrice:fe.target.value}),placeholder:"$ Max",className:"w-full px-2 py-1.5 text-xs bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:outline-none"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[y.jsx("input",{type:"number",value:ne.minArea,onChange:fe=>nt({...ne,minArea:fe.target.value}),placeholder:"m Min",className:"w-full px-2 py-1.5 text-xs bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:outline-none"}),y.jsx("input",{type:"number",value:ne.maxArea,onChange:fe=>nt({...ne,maxArea:fe.target.value}),placeholder:"m Max",className:"w-full px-2 py-1.5 text-xs bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:outline-none"})]}),(ne.search||ne.propertyType!=="all"||ne.status!=="all"||ne.minPrice||ne.maxPrice||ne.minArea||ne.maxArea||ne.userId!=="all")&&y.jsx("button",{onClick:()=>nt({search:"",propertyType:"all",status:"all",minPrice:"",maxPrice:"",minArea:"",maxArea:"",rooms:"all",bathrooms:"all",userId:"all"}),className:"w-full px-2 py-1.5 text-xs bg-red-500/80 hover:bg-red-500 rounded-lg font-semibold transition-colors",children:"Limpiar Filtros"}),y.jsxs("button",{onClick:()=>X(!0),className:"w-full px-2 py-1.5 text-xs bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg font-semibold transition-all flex items-center justify-center gap-1.5 shadow-lg",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Compartir Bsqueda"]})]}),y.jsx("div",{className:"px-3 py-2 bg-dark border-t border-white/10",children:y.jsxs("h2",{className:"text-sm font-bold",children:["Propiedades (",v.length,")"]})}),y.jsx("div",{className:"p-3 space-y-2 pb-20",children:v.length===0?y.jsxs("div",{className:"text-center text-gray-400 mt-4",children:[y.jsx("p",{className:"text-sm",children:"No hay propiedades en esta rea"}),y.jsx("p",{className:"text-xs mt-1",children:"Mueve el mapa para ver ms propiedades"})]}):y.jsx(y.Fragment,{children:v.map((fe,Me)=>{const lt=(S==null?void 0:S.id)===fe.id;return y.jsxs("div",{onClick:()=>{console.log("Card clicked!",fe.title),at(fe)},className:`bg-white text-textPrimary rounded-xl shadow-lg p-2.5 transition-all hover:scale-105 cursor-pointer ${lt?"ring-2 ring-primary scale-105":""}`,children:[y.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[y.jsx("h3",{className:"font-bold text-sm truncate flex-1",children:fe.title||`Propiedad #${Me+1}`}),y.jsx("span",{className:`${Qe(fe.status)} text-white text-[10px] px-1.5 py-0.5 rounded-full ml-1.5 flex-shrink-0`,children:pt(fe.status)})]}),y.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[y.jsx("svg",{className:"h-3 w-3 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),y.jsx("span",{className:"text-[10px] text-gray-600 font-medium",children:fe.owner_username||`Usuario ${fe.owner}`})]}),y.jsxs("div",{className:"space-y-0.5 text-[11px]",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"font-semibold",children:"Tipo:"}),y.jsx("span",{children:Ge(fe.property_type)})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"font-semibold",children:"rea:"}),y.jsxs("span",{children:[be(fe.area)," m"]})]}),fe.built_area&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"font-semibold",children:"Construida:"}),y.jsxs("span",{children:[be(fe.built_area)," m"]})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("span",{className:"font-semibold",children:"Precio:"}),y.jsxs("span",{className:"text-green-600 font-bold",children:["$",parseFloat(fe.price).toLocaleString()]})]}),y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[fe.rooms>0&&y.jsxs("span",{children:[" ",fe.rooms]}),fe.bathrooms>0&&y.jsxs("span",{children:[" ",fe.bathrooms]}),fe.floors&&y.jsxs("span",{children:[" ",fe.floors]})]})]})]},Me)})})})]}),y.jsx("div",{className:"absolute inset-0 lg:left-[20%] h-full w-full lg:w-4/5 z-0",children:y.jsxs(c1,{center:Oe,zoom:15,maxZoom:20,className:"h-full w-full",preferCanvas:!0,children:[y.jsx(h1,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/">OSM</a>  <a href="https://carto.com/">CARTO</a>',subdomains:["a","b","c","d"],maxZoom:20}),y.jsx(NL,{onMapReady:Ye}),y.jsx(RL,{properties:c,onVisiblePropertiesChange:m}),H.useMemo(()=>c.map((fe,Me)=>{var xt,tn;let lt;if((tn=(xt=fe.polygon)==null?void 0:xt.coordinates)!=null&&tn[0])lt=fe.polygon.coordinates[0].map(un=>[un[1],un[0]]);else if(Array.isArray(fe.polygon)&&fe.polygon.length>=3)lt=fe.polygon;else return null;const vt=(S==null?void 0:S.id)===fe.id,Pt=fe.status==="for_sale"?"#2b8a3e":fe.status==="for_rent"?"#1971c2":"#868e96";return y.jsx(bL,{positions:lt,pathOptions:{color:Pt,fillOpacity:vt?.4:.2,weight:vt?3:2,className:"property-polygon"},eventHandlers:{click:()=>{console.log("Polygon clicked!",fe.title),Ce.current&&(clearTimeout(Ce.current),Ce.current=null),kt(fe)},mouseover:un=>{un.target.setStyle({fillOpacity:.4,weight:3}),Ce.current&&clearTimeout(Ce.current),Ce.current=setTimeout(()=>{kt(fe),Ce.current=null},750)},mouseout:un=>{const Wn=un.target;vt||Wn.setStyle({fillOpacity:.2,weight:2}),Ce.current&&(clearTimeout(Ce.current),Ce.current=null)}}},fe.id||Me)}),[c,S]),F&&y.jsx(wL,{position:[F.lat,F.lng],icon:OL,children:y.jsx(LL,{children:y.jsxs("div",{className:"text-center",children:[y.jsx("strong",{children:"Tu ubicacin"}),y.jsx("br",{}),y.jsxs("small",{children:[F.lat.toFixed(6),", ",F.lng.toFixed(6)]})]})})})]})}),y.jsx(kL,{property:S,isOpen:z,onClose:ct}),y.jsx(DL,{isOpen:Z,onClose:()=>X(!1),shareUrl:pe()}),y.jsx("style",{children:`
        .leaflet-interactive {
          cursor: pointer !important;
        }
        .property-polygon {
          transition: none !important;
        }
        .leaflet-zoom-animated {
          will-change: auto !important;
        }
      `})]})};var zL=function(t){return UL(t)&&!$L(t)};function UL(e){return!!e&&typeof e=="object"}function $L(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||HL(e)}var VL=typeof Symbol=="function"&&Symbol.for,GL=VL?Symbol.for("react.element"):60103;function HL(e){return e.$$typeof===GL}function ZL(e){return Array.isArray(e)?[]:{}}function rh(e,t){return t.clone!==!1&&t.isMergeableObject(e)?ql(ZL(e),e,t):e}function WL(e,t,n){return e.concat(t).map(function(o){return rh(o,n)})}function KL(e,t,n){var o={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(l){o[l]=rh(e[l],n)}),Object.keys(t).forEach(function(l){!n.isMergeableObject(t[l])||!e[l]?o[l]=rh(t[l],n):o[l]=ql(e[l],t[l],n)}),o}function ql(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||WL,n.isMergeableObject=n.isMergeableObject||zL;var o=Array.isArray(t),l=Array.isArray(e),c=o===l;return c?o?n.arrayMerge(e,t,n):KL(e,t,n):rh(t,n)}ql.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(o,l){return ql(o,l,n)},{})};var Pp=ql,qL=typeof global=="object"&&global&&global.Object===Object&&global;const k1=qL;var YL=typeof self=="object"&&self&&self.Object===Object&&self,XL=k1||YL||Function("return this")();const Qr=XL;var JL=Qr.Symbol;const ho=JL;var C1=Object.prototype,QL=C1.hasOwnProperty,e2=C1.toString,hl=ho?ho.toStringTag:void 0;function t2(e){var t=QL.call(e,hl),n=e[hl];try{e[hl]=void 0;var o=!0}catch{}var l=e2.call(e);return o&&(t?e[hl]=n:delete e[hl]),l}var n2=Object.prototype,r2=n2.toString;function i2(e){return r2.call(e)}var o2="[object Null]",a2="[object Undefined]",Dg=ho?ho.toStringTag:void 0;function sa(e){return e==null?e===void 0?a2:o2:Dg&&Dg in Object(e)?t2(e):i2(e)}function E1(e,t){return function(n){return e(t(n))}}var s2=E1(Object.getPrototypeOf,Object);const F0=s2;function la(e){return e!=null&&typeof e=="object"}var l2="[object Object]",u2=Function.prototype,c2=Object.prototype,M1=u2.toString,h2=c2.hasOwnProperty,d2=M1.call(Object);function Og(e){if(!la(e)||sa(e)!=l2)return!1;var t=F0(e);if(t===null)return!0;var n=h2.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&M1.call(n)==d2}function f2(){this.__data__=[],this.size=0}function S1(e,t){return e===t||e!==e&&t!==t}function Th(e,t){for(var n=e.length;n--;)if(S1(e[n][0],t))return n;return-1}var p2=Array.prototype,m2=p2.splice;function g2(e){var t=this.__data__,n=Th(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():m2.call(t,n,1),--this.size,!0}function _2(e){var t=this.__data__,n=Th(t,e);return n<0?void 0:t[n][1]}function y2(e){return Th(this.__data__,e)>-1}function v2(e,t){var n=this.__data__,o=Th(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function Si(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Si.prototype.clear=f2;Si.prototype.delete=g2;Si.prototype.get=_2;Si.prototype.has=y2;Si.prototype.set=v2;function x2(){this.__data__=new Si,this.size=0}function w2(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function b2(e){return this.__data__.get(e)}function L2(e){return this.__data__.has(e)}function su(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var k2="[object AsyncFunction]",C2="[object Function]",E2="[object GeneratorFunction]",M2="[object Proxy]";function P1(e){if(!su(e))return!1;var t=sa(e);return t==C2||t==E2||t==k2||t==M2}var S2=Qr["__core-js_shared__"];const mf=S2;var Ng=function(){var e=/[^.]+$/.exec(mf&&mf.keys&&mf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function P2(e){return!!Ng&&Ng in e}var T2=Function.prototype,B2=T2.toString;function ua(e){if(e!=null){try{return B2.call(e)}catch{}try{return e+""}catch{}}return""}var A2=/[\\^$.*+?()[\]{}|]/g,j2=/^\[object .+?Constructor\]$/,D2=Function.prototype,O2=Object.prototype,N2=D2.toString,R2=O2.hasOwnProperty,I2=RegExp("^"+N2.call(R2).replace(A2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function F2(e){if(!su(e)||P2(e))return!1;var t=P1(e)?I2:j2;return t.test(ua(e))}function z2(e,t){return e==null?void 0:e[t]}function ca(e,t){var n=z2(e,t);return F2(n)?n:void 0}var U2=ca(Qr,"Map");const Yl=U2;var $2=ca(Object,"create");const Xl=$2;function V2(){this.__data__=Xl?Xl(null):{},this.size=0}function G2(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var H2="__lodash_hash_undefined__",Z2=Object.prototype,W2=Z2.hasOwnProperty;function K2(e){var t=this.__data__;if(Xl){var n=t[e];return n===H2?void 0:n}return W2.call(t,e)?t[e]:void 0}var q2=Object.prototype,Y2=q2.hasOwnProperty;function X2(e){var t=this.__data__;return Xl?t[e]!==void 0:Y2.call(t,e)}var J2="__lodash_hash_undefined__";function Q2(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Xl&&t===void 0?J2:t,this}function ea(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}ea.prototype.clear=V2;ea.prototype.delete=G2;ea.prototype.get=K2;ea.prototype.has=X2;ea.prototype.set=Q2;function ek(){this.size=0,this.__data__={hash:new ea,map:new(Yl||Si),string:new ea}}function tk(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Bh(e,t){var n=e.__data__;return tk(t)?n[typeof t=="string"?"string":"hash"]:n.map}function nk(e){var t=Bh(this,e).delete(e);return this.size-=t?1:0,t}function rk(e){return Bh(this,e).get(e)}function ik(e){return Bh(this,e).has(e)}function ok(e,t){var n=Bh(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function yo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}yo.prototype.clear=ek;yo.prototype.delete=nk;yo.prototype.get=rk;yo.prototype.has=ik;yo.prototype.set=ok;var ak=200;function sk(e,t){var n=this.__data__;if(n instanceof Si){var o=n.__data__;if(!Yl||o.length<ak-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new yo(o)}return n.set(e,t),this.size=n.size,this}function Ls(e){var t=this.__data__=new Si(e);this.size=t.size}Ls.prototype.clear=x2;Ls.prototype.delete=w2;Ls.prototype.get=b2;Ls.prototype.has=L2;Ls.prototype.set=sk;function lk(e,t){for(var n=-1,o=e==null?0:e.length;++n<o&&t(e[n],n,e)!==!1;);return e}var uk=function(){try{var e=ca(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Rg=uk;function T1(e,t,n){t=="__proto__"&&Rg?Rg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ck=Object.prototype,hk=ck.hasOwnProperty;function B1(e,t,n){var o=e[t];(!(hk.call(e,t)&&S1(o,n))||n===void 0&&!(t in e))&&T1(e,t,n)}function Ah(e,t,n,o){var l=!n;n||(n={});for(var c=-1,f=t.length;++c<f;){var v=t[c],m=o?o(n[v],e[v],v,n,e):void 0;m===void 0&&(m=e[v]),l?T1(n,v,m):B1(n,v,m)}return n}function dk(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}var fk="[object Arguments]";function Ig(e){return la(e)&&sa(e)==fk}var A1=Object.prototype,pk=A1.hasOwnProperty,mk=A1.propertyIsEnumerable,gk=Ig(function(){return arguments}())?Ig:function(e){return la(e)&&pk.call(e,"callee")&&!mk.call(e,"callee")};const _k=gk;var yk=Array.isArray;const lu=yk;function vk(){return!1}var j1=typeof Qn=="object"&&Qn&&!Qn.nodeType&&Qn,Fg=j1&&typeof er=="object"&&er&&!er.nodeType&&er,xk=Fg&&Fg.exports===j1,zg=xk?Qr.Buffer:void 0,wk=zg?zg.isBuffer:void 0,bk=wk||vk;const D1=bk;var Lk=9007199254740991,kk=/^(?:0|[1-9]\d*)$/;function Ck(e,t){var n=typeof e;return t=t??Lk,!!t&&(n=="number"||n!="symbol"&&kk.test(e))&&e>-1&&e%1==0&&e<t}var Ek=9007199254740991;function O1(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ek}var Mk="[object Arguments]",Sk="[object Array]",Pk="[object Boolean]",Tk="[object Date]",Bk="[object Error]",Ak="[object Function]",jk="[object Map]",Dk="[object Number]",Ok="[object Object]",Nk="[object RegExp]",Rk="[object Set]",Ik="[object String]",Fk="[object WeakMap]",zk="[object ArrayBuffer]",Uk="[object DataView]",$k="[object Float32Array]",Vk="[object Float64Array]",Gk="[object Int8Array]",Hk="[object Int16Array]",Zk="[object Int32Array]",Wk="[object Uint8Array]",Kk="[object Uint8ClampedArray]",qk="[object Uint16Array]",Yk="[object Uint32Array]",Bt={};Bt[$k]=Bt[Vk]=Bt[Gk]=Bt[Hk]=Bt[Zk]=Bt[Wk]=Bt[Kk]=Bt[qk]=Bt[Yk]=!0;Bt[Mk]=Bt[Sk]=Bt[zk]=Bt[Pk]=Bt[Uk]=Bt[Tk]=Bt[Bk]=Bt[Ak]=Bt[jk]=Bt[Dk]=Bt[Ok]=Bt[Nk]=Bt[Rk]=Bt[Ik]=Bt[Fk]=!1;function Xk(e){return la(e)&&O1(e.length)&&!!Bt[sa(e)]}function z0(e){return function(t){return e(t)}}var N1=typeof Qn=="object"&&Qn&&!Qn.nodeType&&Qn,Ml=N1&&typeof er=="object"&&er&&!er.nodeType&&er,Jk=Ml&&Ml.exports===N1,gf=Jk&&k1.process,Qk=function(){try{var e=Ml&&Ml.require&&Ml.require("util").types;return e||gf&&gf.binding&&gf.binding("util")}catch{}}();const gs=Qk;var Ug=gs&&gs.isTypedArray,eC=Ug?z0(Ug):Xk;const tC=eC;var nC=Object.prototype,rC=nC.hasOwnProperty;function R1(e,t){var n=lu(e),o=!n&&_k(e),l=!n&&!o&&D1(e),c=!n&&!o&&!l&&tC(e),f=n||o||l||c,v=f?dk(e.length,String):[],m=v.length;for(var w in e)(t||rC.call(e,w))&&!(f&&(w=="length"||l&&(w=="offset"||w=="parent")||c&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||Ck(w,m)))&&v.push(w);return v}var iC=Object.prototype;function U0(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||iC;return e===n}var oC=E1(Object.keys,Object);const aC=oC;var sC=Object.prototype,lC=sC.hasOwnProperty;function uC(e){if(!U0(e))return aC(e);var t=[];for(var n in Object(e))lC.call(e,n)&&n!="constructor"&&t.push(n);return t}function I1(e){return e!=null&&O1(e.length)&&!P1(e)}function $0(e){return I1(e)?R1(e):uC(e)}function cC(e,t){return e&&Ah(t,$0(t),e)}function hC(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var dC=Object.prototype,fC=dC.hasOwnProperty;function pC(e){if(!su(e))return hC(e);var t=U0(e),n=[];for(var o in e)o=="constructor"&&(t||!fC.call(e,o))||n.push(o);return n}function V0(e){return I1(e)?R1(e,!0):pC(e)}function mC(e,t){return e&&Ah(t,V0(t),e)}var F1=typeof Qn=="object"&&Qn&&!Qn.nodeType&&Qn,$g=F1&&typeof er=="object"&&er&&!er.nodeType&&er,gC=$g&&$g.exports===F1,Vg=gC?Qr.Buffer:void 0,Gg=Vg?Vg.allocUnsafe:void 0;function _C(e,t){if(t)return e.slice();var n=e.length,o=Gg?Gg(n):new e.constructor(n);return e.copy(o),o}function z1(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}function yC(e,t){for(var n=-1,o=e==null?0:e.length,l=0,c=[];++n<o;){var f=e[n];t(f,n,e)&&(c[l++]=f)}return c}function U1(){return[]}var vC=Object.prototype,xC=vC.propertyIsEnumerable,Hg=Object.getOwnPropertySymbols,wC=Hg?function(e){return e==null?[]:(e=Object(e),yC(Hg(e),function(t){return xC.call(e,t)}))}:U1;const G0=wC;function bC(e,t){return Ah(e,G0(e),t)}function $1(e,t){for(var n=-1,o=t.length,l=e.length;++n<o;)e[l+n]=t[n];return e}var LC=Object.getOwnPropertySymbols,kC=LC?function(e){for(var t=[];e;)$1(t,G0(e)),e=F0(e);return t}:U1;const V1=kC;function CC(e,t){return Ah(e,V1(e),t)}function G1(e,t,n){var o=t(e);return lu(e)?o:$1(o,n(e))}function EC(e){return G1(e,$0,G0)}function MC(e){return G1(e,V0,V1)}var SC=ca(Qr,"DataView");const Tp=SC;var PC=ca(Qr,"Promise");const Bp=PC;var TC=ca(Qr,"Set");const Ap=TC;var BC=ca(Qr,"WeakMap");const jp=BC;var Zg="[object Map]",AC="[object Object]",Wg="[object Promise]",Kg="[object Set]",qg="[object WeakMap]",Yg="[object DataView]",jC=ua(Tp),DC=ua(Yl),OC=ua(Bp),NC=ua(Ap),RC=ua(jp),Io=sa;(Tp&&Io(new Tp(new ArrayBuffer(1)))!=Yg||Yl&&Io(new Yl)!=Zg||Bp&&Io(Bp.resolve())!=Wg||Ap&&Io(new Ap)!=Kg||jp&&Io(new jp)!=qg)&&(Io=function(e){var t=sa(e),n=t==AC?e.constructor:void 0,o=n?ua(n):"";if(o)switch(o){case jC:return Yg;case DC:return Zg;case OC:return Wg;case NC:return Kg;case RC:return qg}return t});const H0=Io;var IC=Object.prototype,FC=IC.hasOwnProperty;function zC(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&FC.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var UC=Qr.Uint8Array;const Xg=UC;function Z0(e){var t=new e.constructor(e.byteLength);return new Xg(t).set(new Xg(e)),t}function $C(e,t){var n=t?Z0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var VC=/\w*$/;function GC(e){var t=new e.constructor(e.source,VC.exec(e));return t.lastIndex=e.lastIndex,t}var Jg=ho?ho.prototype:void 0,Qg=Jg?Jg.valueOf:void 0;function HC(e){return Qg?Object(Qg.call(e)):{}}function ZC(e,t){var n=t?Z0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var WC="[object Boolean]",KC="[object Date]",qC="[object Map]",YC="[object Number]",XC="[object RegExp]",JC="[object Set]",QC="[object String]",eE="[object Symbol]",tE="[object ArrayBuffer]",nE="[object DataView]",rE="[object Float32Array]",iE="[object Float64Array]",oE="[object Int8Array]",aE="[object Int16Array]",sE="[object Int32Array]",lE="[object Uint8Array]",uE="[object Uint8ClampedArray]",cE="[object Uint16Array]",hE="[object Uint32Array]";function dE(e,t,n){var o=e.constructor;switch(t){case tE:return Z0(e);case WC:case KC:return new o(+e);case nE:return $C(e,n);case rE:case iE:case oE:case aE:case sE:case lE:case uE:case cE:case hE:return ZC(e,n);case qC:return new o;case YC:case QC:return new o(e);case XC:return GC(e);case JC:return new o;case eE:return HC(e)}}var e_=Object.create,fE=function(){function e(){}return function(t){if(!su(t))return{};if(e_)return e_(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const pE=fE;function mE(e){return typeof e.constructor=="function"&&!U0(e)?pE(F0(e)):{}}var gE="[object Map]";function _E(e){return la(e)&&H0(e)==gE}var t_=gs&&gs.isMap,yE=t_?z0(t_):_E;const vE=yE;var xE="[object Set]";function wE(e){return la(e)&&H0(e)==xE}var n_=gs&&gs.isSet,bE=n_?z0(n_):wE;const LE=bE;var kE=1,CE=2,EE=4,H1="[object Arguments]",ME="[object Array]",SE="[object Boolean]",PE="[object Date]",TE="[object Error]",Z1="[object Function]",BE="[object GeneratorFunction]",AE="[object Map]",jE="[object Number]",W1="[object Object]",DE="[object RegExp]",OE="[object Set]",NE="[object String]",RE="[object Symbol]",IE="[object WeakMap]",FE="[object ArrayBuffer]",zE="[object DataView]",UE="[object Float32Array]",$E="[object Float64Array]",VE="[object Int8Array]",GE="[object Int16Array]",HE="[object Int32Array]",ZE="[object Uint8Array]",WE="[object Uint8ClampedArray]",KE="[object Uint16Array]",qE="[object Uint32Array]",Mt={};Mt[H1]=Mt[ME]=Mt[FE]=Mt[zE]=Mt[SE]=Mt[PE]=Mt[UE]=Mt[$E]=Mt[VE]=Mt[GE]=Mt[HE]=Mt[AE]=Mt[jE]=Mt[W1]=Mt[DE]=Mt[OE]=Mt[NE]=Mt[RE]=Mt[ZE]=Mt[WE]=Mt[KE]=Mt[qE]=!0;Mt[TE]=Mt[Z1]=Mt[IE]=!1;function Sl(e,t,n,o,l,c){var f,v=t&kE,m=t&CE,w=t&EE;if(n&&(f=l?n(e,o,l,c):n(e)),f!==void 0)return f;if(!su(e))return e;var C=lu(e);if(C){if(f=zC(e),!v)return z1(e,f)}else{var S=H0(e),M=S==Z1||S==BE;if(D1(e))return _C(e,v);if(S==W1||S==H1||M&&!l){if(f=m||M?{}:mE(e),!v)return m?CC(e,mC(f,e)):bC(e,cC(f,e))}else{if(!Mt[S])return l?e:{};f=dE(e,S,v)}}c||(c=new Ls);var z=c.get(e);if(z)return z;c.set(e,f),LE(e)?e.forEach(function(X){f.add(Sl(X,t,n,X,e,c))}):vE(e)&&e.forEach(function(X,F){f.set(F,Sl(X,t,n,F,e,c))});var $=w?m?MC:EC:m?V0:$0,Z=C?void 0:$(e);return lk(Z||e,function(X,F){Z&&(F=X,X=e[F]),B1(f,F,Sl(X,t,n,F,e,c))}),f}var YE=1,XE=4;function _l(e){return Sl(e,YE|XE)}var r_=Array.isArray,i_=Object.keys,JE=Object.prototype.hasOwnProperty,QE=typeof Element<"u";function Dp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=r_(e),o=r_(t),l,c,f;if(n&&o){if(c=e.length,c!=t.length)return!1;for(l=c;l--!==0;)if(!Dp(e[l],t[l]))return!1;return!0}if(n!=o)return!1;var v=e instanceof Date,m=t instanceof Date;if(v!=m)return!1;if(v&&m)return e.getTime()==t.getTime();var w=e instanceof RegExp,C=t instanceof RegExp;if(w!=C)return!1;if(w&&C)return e.toString()==t.toString();var S=i_(e);if(c=S.length,c!==i_(t).length)return!1;for(l=c;l--!==0;)if(!JE.call(t,S[l]))return!1;if(QE&&e instanceof Element&&t instanceof Element)return e===t;for(l=c;l--!==0;)if(f=S[l],!(f==="_owner"&&e.$$typeof)&&!Dp(e[f],t[f]))return!1;return!0}return e!==e&&t!==t}var eM=function(t,n){try{return Dp(t,n)}catch(o){if(o.message&&o.message.match(/stack|recursion/i)||o.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",o.name,o.message),!1;throw o}};const Hi=Jl(eM);var tM=!0;function K1(e,t){if(!tM){if(e)return;var n="Warning: "+t;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var nM=4;function o_(e){return Sl(e,nM)}function q1(e,t){for(var n=-1,o=e==null?0:e.length,l=Array(o);++n<o;)l[n]=t(e[n],n,e);return l}var rM="[object Symbol]";function W0(e){return typeof e=="symbol"||la(e)&&sa(e)==rM}var iM="Expected a function";function K0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(iM);var n=function(){var o=arguments,l=t?t.apply(this,o):o[0],c=n.cache;if(c.has(l))return c.get(l);var f=e.apply(this,o);return n.cache=c.set(l,f)||c,f};return n.cache=new(K0.Cache||yo),n}K0.Cache=yo;var oM=500;function aM(e){var t=K0(e,function(o){return n.size===oM&&n.clear(),o}),n=t.cache;return t}var sM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lM=/\\(\\)?/g,uM=aM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(sM,function(n,o,l,c){t.push(l?c.replace(lM,"$1"):o||n)}),t});const cM=uM;var hM=1/0;function dM(e){if(typeof e=="string"||W0(e))return e;var t=e+"";return t=="0"&&1/e==-hM?"-0":t}var fM=1/0,a_=ho?ho.prototype:void 0,s_=a_?a_.toString:void 0;function Y1(e){if(typeof e=="string")return e;if(lu(e))return q1(e,Y1)+"";if(W0(e))return s_?s_.call(e):"";var t=e+"";return t=="0"&&1/e==-fM?"-0":t}function pM(e){return e==null?"":Y1(e)}function X1(e){return lu(e)?q1(e,dM):W0(e)?[e]:z1(cM(pM(e)))}var J1={exports:{}},yt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ln=typeof Symbol=="function"&&Symbol.for,q0=ln?Symbol.for("react.element"):60103,Y0=ln?Symbol.for("react.portal"):60106,jh=ln?Symbol.for("react.fragment"):60107,Dh=ln?Symbol.for("react.strict_mode"):60108,Oh=ln?Symbol.for("react.profiler"):60114,Nh=ln?Symbol.for("react.provider"):60109,Rh=ln?Symbol.for("react.context"):60110,X0=ln?Symbol.for("react.async_mode"):60111,Ih=ln?Symbol.for("react.concurrent_mode"):60111,Fh=ln?Symbol.for("react.forward_ref"):60112,zh=ln?Symbol.for("react.suspense"):60113,mM=ln?Symbol.for("react.suspense_list"):60120,Uh=ln?Symbol.for("react.memo"):60115,$h=ln?Symbol.for("react.lazy"):60116,gM=ln?Symbol.for("react.block"):60121,_M=ln?Symbol.for("react.fundamental"):60117,yM=ln?Symbol.for("react.responder"):60118,vM=ln?Symbol.for("react.scope"):60119;function or(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case q0:switch(e=e.type,e){case X0:case Ih:case jh:case Oh:case Dh:case zh:return e;default:switch(e=e&&e.$$typeof,e){case Rh:case Fh:case $h:case Uh:case Nh:return e;default:return t}}case Y0:return t}}}function Q1(e){return or(e)===Ih}yt.AsyncMode=X0;yt.ConcurrentMode=Ih;yt.ContextConsumer=Rh;yt.ContextProvider=Nh;yt.Element=q0;yt.ForwardRef=Fh;yt.Fragment=jh;yt.Lazy=$h;yt.Memo=Uh;yt.Portal=Y0;yt.Profiler=Oh;yt.StrictMode=Dh;yt.Suspense=zh;yt.isAsyncMode=function(e){return Q1(e)||or(e)===X0};yt.isConcurrentMode=Q1;yt.isContextConsumer=function(e){return or(e)===Rh};yt.isContextProvider=function(e){return or(e)===Nh};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===q0};yt.isForwardRef=function(e){return or(e)===Fh};yt.isFragment=function(e){return or(e)===jh};yt.isLazy=function(e){return or(e)===$h};yt.isMemo=function(e){return or(e)===Uh};yt.isPortal=function(e){return or(e)===Y0};yt.isProfiler=function(e){return or(e)===Oh};yt.isStrictMode=function(e){return or(e)===Dh};yt.isSuspense=function(e){return or(e)===zh};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jh||e===Ih||e===Oh||e===Dh||e===zh||e===mM||typeof e=="object"&&e!==null&&(e.$$typeof===$h||e.$$typeof===Uh||e.$$typeof===Nh||e.$$typeof===Rh||e.$$typeof===Fh||e.$$typeof===_M||e.$$typeof===yM||e.$$typeof===vM||e.$$typeof===gM)};yt.typeOf=or;J1.exports=yt;var xM=J1.exports,J0=xM,wM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},LM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ex={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Q0={};Q0[J0.ForwardRef]=LM;Q0[J0.Memo]=ex;function l_(e){return J0.isMemo(e)?ex:Q0[e.$$typeof]||wM}var kM=Object.defineProperty,CM=Object.getOwnPropertyNames,u_=Object.getOwnPropertySymbols,EM=Object.getOwnPropertyDescriptor,MM=Object.getPrototypeOf,c_=Object.prototype;function tx(e,t,n){if(typeof t!="string"){if(c_){var o=MM(t);o&&o!==c_&&tx(e,o,n)}var l=CM(t);u_&&(l=l.concat(u_(t)));for(var c=l_(e),f=l_(t),v=0;v<l.length;++v){var m=l[v];if(!bM[m]&&!(n&&n[m])&&!(f&&f[m])&&!(c&&c[m])){var w=EM(t,m);try{kM(e,m,w)}catch{}}}}return e}var SM=tx;const PM=Jl(SM);function gt(){return gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gt.apply(this,arguments)}function nx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ji(e,t){if(e==null)return{};var n={},o=Object.keys(e),l,c;for(c=0;c<o.length;c++)l=o[c],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function h_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Vh=H.createContext(void 0);Vh.displayName="FormikContext";var TM=Vh.Provider,BM=Vh.Consumer;function rx(){var e=H.useContext(Vh);return e||K1(!1),e}var d_=function(t){return Array.isArray(t)&&t.length===0},mn=function(t){return typeof t=="function"},uu=function(t){return t!==null&&typeof t=="object"},AM=function(t){return String(Math.floor(Number(t)))===t},_f=function(t){return Object.prototype.toString.call(t)==="[object String]"},ix=function(t){return H.Children.count(t)===0},yf=function(t){return uu(t)&&mn(t.then)};function Dt(e,t,n,o){o===void 0&&(o=0);for(var l=X1(t);e&&o<l.length;)e=e[l[o++]];return o!==l.length&&!e||e===void 0?n:e}function Xr(e,t,n){for(var o=o_(e),l=o,c=0,f=X1(t);c<f.length-1;c++){var v=f[c],m=Dt(e,f.slice(0,c+1));if(m&&(uu(m)||Array.isArray(m)))l=l[v]=o_(m);else{var w=f[c+1];l=l[v]=AM(w)&&Number(w)>=0?[]:{}}}return(c===0?e:l)[f[c]]===n?e:(n===void 0?delete l[f[c]]:l[f[c]]=n,c===0&&n===void 0&&delete o[f[c]],o)}function ox(e,t,n,o){n===void 0&&(n=new WeakMap),o===void 0&&(o={});for(var l=0,c=Object.keys(e);l<c.length;l++){var f=c[l],v=e[f];uu(v)?n.get(v)||(n.set(v,!0),o[f]=Array.isArray(v)?[]:{},ox(v,t,n,o[f])):o[f]=t}return o}function jM(e,t){switch(t.type){case"SET_VALUES":return gt({},e,{values:t.payload});case"SET_TOUCHED":return gt({},e,{touched:t.payload});case"SET_ERRORS":return Hi(e.errors,t.payload)?e:gt({},e,{errors:t.payload});case"SET_STATUS":return gt({},e,{status:t.payload});case"SET_ISSUBMITTING":return gt({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return gt({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return gt({},e,{values:Xr(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return gt({},e,{touched:Xr(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return gt({},e,{errors:Xr(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return gt({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return gt({},e,{touched:ox(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return gt({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return gt({},e,{isSubmitting:!1});default:return e}}var Do={},fc={};function DM(e){var t=e.validateOnChange,n=t===void 0?!0:t,o=e.validateOnBlur,l=o===void 0?!0:o,c=e.validateOnMount,f=c===void 0?!1:c,v=e.isInitialValid,m=e.enableReinitialize,w=m===void 0?!1:m,C=e.onSubmit,S=Ji(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),M=gt({validateOnChange:n,validateOnBlur:l,validateOnMount:f,onSubmit:C},S),z=H.useRef(M.initialValues),$=H.useRef(M.initialErrors||Do),Z=H.useRef(M.initialTouched||fc),X=H.useRef(M.initialStatus),F=H.useRef(!1),D=H.useRef({});H.useEffect(function(){return F.current=!0,function(){F.current=!1}},[]);var I=H.useState(0),Q=I[1],ne=H.useRef({values:_l(M.initialValues),errors:_l(M.initialErrors)||Do,touched:_l(M.initialTouched)||fc,status:_l(M.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),me=ne.current,de=H.useCallback(function(he){var Se=ne.current;ne.current=jM(Se,he),Se!==ne.current&&Q(function(je){return je+1})},[]),we=H.useCallback(function(he,Se){return new Promise(function(je,Fe){var _e=M.validate(he,Se);_e==null?je(Do):yf(_e)?_e.then(function(ve){je(ve||Do)},function(ve){Fe(ve)}):je(_e)})},[M.validate]),Ne=H.useCallback(function(he,Se){var je=M.validationSchema,Fe=mn(je)?je(Se):je,_e=Se&&Fe.validateAt?Fe.validateAt(Se,he):NM(he,Fe);return new Promise(function(ve,ht){_e.then(function(){ve(Do)},function(Kt){Kt.name==="ValidationError"?ve(OM(Kt)):ht(Kt)})})},[M.validationSchema]),Ce=H.useCallback(function(he,Se){return new Promise(function(je){return je(D.current[he].validate(Se))})},[]),ke=H.useCallback(function(he){var Se=Object.keys(D.current).filter(function(Fe){return mn(D.current[Fe].validate)}),je=Se.length>0?Se.map(function(Fe){return Ce(Fe,Dt(he,Fe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(je).then(function(Fe){return Fe.reduce(function(_e,ve,ht){return ve==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ve&&(_e=Xr(_e,Se[ht],ve)),_e},{})})},[Ce]),Ye=H.useCallback(function(he){return Promise.all([ke(he),M.validationSchema?Ne(he):{},M.validate?we(he):{}]).then(function(Se){var je=Se[0],Fe=Se[1],_e=Se[2],ve=Pp.all([je,Fe,_e],{arrayMerge:RM});return ve})},[M.validate,M.validationSchema,ke,we,Ne]),tt=mr(function(he){return he===void 0&&(he=me.values),de({type:"SET_ISVALIDATING",payload:!0}),Ye(he).then(function(Se){return F.current&&(de({type:"SET_ISVALIDATING",payload:!1}),de({type:"SET_ERRORS",payload:Se})),Se})});H.useEffect(function(){f&&F.current===!0&&Hi(z.current,M.initialValues)&&tt(z.current)},[f,tt]);var at=H.useCallback(function(he){var Se=he&&he.values?he.values:z.current,je=he&&he.errors?he.errors:$.current?$.current:M.initialErrors||{},Fe=he&&he.touched?he.touched:Z.current?Z.current:M.initialTouched||{},_e=he&&he.status?he.status:X.current?X.current:M.initialStatus;z.current=Se,$.current=je,Z.current=Fe,X.current=_e;var ve=function(){de({type:"RESET_FORM",payload:{isSubmitting:!!he&&!!he.isSubmitting,errors:je,touched:Fe,status:_e,values:Se,isValidating:!!he&&!!he.isValidating,submitCount:he&&he.submitCount&&typeof he.submitCount=="number"?he.submitCount:0}})};if(M.onReset){var ht=M.onReset(me.values,xt);yf(ht)?ht.then(ve):ve()}else ve()},[M.initialErrors,M.initialStatus,M.initialTouched,M.onReset]);H.useEffect(function(){F.current===!0&&!Hi(z.current,M.initialValues)&&w&&(z.current=M.initialValues,at(),f&&tt(z.current))},[w,M.initialValues,at,f,tt]),H.useEffect(function(){w&&F.current===!0&&!Hi($.current,M.initialErrors)&&($.current=M.initialErrors||Do,de({type:"SET_ERRORS",payload:M.initialErrors||Do}))},[w,M.initialErrors]),H.useEffect(function(){w&&F.current===!0&&!Hi(Z.current,M.initialTouched)&&(Z.current=M.initialTouched||fc,de({type:"SET_TOUCHED",payload:M.initialTouched||fc}))},[w,M.initialTouched]),H.useEffect(function(){w&&F.current===!0&&!Hi(X.current,M.initialStatus)&&(X.current=M.initialStatus,de({type:"SET_STATUS",payload:M.initialStatus}))},[w,M.initialStatus,M.initialTouched]);var kt=mr(function(he){if(D.current[he]&&mn(D.current[he].validate)){var Se=Dt(me.values,he),je=D.current[he].validate(Se);return yf(je)?(de({type:"SET_ISVALIDATING",payload:!0}),je.then(function(Fe){return Fe}).then(function(Fe){de({type:"SET_FIELD_ERROR",payload:{field:he,value:Fe}}),de({type:"SET_ISVALIDATING",payload:!1})})):(de({type:"SET_FIELD_ERROR",payload:{field:he,value:je}}),Promise.resolve(je))}else if(M.validationSchema)return de({type:"SET_ISVALIDATING",payload:!0}),Ne(me.values,he).then(function(Fe){return Fe}).then(function(Fe){de({type:"SET_FIELD_ERROR",payload:{field:he,value:Dt(Fe,he)}}),de({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ct=H.useCallback(function(he,Se){var je=Se.validate;D.current[he]={validate:je}},[]),nt=H.useCallback(function(he){delete D.current[he]},[]),pe=mr(function(he,Se){de({type:"SET_TOUCHED",payload:he});var je=Se===void 0?l:Se;return je?tt(me.values):Promise.resolve()}),Re=H.useCallback(function(he){de({type:"SET_ERRORS",payload:he})},[]),be=mr(function(he,Se){var je=mn(he)?he(me.values):he;de({type:"SET_VALUES",payload:je});var Fe=Se===void 0?n:Se;return Fe?tt(je):Promise.resolve()}),Oe=H.useCallback(function(he,Se){de({type:"SET_FIELD_ERROR",payload:{field:he,value:Se}})},[]),Ge=mr(function(he,Se,je){de({type:"SET_FIELD_VALUE",payload:{field:he,value:Se}});var Fe=je===void 0?n:je;return Fe?tt(Xr(me.values,he,Se)):Promise.resolve()}),pt=H.useCallback(function(he,Se){var je=Se,Fe=he,_e;if(!_f(he)){he.persist&&he.persist();var ve=he.target?he.target:he.currentTarget,ht=ve.type,Kt=ve.name,yn=ve.id,ar=ve.value,Nr=ve.checked,ks=ve.outerHTML,ti=ve.options,Rr=ve.multiple;je=Se||Kt||yn,Fe=/number|range/.test(ht)?(_e=parseFloat(ar),isNaN(_e)?"":_e):/checkbox/.test(ht)?FM(Dt(me.values,je),Nr,ar):ti&&Rr?IM(ti):ar}je&&Ge(je,Fe)},[Ge,me.values]),Qe=mr(function(he){if(_f(he))return function(Se){return pt(Se,he)};pt(he)}),We=mr(function(he,Se,je){Se===void 0&&(Se=!0),de({type:"SET_FIELD_TOUCHED",payload:{field:he,value:Se}});var Fe=je===void 0?l:je;return Fe?tt(me.values):Promise.resolve()}),$e=H.useCallback(function(he,Se){he.persist&&he.persist();var je=he.target,Fe=je.name,_e=je.id,ve=je.outerHTML,ht=Se||Fe||_e;We(ht,!0)},[We]),Ct=mr(function(he){if(_f(he))return function(Se){return $e(Se,he)};$e(he)}),fe=H.useCallback(function(he){mn(he)?de({type:"SET_FORMIK_STATE",payload:he}):de({type:"SET_FORMIK_STATE",payload:function(){return he}})},[]),Me=H.useCallback(function(he){de({type:"SET_STATUS",payload:he})},[]),lt=H.useCallback(function(he){de({type:"SET_ISSUBMITTING",payload:he})},[]),vt=mr(function(){return de({type:"SUBMIT_ATTEMPT"}),tt().then(function(he){var Se=he instanceof Error,je=!Se&&Object.keys(he).length===0;if(je){var Fe;try{if(Fe=tn(),Fe===void 0)return}catch(_e){throw _e}return Promise.resolve(Fe).then(function(_e){return F.current&&de({type:"SUBMIT_SUCCESS"}),_e}).catch(function(_e){if(F.current)throw de({type:"SUBMIT_FAILURE"}),_e})}else if(F.current&&(de({type:"SUBMIT_FAILURE"}),Se))throw he})}),Pt=mr(function(he){he&&he.preventDefault&&mn(he.preventDefault)&&he.preventDefault(),he&&he.stopPropagation&&mn(he.stopPropagation)&&he.stopPropagation(),vt().catch(function(Se){console.warn("Warning: An unhandled error was caught from submitForm()",Se)})}),xt={resetForm:at,validateForm:tt,validateField:kt,setErrors:Re,setFieldError:Oe,setFieldTouched:We,setFieldValue:Ge,setStatus:Me,setSubmitting:lt,setTouched:pe,setValues:be,setFormikState:fe,submitForm:vt},tn=mr(function(){return C(me.values,xt)}),un=mr(function(he){he&&he.preventDefault&&mn(he.preventDefault)&&he.preventDefault(),he&&he.stopPropagation&&mn(he.stopPropagation)&&he.stopPropagation(),at()}),Wn=H.useCallback(function(he){return{value:Dt(me.values,he),error:Dt(me.errors,he),touched:!!Dt(me.touched,he),initialValue:Dt(z.current,he),initialTouched:!!Dt(Z.current,he),initialError:Dt($.current,he)}},[me.errors,me.touched,me.values]),Rn=H.useCallback(function(he){return{setValue:function(je,Fe){return Ge(he,je,Fe)},setTouched:function(je,Fe){return We(he,je,Fe)},setError:function(je){return Oe(he,je)}}},[Ge,We,Oe]),Mn=H.useCallback(function(he){var Se=uu(he),je=Se?he.name:he,Fe=Dt(me.values,je),_e={name:je,value:Fe,onChange:Qe,onBlur:Ct};if(Se){var ve=he.type,ht=he.value,Kt=he.as,yn=he.multiple;ve==="checkbox"?ht===void 0?_e.checked=!!Fe:(_e.checked=!!(Array.isArray(Fe)&&~Fe.indexOf(ht)),_e.value=ht):ve==="radio"?(_e.checked=Fe===ht,_e.value=ht):Kt==="select"&&yn&&(_e.value=_e.value||[],_e.multiple=!0)}return _e},[Ct,Qe,me.values]),Or=H.useMemo(function(){return!Hi(z.current,me.values)},[z.current,me.values]),Pi=H.useMemo(function(){return typeof v<"u"?Or?me.errors&&Object.keys(me.errors).length===0:v!==!1&&mn(v)?v(M):v:me.errors&&Object.keys(me.errors).length===0},[v,Or,me.errors,M]),ei=gt({},me,{initialValues:z.current,initialErrors:$.current,initialTouched:Z.current,initialStatus:X.current,handleBlur:Ct,handleChange:Qe,handleReset:un,handleSubmit:Pt,resetForm:at,setErrors:Re,setFormikState:fe,setFieldTouched:We,setFieldValue:Ge,setFieldError:Oe,setStatus:Me,setSubmitting:lt,setTouched:pe,setValues:be,submitForm:vt,validateForm:tt,validateField:kt,isValid:Pi,dirty:Or,unregisterField:nt,registerField:ct,getFieldProps:Mn,getFieldMeta:Wn,getFieldHelpers:Rn,validateOnBlur:l,validateOnChange:n,validateOnMount:f});return ei}function ax(e){var t=DM(e),n=e.component,o=e.children,l=e.render,c=e.innerRef;return H.useImperativeHandle(c,function(){return t}),H.createElement(TM,{value:t},n?H.createElement(n,t):l?l(t):o?mn(o)?o(t):ix(o)?null:H.Children.only(o):null)}function OM(e){var t={};if(e.inner){if(e.inner.length===0)return Xr(t,e.path,e.message);for(var l=e.inner,n=Array.isArray(l),o=0,l=n?l:l[Symbol.iterator]();;){var c;if(n){if(o>=l.length)break;c=l[o++]}else{if(o=l.next(),o.done)break;c=o.value}var f=c;Dt(t,f.path)||(t=Xr(t,f.path,f.message))}}return t}function NM(e,t,n,o){n===void 0&&(n=!1);var l=Op(e);return t[n?"validateSync":"validate"](l,{abortEarly:!1,context:o||l})}function Op(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=String(n);Array.isArray(e[o])===!0?t[o]=e[o].map(function(l){return Array.isArray(l)===!0||Og(l)?Op(l):l!==""?l:void 0}):Og(e[o])?t[o]=Op(e[o]):t[o]=e[o]!==""?e[o]:void 0}return t}function RM(e,t,n){var o=e.slice();return t.forEach(function(c,f){if(typeof o[f]>"u"){var v=n.clone!==!1,m=v&&n.isMergeableObject(c);o[f]=m?Pp(Array.isArray(c)?[]:{},c,n):c}else n.isMergeableObject(c)?o[f]=Pp(e[f],c,n):e.indexOf(c)===-1&&o.push(c)}),o}function IM(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function FM(e,t,n){if(typeof e=="boolean")return!!t;var o=[],l=!1,c=-1;if(Array.isArray(e))o=e,c=e.indexOf(n),l=c>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!l?o.concat(n):l?o.slice(0,c).concat(o.slice(c+1)):o}var zM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?H.useLayoutEffect:H.useEffect;function mr(e){var t=H.useRef(e);return zM(function(){t.current=e}),H.useCallback(function(){for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t.current.apply(void 0,o)},[])}function gi(e){var t=e.validate,n=e.name,o=e.render,l=e.children,c=e.as,f=e.component,v=e.className,m=Ji(e,["validate","name","render","children","as","component","className"]),w=rx(),C=Ji(w,["validate","validationSchema"]),S=C.registerField,M=C.unregisterField;H.useEffect(function(){return S(n,{validate:t}),function(){M(n)}},[S,M,n,t]);var z=C.getFieldProps(gt({name:n},m)),$=C.getFieldMeta(n),Z={field:z,form:C};if(o)return o(gt({},Z,{meta:$}));if(mn(l))return l(gt({},Z,{meta:$}));if(f){if(typeof f=="string"){var X=m.innerRef,F=Ji(m,["innerRef"]);return H.createElement(f,gt({ref:X},z,F,{className:v}),l)}return H.createElement(f,gt({field:z,form:C},m,{className:v}),l)}var D=c||"input";if(typeof D=="string"){var I=m.innerRef,Q=Ji(m,["innerRef"]);return H.createElement(D,gt({ref:I},z,Q,{className:v}),l)}return H.createElement(D,gt({},z,m,{className:v}),l)}var em=H.forwardRef(function(e,t){var n=e.action,o=Ji(e,["action"]),l=n??"#",c=rx(),f=c.handleReset,v=c.handleSubmit;return H.createElement("form",gt({onSubmit:v,ref:t,onReset:f,action:l},o))});em.displayName="Form";function UM(e){var t=function(l){return H.createElement(BM,null,function(c){return c||K1(!1),H.createElement(e,gt({},l,{formik:c}))})},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",PM(t,e)}var $M=function(t,n,o){var l=ta(t),c=l[n];return l.splice(n,1),l.splice(o,0,c),l},VM=function(t,n,o){var l=ta(t),c=l[n];return l[n]=l[o],l[o]=c,l},vf=function(t,n,o){var l=ta(t);return l.splice(n,0,o),l},GM=function(t,n,o){var l=ta(t);return l[n]=o,l},ta=function(t){if(t){if(Array.isArray(t))return[].concat(t);var n=Object.keys(t).map(function(o){return parseInt(o)}).reduce(function(o,l){return l>o?l:o},0);return Array.from(gt({},t,{length:n+1}))}else return[]},f_=function(t,n){var o=typeof t=="function"?t:n;return function(l){if(Array.isArray(l)||uu(l)){var c=ta(l);return o(c)}return l}},HM=function(e){nx(t,e);function t(o){var l;return l=e.call(this,o)||this,l.updateArrayField=function(c,f,v){var m=l.props,w=m.name,C=m.formik.setFormikState;C(function(S){var M=f_(v,c),z=f_(f,c),$=Xr(S.values,w,c(Dt(S.values,w))),Z=v?M(Dt(S.errors,w)):void 0,X=f?z(Dt(S.touched,w)):void 0;return d_(Z)&&(Z=void 0),d_(X)&&(X=void 0),gt({},S,{values:$,errors:v?Xr(S.errors,w,Z):S.errors,touched:f?Xr(S.touched,w,X):S.touched})})},l.push=function(c){return l.updateArrayField(function(f){return[].concat(ta(f),[_l(c)])},!1,!1)},l.handlePush=function(c){return function(){return l.push(c)}},l.swap=function(c,f){return l.updateArrayField(function(v){return VM(v,c,f)},!0,!0)},l.handleSwap=function(c,f){return function(){return l.swap(c,f)}},l.move=function(c,f){return l.updateArrayField(function(v){return $M(v,c,f)},!0,!0)},l.handleMove=function(c,f){return function(){return l.move(c,f)}},l.insert=function(c,f){return l.updateArrayField(function(v){return vf(v,c,f)},function(v){return vf(v,c,null)},function(v){return vf(v,c,null)})},l.handleInsert=function(c,f){return function(){return l.insert(c,f)}},l.replace=function(c,f){return l.updateArrayField(function(v){return GM(v,c,f)},!1,!1)},l.handleReplace=function(c,f){return function(){return l.replace(c,f)}},l.unshift=function(c){var f=-1;return l.updateArrayField(function(v){var m=v?[c].concat(v):[c];return f=m.length,m},function(v){return v?[null].concat(v):[null]},function(v){return v?[null].concat(v):[null]}),f},l.handleUnshift=function(c){return function(){return l.unshift(c)}},l.handleRemove=function(c){return function(){return l.remove(c)}},l.handlePop=function(){return function(){return l.pop()}},l.remove=l.remove.bind(h_(l)),l.pop=l.pop.bind(h_(l)),l}var n=t.prototype;return n.componentDidUpdate=function(l){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Hi(Dt(l.formik.values,l.name),Dt(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(l){var c;return this.updateArrayField(function(f){var v=f?ta(f):[];return c||(c=v[l]),mn(v.splice)&&v.splice(l,1),mn(v.every)&&v.every(function(m){return m===void 0})?[]:v},!0,!0),c},n.pop=function(){var l;return this.updateArrayField(function(c){var f=c.slice();return l||(l=f&&f.pop&&f.pop()),f},!0,!0),l},n.render=function(){var l={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},c=this.props,f=c.component,v=c.render,m=c.children,w=c.name,C=c.formik,S=Ji(C,["validate","validationSchema"]),M=gt({},l,{form:S,name:w});return f?H.createElement(f,M):v?v(M):m?typeof m=="function"?m(M):ix(m)?null:H.Children.only(m):null},t}(H.Component);HM.defaultProps={validateOnChange:!0};var ZM=function(e){nx(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.shouldComponentUpdate=function(l){return Dt(this.props.formik.errors,this.props.name)!==Dt(l.formik.errors,this.props.name)||Dt(this.props.formik.touched,this.props.name)!==Dt(l.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(l).length},n.render=function(){var l=this.props,c=l.component,f=l.formik,v=l.render,m=l.children,w=l.name,C=Ji(l,["component","formik","render","children","name"]),S=Dt(f.touched,w),M=Dt(f.errors,w);return S&&M?v?mn(v)?v(M):null:m?mn(m)?m(M):null:c?H.createElement(c,C,M):M:null},t}(H.Component),Zi=UM(ZM);function ha(e){this._maxSize=e,this.clear()}ha.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ha.prototype.get=function(e){return this._values[e]};ha.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var WM=/[^.^\]^[]+|(?=\[\]|\.\.)/g,sx=/^\d+$/,KM=/^\d/,qM=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,YM=/^\s*(['"]?)(.*?)(\1)\s*$/,tm=512,p_=new ha(tm),m_=new ha(tm),g_=new ha(tm),Zo={Cache:ha,split:Np,normalizePath:xf,setter:function(e){var t=xf(e);return m_.get(e)||m_.set(e,function(o,l){for(var c=0,f=t.length,v=o;c<f-1;){var m=t[c];if(m==="__proto__"||m==="constructor"||m==="prototype")return o;v=v[t[c++]]}v[t[c]]=l})},getter:function(e,t){var n=xf(e);return g_.get(e)||g_.set(e,function(l){for(var c=0,f=n.length;c<f;)if(l!=null||!t)l=l[n[c++]];else return;return l})},join:function(e){return e.reduce(function(t,n){return t+(nm(n)||sx.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){XM(Array.isArray(e)?e:Np(e),t,n)}};function xf(e){return p_.get(e)||p_.set(e,Np(e).map(function(t){return t.replace(YM,"$2")}))}function Np(e){return e.match(WM)||[""]}function XM(e,t,n){var o=e.length,l,c,f,v;for(c=0;c<o;c++)l=e[c],l&&(eS(l)&&(l='"'+l+'"'),v=nm(l),f=!v&&/^\d+$/.test(l),t.call(n,l,v,f,c,e))}function nm(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function JM(e){return e.match(KM)&&!e.match(sx)}function QM(e){return qM.test(e)}function eS(e){return!nm(e)&&(JM(e)||QM(e))}const tS=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Gh=e=>e.match(tS)||[],Hh=e=>e[0].toUpperCase()+e.slice(1),rm=(e,t)=>Gh(e).join(t).toLowerCase(),lx=e=>Gh(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),nS=e=>Hh(lx(e)),rS=e=>rm(e,"_"),iS=e=>rm(e,"-"),oS=e=>Hh(rm(e," ")),aS=e=>Gh(e).map(Hh).join(" ");var wf={words:Gh,upperFirst:Hh,camelCase:lx,pascalCase:nS,snakeCase:rS,kebabCase:iS,sentenceCase:oS,titleCase:aS},im={exports:{}};im.exports=function(e){return ux(sS(e),e)};im.exports.array=ux;function ux(e,t){var n=e.length,o=new Array(n),l={},c=n,f=lS(t),v=uS(e);for(t.forEach(function(w){if(!v.has(w[0])||!v.has(w[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});c--;)l[c]||m(e[c],c,new Set);return o;function m(w,C,S){if(S.has(w)){var M;try{M=", node was:"+JSON.stringify(w)}catch{M=""}throw new Error("Cyclic dependency"+M)}if(!v.has(w))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(w));if(!l[C]){l[C]=!0;var z=f.get(w)||new Set;if(z=Array.from(z),C=z.length){S.add(w);do{var $=z[--C];m($,v.get($),S)}while(C);S.delete(w)}o[--n]=w}}}function sS(e){for(var t=new Set,n=0,o=e.length;n<o;n++){var l=e[n];t.add(l[0]),t.add(l[1])}return Array.from(t)}function lS(e){for(var t=new Map,n=0,o=e.length;n<o;n++){var l=e[n];t.has(l[0])||t.set(l[0],new Set),t.has(l[1])||t.set(l[1],new Set),t.get(l[0]).add(l[1])}return t}function uS(e){for(var t=new Map,n=0,o=e.length;n<o;n++)t.set(e[n],n);return t}var cS=im.exports;const hS=Jl(cS),dS=Object.prototype.toString,fS=Error.prototype.toString,pS=RegExp.prototype.toString,mS=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",gS=/^Symbol\((.*)\)(.*)$/;function _S(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function __(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return _S(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return mS.call(e).replace(gS,"Symbol($1)");const o=dS.call(e).slice(8,-1);return o==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):o==="Error"||e instanceof Error?"["+fS.call(e)+"]":o==="RegExp"?pS.call(e):null}function lo(e,t){let n=__(e,t);return n!==null?n:JSON.stringify(e,function(o,l){let c=__(this[o],t);return c!==null?c:l},2)}function cx(e){return e==null?[]:[].concat(e)}let hx,dx,fx,yS=/\$\{\s*(\w+)\s*\}/g;hx=Symbol.toStringTag;class y_{constructor(t,n,o,l){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[hx]="Error",this.name="ValidationError",this.value=n,this.path=o,this.type=l,this.errors=[],this.inner=[],cx(t).forEach(c=>{if(An.isError(c)){this.errors.push(...c.errors);const f=c.inner.length?c.inner:[c];this.inner.push(...f)}else this.errors.push(c)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}dx=Symbol.hasInstance;fx=Symbol.toStringTag;class An extends Error{static formatError(t,n){const o=n.label||n.path||"this";return n=Object.assign({},n,{path:o,originalPath:n.path}),typeof t=="string"?t.replace(yS,(l,c)=>lo(n[c])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,o,l,c){const f=new y_(t,n,o,l);if(c)return f;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[fx]="Error",this.name=f.name,this.message=f.message,this.type=f.type,this.value=f.value,this.path=f.path,this.errors=f.errors,this.inner=f.inner,Error.captureStackTrace&&Error.captureStackTrace(this,An)}static[dx](t){return y_[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let Wr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:o})=>{const l=o!=null&&o!==n?` (cast from the value \`${lo(o,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${lo(n,!0)}\``+l:`${e} must match the configured type. The validated value was: \`${lo(n,!0)}\``+l}},Un={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},vS={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Rp={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},xS={isValue:"${path} field must be ${value}"},Mc={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},wS={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},bS={notType:e=>{const{path:t,value:n,spec:o}=e,l=o.types.length;if(Array.isArray(n)){if(n.length<l)return`${t} tuple value has too few items, expected a length of ${l} but got ${n.length} for value: \`${lo(n,!0)}\``;if(n.length>l)return`${t} tuple value has too many items, expected a length of ${l} but got ${n.length} for value: \`${lo(n,!0)}\``}return An.formatError(Wr.notType,e)}};Object.assign(Object.create(null),{mixed:Wr,string:Un,number:vS,date:Rp,object:Mc,array:wS,boolean:xS,tuple:bS});const om=e=>e&&e.__isYupSchema__;class ih{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:o,then:l,otherwise:c}=n,f=typeof o=="function"?o:(...v)=>v.every(m=>m===o);return new ih(t,(v,m)=>{var w;let C=f(...v)?l:c;return(w=C==null?void 0:C(m))!=null?w:m})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let o=this.refs.map(c=>c.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),l=this.fn(o,t,n);if(l===void 0||l===t)return t;if(!om(l))throw new TypeError("conditions must return a schema object");return l.resolve(n)}}const pc={context:"$",value:"."};function LS(e,t){return new vo(e,t)}class vo{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===pc.context,this.isValue=this.key[0]===pc.value,this.isSibling=!this.isContext&&!this.isValue;let o=this.isContext?pc.context:this.isValue?pc.value:"";this.path=this.key.slice(o.length),this.getter=this.path&&Zo.getter(this.path,!0),this.map=n.map}getValue(t,n,o){let l=this.isContext?o:this.isValue?t:n;return this.getter&&(l=this.getter(l||{})),this.map&&(l=this.map(l)),l}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}vo.prototype.__isYupRef=!0;const $o=e=>e==null;function $a(e){function t({value:n,path:o="",options:l,originalValue:c,schema:f},v,m){const{name:w,test:C,params:S,message:M,skipAbsent:z}=e;let{parent:$,context:Z,abortEarly:X=f.spec.abortEarly,disableStackTrace:F=f.spec.disableStackTrace}=l;const D={value:n,parent:$,context:Z};function I(ke={}){const Ye=px(Object.assign({value:n,originalValue:c,label:f.spec.label,path:ke.path||o,spec:f.spec,disableStackTrace:ke.disableStackTrace||F},S,ke.params),D),tt=new An(An.formatError(ke.message||M,Ye),n,Ye.path,ke.type||w,Ye.disableStackTrace);return tt.params=Ye,tt}const Q=X?v:m;let ne={path:o,parent:$,type:w,from:l.from,createError:I,resolve(ke){return mx(ke,D)},options:l,originalValue:c,schema:f};const me=ke=>{An.isError(ke)?Q(ke):ke?m(null):Q(I())},de=ke=>{An.isError(ke)?Q(ke):v(ke)};if(z&&$o(n))return me(!0);let Ne;try{var Ce;if(Ne=C.call(ne,n,ne),typeof((Ce=Ne)==null?void 0:Ce.then)=="function"){if(l.sync)throw new Error(`Validation test of type: "${ne.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(Ne).then(me,de)}}catch(ke){de(ke);return}me(Ne)}return t.OPTIONS=e,t}function px(e,t){if(!e)return e;for(const n of Object.keys(e))e[n]=mx(e[n],t);return e}function mx(e,t){return vo.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function kS(e,t,n,o=n){let l,c,f;return t?(Zo.forEach(t,(v,m,w)=>{let C=m?v.slice(1,v.length-1):v;e=e.resolve({context:o,parent:l,value:n});let S=e.type==="tuple",M=w?parseInt(C,10):0;if(e.innerType||S){if(S&&!w)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${f}" must contain an index to the tuple element, e.g. "${f}[0]"`);if(n&&M>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${v}, in the path: ${t}. because there is no value at that index. `);l=n,n=n&&n[M],e=S?e.spec.types[M]:e.innerType}if(!w){if(!e.fields||!e.fields[C])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${f} which is a type: "${e.type}")`);l=n,n=n&&n[C],e=e.fields[C]}c=C,f=m?"["+v+"]":"."+v}),{schema:e,parent:l,parentPath:c}):{parent:l,parentPath:t,schema:e}}class oh extends Set{describe(){const t=[];for(const n of this.values())t.push(vo.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const o of this.values())n.push(t(o));return n}clone(){return new oh(this.values())}merge(t,n){const o=this.clone();return t.forEach(l=>o.add(l)),n.forEach(l=>o.delete(l)),o}}function ns(e,t=new Map){if(om(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let o=0;o<e.length;o++)n[o]=ns(e[o],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[o,l]of e.entries())n.set(o,ns(l,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const o of e)n.add(ns(o,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[o,l]of Object.entries(e))n[o]=ns(l,t)}else throw Error(`Unable to clone ${e}`);return n}function CS(e){if(!(e!=null&&e.length))return;const t=[];let n="",o=!1,l=!1;for(let c=0;c<e.length;c++){const f=e[c];if(f==="["&&!l){n&&(t.push(...n.split(".").filter(Boolean)),n=""),o=!0;continue}if(f==="]"&&!l){n&&(/^\d+$/.test(n)?t.push(n):t.push(n.replace(/^"|"$/g,"")),n=""),o=!1;continue}if(f==='"'){l=!l;continue}if(f==="."&&!o&&!l){n&&(t.push(n),n="");continue}n+=f}return n&&t.push(...n.split(".").filter(Boolean)),t}function ES(e,t){const n=t?`${t}.${e.path}`:e.path;return e.errors.map(o=>({message:o,path:CS(n)}))}function gx(e,t){var n;if(!((n=e.inner)!=null&&n.length)&&e.errors.length)return ES(e,t);const o=t?`${t}.${e.path}`:e.path;return e.inner.flatMap(l=>gx(l,o))}class Jr{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new oh,this._blacklist=new oh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Wr.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=ns(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let o=t(this);return this._mutate=n,o}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,o=t.clone();const l=Object.assign({},n.spec,o.spec);return o.spec=l,o.internalTests=Object.assign({},n.internalTests,o.internalTests),o._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),o._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),o.tests=n.tests,o.exclusiveTests=n.exclusiveTests,o.withMutation(c=>{t.tests.forEach(f=>{c.test(f.OPTIONS)})}),o.transforms=[...n.transforms,...o.transforms],o}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let o=n.conditions;n=n.clone(),n.conditions=[],n=o.reduce((l,c)=>c.resolve(l,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,o,l,c;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(o=t.abortEarly)!=null?o:this.spec.abortEarly,recursive:(l=t.recursive)!=null?l:this.spec.recursive,disableStackTrace:(c=t.disableStackTrace)!=null?c:this.spec.disableStackTrace})}cast(t,n={}){let o=this.resolve(Object.assign({value:t},n)),l=n.assert==="ignore-optionality",c=o._cast(t,n);if(n.assert!==!1&&!o.isType(c)){if(l&&$o(c))return c;let f=lo(t),v=lo(c);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${o.type}". 

attempted value: ${f} 
`+(v!==f?`result of cast: ${v}`:""))}return c}_cast(t,n){let o=t===void 0?t:this.transforms.reduce((l,c)=>c.call(this,l,t,this),t);return o===void 0&&(o=this.getDefault(n)),o}_validate(t,n={},o,l){let{path:c,originalValue:f=t,strict:v=this.spec.strict}=n,m=t;v||(m=this._cast(m,Object.assign({assert:!1},n)));let w=[];for(let C of Object.values(this.internalTests))C&&w.push(C);this.runTests({path:c,value:m,originalValue:f,options:n,tests:w},o,C=>{if(C.length)return l(C,m);this.runTests({path:c,value:m,originalValue:f,options:n,tests:this.tests},o,l)})}runTests(t,n,o){let l=!1,{tests:c,value:f,originalValue:v,path:m,options:w}=t,C=Z=>{l||(l=!0,n(Z,f))},S=Z=>{l||(l=!0,o(Z,f))},M=c.length,z=[];if(!M)return S([]);let $={value:f,originalValue:v,path:m,options:w,schema:this};for(let Z=0;Z<c.length;Z++){const X=c[Z];X($,C,function(D){D&&(Array.isArray(D)?z.push(...D):z.push(D)),--M<=0&&S(z)})}}asNestedTest({key:t,index:n,parent:o,parentPath:l,originalParent:c,options:f}){const v=t??n;if(v==null)throw TypeError("Must include `key` or `index` for nested validations");const m=typeof v=="number";let w=o[v];const C=Object.assign({},f,{strict:!0,parent:o,value:w,originalValue:c[v],key:void 0,[m?"index":"key"]:v,path:m||v.includes(".")?`${l||""}[${m?v:`"${v}"`}]`:(l?`${l}.`:"")+t});return(S,M,z)=>this.resolve(C)._validate(w,C,M,z)}validate(t,n){var o;let l=this.resolve(Object.assign({},n,{value:t})),c=(o=n==null?void 0:n.disableStackTrace)!=null?o:l.spec.disableStackTrace;return new Promise((f,v)=>l._validate(t,n,(m,w)=>{An.isError(m)&&(m.value=w),v(m)},(m,w)=>{m.length?v(new An(m,w,void 0,void 0,c)):f(w)}))}validateSync(t,n){var o;let l=this.resolve(Object.assign({},n,{value:t})),c,f=(o=n==null?void 0:n.disableStackTrace)!=null?o:l.spec.disableStackTrace;return l._validate(t,Object.assign({},n,{sync:!0}),(v,m)=>{throw An.isError(v)&&(v.value=m),v},(v,m)=>{if(v.length)throw new An(v,t,void 0,void 0,f);c=m}),c}isValid(t,n){return this.validate(t,n).then(()=>!0,o=>{if(An.isError(o))return!1;throw o})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(o){if(An.isError(o))return!1;throw o}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):ns(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const o=this.clone({nullable:t});return o.internalTests.nullable=$a({message:n,name:"nullable",test(l){return l===null?this.schema.spec.nullable:!0}}),o}optionality(t,n){const o=this.clone({optional:t});return o.internalTests.optionality=$a({message:n,name:"optionality",test(l){return l===void 0?this.schema.spec.optional:!0}}),o}optional(){return this.optionality(!0)}defined(t=Wr.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Wr.notNull){return this.nullability(!1,t)}required(t=Wr.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=Wr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let o=this.clone(),l=$a(n),c=n.exclusive||n.name&&o.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(o.exclusiveTests[n.name]=!!n.exclusive),o.tests=o.tests.filter(f=>!(f.OPTIONS.name===n.name&&(c||f.OPTIONS.test===l.OPTIONS.test))),o.tests.push(l),o}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let o=this.clone(),l=cx(t).map(c=>new vo(c));return l.forEach(c=>{c.isSibling&&o.deps.push(c.key)}),o.conditions.push(typeof n=="function"?new ih(l,n):ih.fromOptions(l,n)),o}typeError(t){let n=this.clone();return n.internalTests.typeError=$a({message:t,name:"typeError",skipAbsent:!0,test(o){return this.schema._typeCheck(o)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=Wr.oneOf){let o=this.clone();return t.forEach(l=>{o._whitelist.add(l),o._blacklist.delete(l)}),o.internalTests.whiteList=$a({message:n,name:"oneOf",skipAbsent:!0,test(l){let c=this.schema._whitelist,f=c.resolveAll(this.resolve);return f.includes(l)?!0:this.createError({params:{values:Array.from(c).join(", "),resolved:f}})}}),o}notOneOf(t,n=Wr.notOneOf){let o=this.clone();return t.forEach(l=>{o._blacklist.add(l),o._whitelist.delete(l)}),o.internalTests.blacklist=$a({message:n,name:"notOneOf",test(l){let c=this.schema._blacklist,f=c.resolveAll(this.resolve);return f.includes(l)?this.createError({params:{values:Array.from(c).join(", "),resolved:f}}):!0}}),o}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:o,meta:l,optional:c,nullable:f}=n.spec;return{meta:l,label:o,optional:c,nullable:f,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((m,w,C)=>C.findIndex(S=>S.OPTIONS.name===m.OPTIONS.name)===w).map(m=>{const w=m.OPTIONS.params&&t?px(Object.assign({},m.OPTIONS.params),t):m.OPTIONS.params;return{name:m.OPTIONS.name,params:w}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(o){try{return{value:await t.validate(o,{abortEarly:!1})}}catch(l){if(l instanceof An)return{issues:gx(l)};throw l}}}}}Jr.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Jr.prototype[`${e}At`]=function(t,n,o={}){const{parent:l,parentPath:c,schema:f}=kS(this,t,n,o.context);return f[e](l&&l[c],Object.assign({},o,{parent:l,path:t}))};for(const e of["equals","is"])Jr.prototype[e]=Jr.prototype.oneOf;for(const e of["not","nope"])Jr.prototype[e]=Jr.prototype.notOneOf;const MS=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function SS(e){const t=Ip(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function Ip(e){var t,n;const o=MS.exec(e);return o?{year:fi(o[1]),month:fi(o[2],1)-1,day:fi(o[3],1),hour:fi(o[4]),minute:fi(o[5]),second:fi(o[6]),millisecond:o[7]?fi(o[7].substring(0,3)):0,precision:(t=(n=o[7])==null?void 0:n.length)!=null?t:void 0,z:o[8]||void 0,plusMinus:o[9]||void 0,hourOffset:fi(o[10]),minuteOffset:fi(o[11])}:null}function fi(e,t=0){return Number(e)||t}let PS=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,TS=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,BS=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,AS="^\\d{4}-\\d{2}-\\d{2}",jS="\\d{2}:\\d{2}:\\d{2}",DS="(([+-]\\d{2}(:?\\d{2})?)|Z)",OS=new RegExp(`${AS}T${jS}(\\.\\d+)?${DS}$`),NS=e=>$o(e)||e===e.trim(),RS={}.toString();function _i(){return new _x}class _x extends Jr{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,o)=>{if(!o.spec.coerce||o.isType(t)||Array.isArray(t))return t;const l=t!=null&&t.toString?t.toString():t;return l===RS?t:l})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||Wr.required,name:"required",skipAbsent:!0,test:o=>!!o.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Un.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(o){return o.length===this.resolve(t)}})}min(t,n=Un.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(o){return o.length>=this.resolve(t)}})}max(t,n=Un.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(o){return o.length<=this.resolve(t)}})}matches(t,n){let o=!1,l,c;return n&&(typeof n=="object"?{excludeEmptyString:o=!1,message:l,name:c}=n:l=n),this.test({name:c||"matches",message:l||Un.matches,params:{regex:t},skipAbsent:!0,test:f=>f===""&&o||f.search(t)!==-1})}email(t=Un.email){return this.matches(PS,{name:"email",message:t,excludeEmptyString:!0})}url(t=Un.url){return this.matches(TS,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Un.uuid){return this.matches(BS,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",o,l;return t&&(typeof t=="object"?{message:n="",allowOffset:o=!1,precision:l=void 0}=t:n=t),this.matches(OS,{name:"datetime",message:n||Un.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Un.datetime_offset,params:{allowOffset:o},skipAbsent:!0,test:c=>{if(!c||o)return!0;const f=Ip(c);return f?!!f.z:!1}}).test({name:"datetime_precision",message:n||Un.datetime_precision,params:{precision:l},skipAbsent:!0,test:c=>{if(!c||l==null)return!0;const f=Ip(c);return f?f.precision===l:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Un.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:NS})}lowercase(t=Un.lowercase){return this.transform(n=>$o(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>$o(n)||n===n.toLowerCase()})}uppercase(t=Un.uppercase){return this.transform(n=>$o(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>$o(n)||n===n.toUpperCase()})}}_i.prototype=_x.prototype;let IS=new Date(""),FS=e=>Object.prototype.toString.call(e)==="[object Date]";class Zh extends Jr{constructor(){super({type:"date",check(t){return FS(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,o)=>!o.spec.coerce||o.isType(t)||t===null?t:(t=SS(t),isNaN(t)?Zh.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let o;if(vo.isRef(t))o=t;else{let l=this.cast(t);if(!this._typeCheck(l))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);o=l}return o}min(t,n=Rp.min){let o=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(l){return l>=this.resolve(o)}})}max(t,n=Rp.max){let o=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(l){return l<=this.resolve(o)}})}}Zh.INVALID_DATE=IS;Zh.prototype;function zS(e,t=[]){let n=[],o=new Set,l=new Set(t.map(([f,v])=>`${f}-${v}`));function c(f,v){let m=Zo.split(f)[0];o.add(m),l.has(`${v}-${m}`)||n.push([v,m])}for(const f of Object.keys(e)){let v=e[f];o.add(f),vo.isRef(v)&&v.isSibling?c(v.path,f):om(v)&&"deps"in v&&v.deps.forEach(m=>c(m,f))}return hS.array(Array.from(o),n).reverse()}function v_(e,t){let n=1/0;return e.some((o,l)=>{var c;if((c=t.path)!=null&&c.includes(o))return n=l,!0}),n}function yx(e){return(t,n)=>v_(e,t)-v_(e,n)}const US=(e,t,n)=>{if(typeof e!="string")return e;let o=e;try{o=JSON.parse(e)}catch{}return n.isType(o)?o:e};function Sc(e){if("fields"in e){const t={};for(const[n,o]of Object.entries(e.fields))t[n]=Sc(o);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Sc(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Sc)}):"optional"in e?e.optional():e}const $S=(e,t)=>{const n=[...Zo.normalizePath(t)];if(n.length===1)return n[0]in e;let o=n.pop(),l=Zo.getter(Zo.join(n),!0)(e);return!!(l&&o in l)};let x_=e=>Object.prototype.toString.call(e)==="[object Object]";function w_(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(o=>n.indexOf(o)===-1)}const VS=yx([]);function am(e){return new vx(e)}class vx extends Jr{constructor(t){super({type:"object",check(n){return x_(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=VS,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var o;let l=super._cast(t,n);if(l===void 0)return this.getDefault(n);if(!this._typeCheck(l))return l;let c=this.fields,f=(o=n.stripUnknown)!=null?o:this.spec.noUnknown,v=[].concat(this._nodes,Object.keys(l).filter(S=>!this._nodes.includes(S))),m={},w=Object.assign({},n,{parent:m,__validating:n.__validating||!1}),C=!1;for(const S of v){let M=c[S],z=S in l;if(M){let $,Z=l[S];w.path=(n.path?`${n.path}.`:"")+S,M=M.resolve({value:Z,context:n.context,parent:m});let X=M instanceof Jr?M.spec:void 0,F=X==null?void 0:X.strict;if(X!=null&&X.strip){C=C||S in l;continue}$=!n.__validating||!F?M.cast(l[S],w):l[S],$!==void 0&&(m[S]=$)}else z&&!f&&(m[S]=l[S]);(z!==S in m||m[S]!==l[S])&&(C=!0)}return C?m:l}_validate(t,n={},o,l){let{from:c=[],originalValue:f=t,recursive:v=this.spec.recursive}=n;n.from=[{schema:this,value:f},...c],n.__validating=!0,n.originalValue=f,super._validate(t,n,o,(m,w)=>{if(!v||!x_(w)){l(m,w);return}f=f||w;let C=[];for(let S of this._nodes){let M=this.fields[S];!M||vo.isRef(M)||C.push(M.asNestedTest({options:n,key:S,parent:w,parentPath:n.path,originalParent:f}))}this.runTests({tests:C,value:w,originalValue:f,options:n},o,S=>{l(S.sort(this._sortErrors).concat(m),w)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),o=n.fields;for(let[l,c]of Object.entries(this.fields)){const f=o[l];o[l]=f===void 0?c:f}return n.withMutation(l=>l.setFields(o,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(o=>{var l;const c=this.fields[o];let f=t;(l=f)!=null&&l.value&&(f=Object.assign({},f,{parent:f.value,value:f.value[o]})),n[o]=c&&"getDefault"in c?c.getDefault(f):void 0}),n}setFields(t,n){let o=this.clone();return o.fields=t,o._nodes=zS(t,n),o._sortErrors=yx(Object.keys(t)),n&&(o._excludedEdges=n),o}shape(t,n=[]){return this.clone().withMutation(o=>{let l=o._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),l=[...o._excludedEdges,...n]),o.setFields(Object.assign(o.fields,t),l)})}partial(){const t={};for(const[n,o]of Object.entries(this.fields))t[n]="optional"in o&&o.optional instanceof Function?o.optional():o;return this.setFields(t)}deepPartial(){return Sc(this)}pick(t){const n={};for(const o of t)this.fields[o]&&(n[o]=this.fields[o]);return this.setFields(n,this._excludedEdges.filter(([o,l])=>t.includes(o)&&t.includes(l)))}omit(t){const n=[];for(const o of Object.keys(this.fields))t.includes(o)||n.push(o);return this.pick(n)}from(t,n,o){let l=Zo.getter(t,!0);return this.transform(c=>{if(!c)return c;let f=c;return $S(c,t)&&(f=Object.assign({},c),o||delete f[t],f[n]=l(c)),f})}json(){return this.transform(US)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||Mc.exact,test(n){if(n==null)return!0;const o=w_(this.schema,n);return o.length===0||this.createError({params:{properties:o.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=Mc.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let o=this.test({name:"noUnknown",exclusive:!0,message:n,test(l){if(l==null)return!0;const c=w_(this.schema,l);return!t||c.length===0||this.createError({params:{unknown:c.join(", ")}})}});return o.spec.noUnknown=t,o}unknown(t=!0,n=Mc.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const o={};for(const l of Object.keys(n))o[t(l)]=n[l];return o})}camelCase(){return this.transformKeys(wf.camelCase)}snakeCase(){return this.transformKeys(wf.snakeCase)}constantCase(){return this.transformKeys(t=>wf.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),o=super.describe(t);o.fields={};for(const[c,f]of Object.entries(n.fields)){var l;let v=t;(l=v)!=null&&l.value&&(v=Object.assign({},v,{parent:v.value,value:v.value[c]})),o.fields[c]=f.describe(v)}return o}}am.prototype=vx.prototype;const GS=()=>{const e=_o(),{login:t}=oa(),n="http://localhost:8000/api",o=am({email:_i().email("Correo invlido").required("Campo requerido"),password:_i().required("Campo requerido")}),l=async(c,{setSubmitting:f})=>{try{const v=await fetch(`${n}/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})}),m=await v.json().catch(()=>({}));if(!v.ok){let w="Credenciales incorrectas";m.detail?w=Array.isArray(m.detail)?m.detail[0]:m.detail:m.email?w=Array.isArray(m.email)?m.email[0]:m.email:m.password&&(w=Array.isArray(m.password)?m.password[0]:m.password),Ze.error(w);return}t(m.access,c.remember),Ze.success("Inicio de sesin exitoso"),e("/")}catch{Ze.error("Error de conexin")}finally{f(!1)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-green-50 py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center shadow-lg mb-4",children:y.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),y.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"EstateMap"}),y.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Inicia sesin en tu cuenta"})]}),y.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[y.jsx(ax,{initialValues:{email:"",password:"",remember:!1},validationSchema:o,onSubmit:l,children:({isSubmitting:c,errors:f,touched:v})=>y.jsxs(em,{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Correo electrnico"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),y.jsx(gi,{id:"email",name:"email",type:"email",placeholder:"tu@email.com",className:`w-full pl-10 pr-4 py-3 border ${f.email&&v.email?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all`})]}),y.jsx(Zi,{name:"email",component:"p",className:"mt-1 text-sm text-red-600"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),y.jsx(gi,{id:"password",name:"password",type:"password",placeholder:"",className:`w-full pl-10 pr-4 py-3 border ${f.password&&v.password?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all`})]}),y.jsx(Zi,{name:"password",component:"p",className:"mt-1 text-sm text-red-600"})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(gi,{id:"remember",name:"remember",type:"checkbox",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),y.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-700",children:"Recordar sesin"})]}),y.jsx("div",{className:"text-sm",children:y.jsx("a",{href:"#",className:"font-medium text-primary hover:text-secondary transition-colors",children:"Olvidaste tu contrasea?"})})]}),y.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-base font-semibold text-white bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02]",children:c?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando sesin..."]}):y.jsxs(y.Fragment,{children:["Iniciar Sesin",y.jsx("svg",{className:"ml-2 -mr-1 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-sm text-gray-600",children:["No tienes una cuenta?"," ",y.jsx(Sr,{to:"/register",className:"font-semibold text-primary hover:text-secondary transition-colors",children:"Regstrate aqu"})]})})]}),y.jsx("div",{className:"text-center text-sm text-gray-500",children:y.jsx("p",{children:" 2025 EstateMap. Todos los derechos reservados."})})]})})},HS=()=>{const e=_o(),{login:t}=oa(),n="http://localhost:8000/api",o=am({username:_i().required("Campo requerido"),first_name:_i().required("Campo requerido"),last_name:_i().required("Campo requerido"),email:_i().email("Correo invlido").required("Campo requerido"),password:_i().required("Campo requerido"),confirm:_i().oneOf([LS("password"),null],"Las contraseas no coinciden").required("Campo requerido")}),l=async(c,{setSubmitting:f,setErrors:v})=>{try{const m=await fetch(`${n}/register/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c.username,first_name:c.first_name,last_name:c.last_name,email:c.email,password:c.password})}),w=await m.json().catch(()=>({}));if(!m.ok){const M={};let z=w.detail;Object.keys(w).forEach($=>{const Z=Array.isArray(w[$])?w[$]:[w[$]];M[$]=Z.join(" ")}),z||(z=Object.values(M).join(" ")),v(M),Ze.error(z||"Error al registrar"),f(!1);return}const C=await fetch(`${n}/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})}),S=await C.json().catch(()=>({}));if(!C.ok){const M={};let z=S.detail;Object.keys(S).forEach($=>{const Z=Array.isArray(S[$])?S[$]:[S[$]];M[$]=Z.join(" ")}),z||(z=Object.values(M).join(" ")),v(M),Ze.error(z||"Registro completado pero fallo el login"),f(!1);return}t(S.access,!0),Ze.success("Registro exitoso"),e("/")}catch{Ze.error("Error de conexin")}finally{f(!1)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-green-50 py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center shadow-lg mb-4",children:y.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),y.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"EstateMap"}),y.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Crea tu cuenta para comenzar"})]}),y.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[y.jsx(ax,{initialValues:{username:"",first_name:"",last_name:"",email:"",password:"",confirm:""},validationSchema:o,onSubmit:l,children:({isSubmitting:c,errors:f,touched:v})=>y.jsxs(em,{className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Usuario"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),y.jsx(gi,{id:"username",name:"username",type:"text",placeholder:"tu_usuario",className:`w-full pl-10 pr-4 py-3 border ${f.username&&v.username?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all`})]}),y.jsx(Zi,{name:"username",component:"p",className:"mt-1 text-sm text-red-600"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"first_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre"}),y.jsx(gi,{id:"first_name",name:"first_name",type:"text",placeholder:"Juan",className:`w-full px-4 py-3 border ${f.first_name&&v.first_name?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all`}),y.jsx(Zi,{name:"first_name",component:"p",className:"mt-1 text-sm text-red-600"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"last_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Apellido"}),y.jsx(gi,{id:"last_name",name:"last_name",type:"text",placeholder:"Prez",className:`w-full px-4 py-3 border ${f.last_name&&v.last_name?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all`}),y.jsx(Zi,{name:"last_name",component:"p",className:"mt-1 text-sm text-red-600"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Correo electrnico"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),y.jsx(gi,{id:"email",name:"email",type:"email",placeholder:"tu@email.com",className:`w-full pl-10 pr-4 py-3 border ${f.email&&v.email?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all`})]}),y.jsx(Zi,{name:"email",component:"p",className:"mt-1 text-sm text-red-600"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),y.jsx(gi,{id:"password",name:"password",type:"password",placeholder:"",className:`w-full pl-10 pr-4 py-3 border ${f.password&&v.password?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all`})]}),y.jsx(Zi,{name:"password",component:"p",className:"mt-1 text-sm text-red-600"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"confirm",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirmar contrasea"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),y.jsx(gi,{id:"confirm",name:"confirm",type:"password",placeholder:"",className:`w-full pl-10 pr-4 py-3 border ${f.confirm&&v.confirm?"border-red-500":"border-gray-300"} rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all`})]}),y.jsx(Zi,{name:"confirm",component:"p",className:"mt-1 text-sm text-red-600"})]}),y.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-base font-semibold text-white bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02]",children:c?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creando cuenta..."]}):y.jsxs(y.Fragment,{children:["Crear cuenta",y.jsx("svg",{className:"ml-2 -mr-1 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-sm text-gray-600",children:["Ya tienes una cuenta?"," ",y.jsx(Sr,{to:"/login",className:"font-semibold text-primary hover:text-secondary transition-colors",children:"Inicia sesin aqu"})]})})]}),y.jsx("div",{className:"text-center text-sm text-gray-500",children:y.jsx("p",{children:" 2025 EstateMap. Todos los derechos reservados."})})]})})};(()=>{var Hx,Ui;var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,f=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports),v=(i,a,u,h)=>{if(a&&typeof a=="object"||typeof a=="function")for(let p of o(a))!c.call(i,p)&&p!==u&&t(i,p,{get:()=>a[p],enumerable:!(h=n(a,p))||h.enumerable});return i},m=(i,a,u)=>(u=i!=null?e(l(i)):{},v(a||!i||!i.__esModule?t(u,"default",{value:i,enumerable:!0}):u,i)),w=f((i,a)=>{function u(){this.__data__=[],this.size=0}a.exports=u}),C=f((i,a)=>{function u(h,p){return h===p||h!==h&&p!==p}a.exports=u}),S=f((i,a)=>{var u=C();function h(p,g){for(var x=p.length;x--;)if(u(p[x][0],g))return x;return-1}a.exports=h}),M=f((i,a)=>{var u=S(),h=Array.prototype,p=h.splice;function g(x){var b=this.__data__,E=u(b,x);if(E<0)return!1;var T=b.length-1;return E==T?b.pop():p.call(b,E,1),--this.size,!0}a.exports=g}),z=f((i,a)=>{var u=S();function h(p){var g=this.__data__,x=u(g,p);return x<0?void 0:g[x][1]}a.exports=h}),$=f((i,a)=>{var u=S();function h(p){return u(this.__data__,p)>-1}a.exports=h}),Z=f((i,a)=>{var u=S();function h(p,g){var x=this.__data__,b=u(x,p);return b<0?(++this.size,x.push([p,g])):x[b][1]=g,this}a.exports=h}),X=f((i,a)=>{var u=w(),h=M(),p=z(),g=$(),x=Z();function b(E){var T=-1,G=E==null?0:E.length;for(this.clear();++T<G;){var U=E[T];this.set(U[0],U[1])}}b.prototype.clear=u,b.prototype.delete=h,b.prototype.get=p,b.prototype.has=g,b.prototype.set=x,a.exports=b}),F=f((i,a)=>{var u=X();function h(){this.__data__=new u,this.size=0}a.exports=h}),D=f((i,a)=>{function u(h){var p=this.__data__,g=p.delete(h);return this.size=p.size,g}a.exports=u}),I=f((i,a)=>{function u(h){return this.__data__.get(h)}a.exports=u}),Q=f((i,a)=>{function u(h){return this.__data__.has(h)}a.exports=u}),ne=f((i,a)=>{var u=typeof dl=="object"&&dl&&dl.Object===Object&&dl;a.exports=u}),me=f((i,a)=>{var u=ne(),h=typeof self=="object"&&self&&self.Object===Object&&self,p=u||h||Function("return this")();a.exports=p}),de=f((i,a)=>{var u=me(),h=u.Symbol;a.exports=h}),we=f((i,a)=>{var u=de(),h=Object.prototype,p=h.hasOwnProperty,g=h.toString,x=u?u.toStringTag:void 0;function b(E){var T=p.call(E,x),G=E[x];try{E[x]=void 0;var U=!0}catch{}var ae=g.call(E);return U&&(T?E[x]=G:delete E[x]),ae}a.exports=b}),Ne=f((i,a)=>{var u=Object.prototype,h=u.toString;function p(g){return h.call(g)}a.exports=p}),Ce=f((i,a)=>{var u=de(),h=we(),p=Ne(),g="[object Null]",x="[object Undefined]",b=u?u.toStringTag:void 0;function E(T){return T==null?T===void 0?x:g:b&&b in Object(T)?h(T):p(T)}a.exports=E}),ke=f((i,a)=>{function u(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}a.exports=u}),Ye=f((i,a)=>{var u=Ce(),h=ke(),p="[object AsyncFunction]",g="[object Function]",x="[object GeneratorFunction]",b="[object Proxy]";function E(T){if(!h(T))return!1;var G=u(T);return G==g||G==x||G==p||G==b}a.exports=E}),tt=f((i,a)=>{var u=me(),h=u["__core-js_shared__"];a.exports=h}),at=f((i,a)=>{var u=tt(),h=function(){var g=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function p(g){return!!h&&h in g}a.exports=p}),kt=f((i,a)=>{var u=Function.prototype,h=u.toString;function p(g){if(g!=null){try{return h.call(g)}catch{}try{return g+""}catch{}}return""}a.exports=p}),ct=f((i,a)=>{var u=Ye(),h=at(),p=ke(),g=kt(),x=/[\\^$.*+?()[\]{}|]/g,b=/^\[object .+?Constructor\]$/,E=Function.prototype,T=Object.prototype,G=E.toString,U=T.hasOwnProperty,ae=RegExp("^"+G.call(U).replace(x,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ue(xe){if(!p(xe)||h(xe))return!1;var Ee=u(xe)?ae:b;return Ee.test(g(xe))}a.exports=ue}),nt=f((i,a)=>{function u(h,p){return h==null?void 0:h[p]}a.exports=u}),pe=f((i,a)=>{var u=ct(),h=nt();function p(g,x){var b=h(g,x);return u(b)?b:void 0}a.exports=p}),Re=f((i,a)=>{var u=pe(),h=me(),p=u(h,"Map");a.exports=p}),be=f((i,a)=>{var u=pe(),h=u(Object,"create");a.exports=h}),Oe=f((i,a)=>{var u=be();function h(){this.__data__=u?u(null):{},this.size=0}a.exports=h}),Ge=f((i,a)=>{function u(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}a.exports=u}),pt=f((i,a)=>{var u=be(),h="__lodash_hash_undefined__",p=Object.prototype,g=p.hasOwnProperty;function x(b){var E=this.__data__;if(u){var T=E[b];return T===h?void 0:T}return g.call(E,b)?E[b]:void 0}a.exports=x}),Qe=f((i,a)=>{var u=be(),h=Object.prototype,p=h.hasOwnProperty;function g(x){var b=this.__data__;return u?b[x]!==void 0:p.call(b,x)}a.exports=g}),We=f((i,a)=>{var u=be(),h="__lodash_hash_undefined__";function p(g,x){var b=this.__data__;return this.size+=this.has(g)?0:1,b[g]=u&&x===void 0?h:x,this}a.exports=p}),$e=f((i,a)=>{var u=Oe(),h=Ge(),p=pt(),g=Qe(),x=We();function b(E){var T=-1,G=E==null?0:E.length;for(this.clear();++T<G;){var U=E[T];this.set(U[0],U[1])}}b.prototype.clear=u,b.prototype.delete=h,b.prototype.get=p,b.prototype.has=g,b.prototype.set=x,a.exports=b}),Ct=f((i,a)=>{var u=$e(),h=X(),p=Re();function g(){this.size=0,this.__data__={hash:new u,map:new(p||h),string:new u}}a.exports=g}),fe=f((i,a)=>{function u(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}a.exports=u}),Me=f((i,a)=>{var u=fe();function h(p,g){var x=p.__data__;return u(g)?x[typeof g=="string"?"string":"hash"]:x.map}a.exports=h}),lt=f((i,a)=>{var u=Me();function h(p){var g=u(this,p).delete(p);return this.size-=g?1:0,g}a.exports=h}),vt=f((i,a)=>{var u=Me();function h(p){return u(this,p).get(p)}a.exports=h}),Pt=f((i,a)=>{var u=Me();function h(p){return u(this,p).has(p)}a.exports=h}),xt=f((i,a)=>{var u=Me();function h(p,g){var x=u(this,p),b=x.size;return x.set(p,g),this.size+=x.size==b?0:1,this}a.exports=h}),tn=f((i,a)=>{var u=Ct(),h=lt(),p=vt(),g=Pt(),x=xt();function b(E){var T=-1,G=E==null?0:E.length;for(this.clear();++T<G;){var U=E[T];this.set(U[0],U[1])}}b.prototype.clear=u,b.prototype.delete=h,b.prototype.get=p,b.prototype.has=g,b.prototype.set=x,a.exports=b}),un=f((i,a)=>{var u=X(),h=Re(),p=tn(),g=200;function x(b,E){var T=this.__data__;if(T instanceof u){var G=T.__data__;if(!h||G.length<g-1)return G.push([b,E]),this.size=++T.size,this;T=this.__data__=new p(G)}return T.set(b,E),this.size=T.size,this}a.exports=x}),Wn=f((i,a)=>{var u=X(),h=F(),p=D(),g=I(),x=Q(),b=un();function E(T){var G=this.__data__=new u(T);this.size=G.size}E.prototype.clear=h,E.prototype.delete=p,E.prototype.get=g,E.prototype.has=x,E.prototype.set=b,a.exports=E}),Rn=f((i,a)=>{var u=pe(),h=function(){try{var p=u(Object,"defineProperty");return p({},"",{}),p}catch{}}();a.exports=h}),Mn=f((i,a)=>{var u=Rn();function h(p,g,x){g=="__proto__"&&u?u(p,g,{configurable:!0,enumerable:!0,value:x,writable:!0}):p[g]=x}a.exports=h}),Or=f((i,a)=>{var u=Mn(),h=C();function p(g,x,b){(b!==void 0&&!h(g[x],b)||b===void 0&&!(x in g))&&u(g,x,b)}a.exports=p}),Pi=f((i,a)=>{function u(h){return function(p,g,x){for(var b=-1,E=Object(p),T=x(p),G=T.length;G--;){var U=T[h?G:++b];if(g(E[U],U,E)===!1)break}return p}}a.exports=u}),ei=f((i,a)=>{var u=Pi(),h=u();a.exports=h}),he=f((i,a)=>{var u=me(),h=typeof i=="object"&&i&&!i.nodeType&&i,p=h&&typeof a=="object"&&a&&!a.nodeType&&a,g=p&&p.exports===h,x=g?u.Buffer:void 0,b=x?x.allocUnsafe:void 0;function E(T,G){if(G)return T.slice();var U=T.length,ae=b?b(U):new T.constructor(U);return T.copy(ae),ae}a.exports=E}),Se=f((i,a)=>{var u=me(),h=u.Uint8Array;a.exports=h}),je=f((i,a)=>{var u=Se();function h(p){var g=new p.constructor(p.byteLength);return new u(g).set(new u(p)),g}a.exports=h}),Fe=f((i,a)=>{var u=je();function h(p,g){var x=g?u(p.buffer):p.buffer;return new p.constructor(x,p.byteOffset,p.length)}a.exports=h}),_e=f((i,a)=>{function u(h,p){var g=-1,x=h.length;for(p||(p=Array(x));++g<x;)p[g]=h[g];return p}a.exports=u}),ve=f((i,a)=>{var u=ke(),h=Object.create,p=function(){function g(){}return function(x){if(!u(x))return{};if(h)return h(x);g.prototype=x;var b=new g;return g.prototype=void 0,b}}();a.exports=p}),ht=f((i,a)=>{function u(h,p){return function(g){return h(p(g))}}a.exports=u}),Kt=f((i,a)=>{var u=ht(),h=u(Object.getPrototypeOf,Object);a.exports=h}),yn=f((i,a)=>{var u=Object.prototype;function h(p){var g=p&&p.constructor,x=typeof g=="function"&&g.prototype||u;return p===x}a.exports=h}),ar=f((i,a)=>{var u=ve(),h=Kt(),p=yn();function g(x){return typeof x.constructor=="function"&&!p(x)?u(h(x)):{}}a.exports=g}),Nr=f((i,a)=>{function u(h){return h!=null&&typeof h=="object"}a.exports=u}),ks=f((i,a)=>{var u=Ce(),h=Nr(),p="[object Arguments]";function g(x){return h(x)&&u(x)==p}a.exports=g}),ti=f((i,a)=>{var u=ks(),h=Nr(),p=Object.prototype,g=p.hasOwnProperty,x=p.propertyIsEnumerable,b=u(function(){return arguments}())?u:function(E){return h(E)&&g.call(E,"callee")&&!x.call(E,"callee")};a.exports=b}),Rr=f((i,a)=>{var u=Array.isArray;a.exports=u}),cu=f((i,a)=>{var u=9007199254740991;function h(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=u}a.exports=h}),ni=f((i,a)=>{var u=Ye(),h=cu();function p(g){return g!=null&&h(g.length)&&!u(g)}a.exports=p}),Wh=f((i,a)=>{var u=ni(),h=Nr();function p(g){return h(g)&&u(g)}a.exports=p}),Kh=f((i,a)=>{function u(){return!1}a.exports=u}),Cs=f((i,a)=>{var u=me(),h=Kh(),p=typeof i=="object"&&i&&!i.nodeType&&i,g=p&&typeof a=="object"&&a&&!a.nodeType&&a,x=g&&g.exports===p,b=x?u.Buffer:void 0,E=b?b.isBuffer:void 0,T=E||h;a.exports=T}),hu=f((i,a)=>{var u=Ce(),h=Kt(),p=Nr(),g="[object Object]",x=Function.prototype,b=Object.prototype,E=x.toString,T=b.hasOwnProperty,G=E.call(Object);function U(ae){if(!p(ae)||u(ae)!=g)return!1;var ue=h(ae);if(ue===null)return!0;var xe=T.call(ue,"constructor")&&ue.constructor;return typeof xe=="function"&&xe instanceof xe&&E.call(xe)==G}a.exports=U}),du=f((i,a)=>{var u=Ce(),h=cu(),p=Nr(),g="[object Arguments]",x="[object Array]",b="[object Boolean]",E="[object Date]",T="[object Error]",G="[object Function]",U="[object Map]",ae="[object Number]",ue="[object Object]",xe="[object RegExp]",Ee="[object Set]",Be="[object String]",st="[object WeakMap]",V="[object ArrayBuffer]",K="[object DataView]",ee="[object Float32Array]",le="[object Float64Array]",te="[object Int8Array]",se="[object Int16Array]",P="[object Int32Array]",A="[object Uint8Array]",O="[object Uint8ClampedArray]",j="[object Uint16Array]",N="[object Uint32Array]",R={};R[ee]=R[le]=R[te]=R[se]=R[P]=R[A]=R[O]=R[j]=R[N]=!0,R[g]=R[x]=R[V]=R[b]=R[K]=R[E]=R[T]=R[G]=R[U]=R[ae]=R[ue]=R[xe]=R[Ee]=R[Be]=R[st]=!1;function Y(q){return p(q)&&h(q.length)&&!!R[u(q)]}a.exports=Y}),qh=f((i,a)=>{function u(h){return function(p){return h(p)}}a.exports=u}),Yh=f((i,a)=>{var u=ne(),h=typeof i=="object"&&i&&!i.nodeType&&i,p=h&&typeof a=="object"&&a&&!a.nodeType&&a,g=p&&p.exports===h,x=g&&u.process,b=function(){try{var E=p&&p.require&&p.require("util").types;return E||x&&x.binding&&x.binding("util")}catch{}}();a.exports=b}),fu=f((i,a)=>{var u=du(),h=qh(),p=Yh(),g=p&&p.isTypedArray,x=g?h(g):u;a.exports=x}),pu=f((i,a)=>{function u(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}a.exports=u}),Xh=f((i,a)=>{var u=Mn(),h=C(),p=Object.prototype,g=p.hasOwnProperty;function x(b,E,T){var G=b[E];(!(g.call(b,E)&&h(G,T))||T===void 0&&!(E in b))&&u(b,E,T)}a.exports=x}),Jh=f((i,a)=>{var u=Xh(),h=Mn();function p(g,x,b,E){var T=!b;b||(b={});for(var G=-1,U=x.length;++G<U;){var ae=x[G],ue=E?E(b[ae],g[ae],ae,b,g):void 0;ue===void 0&&(ue=g[ae]),T?h(b,ae,ue):u(b,ae,ue)}return b}a.exports=p}),Es=f((i,a)=>{function u(h,p){for(var g=-1,x=Array(h);++g<h;)x[g]=p(g);return x}a.exports=u}),mu=f((i,a)=>{var u=9007199254740991,h=/^(?:0|[1-9]\d*)$/;function p(g,x){var b=typeof g;return x=x??u,!!x&&(b=="number"||b!="symbol"&&h.test(g))&&g>-1&&g%1==0&&g<x}a.exports=p}),Qh=f((i,a)=>{var u=Es(),h=ti(),p=Rr(),g=Cs(),x=mu(),b=fu(),E=Object.prototype,T=E.hasOwnProperty;function G(U,ae){var ue=p(U),xe=!ue&&h(U),Ee=!ue&&!xe&&g(U),Be=!ue&&!xe&&!Ee&&b(U),st=ue||xe||Ee||Be,V=st?u(U.length,String):[],K=V.length;for(var ee in U)(ae||T.call(U,ee))&&!(st&&(ee=="length"||Ee&&(ee=="offset"||ee=="parent")||Be&&(ee=="buffer"||ee=="byteLength"||ee=="byteOffset")||x(ee,K)))&&V.push(ee);return V}a.exports=G}),ed=f((i,a)=>{function u(h){var p=[];if(h!=null)for(var g in Object(h))p.push(g);return p}a.exports=u}),td=f((i,a)=>{var u=ke(),h=yn(),p=ed(),g=Object.prototype,x=g.hasOwnProperty;function b(E){if(!u(E))return p(E);var T=h(E),G=[];for(var U in E)U=="constructor"&&(T||!x.call(E,U))||G.push(U);return G}a.exports=b}),Kn=f((i,a)=>{var u=Qh(),h=td(),p=ni();function g(x){return p(x)?u(x,!0):h(x)}a.exports=g}),Ie=f((i,a)=>{var u=Jh(),h=Kn();function p(g){return u(g,h(g))}a.exports=p}),gu=f((i,a)=>{var u=Or(),h=he(),p=Fe(),g=_e(),x=ar(),b=ti(),E=Rr(),T=Wh(),G=Cs(),U=Ye(),ae=ke(),ue=hu(),xe=fu(),Ee=pu(),Be=Ie();function st(V,K,ee,le,te,se,P){var A=Ee(V,ee),O=Ee(K,ee),j=P.get(O);if(j){u(V,ee,j);return}var N=se?se(A,O,ee+"",V,K,P):void 0,R=N===void 0;if(R){var Y=E(O),q=!Y&&G(O),J=!Y&&!q&&xe(O);N=O,Y||q||J?E(A)?N=A:T(A)?N=g(A):q?(R=!1,N=h(O,!0)):J?(R=!1,N=p(O,!0)):N=[]:ue(O)||b(O)?(N=A,b(A)?N=Be(A):(!ae(A)||U(A))&&(N=x(O))):R=!1}R&&(P.set(O,N),te(N,O,le,se,P),P.delete(O)),u(V,ee,N)}a.exports=st}),_u=f((i,a)=>{var u=Wn(),h=Or(),p=ei(),g=gu(),x=ke(),b=Kn(),E=pu();function T(G,U,ae,ue,xe){G!==U&&p(U,function(Ee,Be){if(xe||(xe=new u),x(Ee))g(G,U,Be,ae,T,ue,xe);else{var st=ue?ue(E(G,Be),Ee,Be+"",G,U,xe):void 0;st===void 0&&(st=Ee),h(G,Be,st)}},b)}a.exports=T}),Ms=f((i,a)=>{function u(h){return h}a.exports=u}),yu=f((i,a)=>{function u(h,p,g){switch(g.length){case 0:return h.call(p);case 1:return h.call(p,g[0]);case 2:return h.call(p,g[0],g[1]);case 3:return h.call(p,g[0],g[1],g[2])}return h.apply(p,g)}a.exports=u}),Ss=f((i,a)=>{var u=yu(),h=Math.max;function p(g,x,b){return x=h(x===void 0?g.length-1:x,0),function(){for(var E=arguments,T=-1,G=h(E.length-x,0),U=Array(G);++T<G;)U[T]=E[x+T];T=-1;for(var ae=Array(x+1);++T<x;)ae[T]=E[T];return ae[x]=b(U),u(g,this,ae)}}a.exports=p}),vu=f((i,a)=>{function u(h){return function(){return h}}a.exports=u}),Ti=f((i,a)=>{var u=vu(),h=Rn(),p=Ms(),g=h?function(x,b){return h(x,"toString",{configurable:!0,enumerable:!1,value:u(b),writable:!0})}:p;a.exports=g}),xu=f((i,a)=>{var u=800,h=16,p=Date.now;function g(x){var b=0,E=0;return function(){var T=p(),G=h-(T-E);if(E=T,G>0){if(++b>=u)return arguments[0]}else b=0;return x.apply(void 0,arguments)}}a.exports=g}),nd=f((i,a)=>{var u=Ti(),h=xu(),p=h(u);a.exports=p}),rd=f((i,a)=>{var u=Ms(),h=Ss(),p=nd();function g(x,b){return p(h(x,b,u),x+"")}a.exports=g}),id=f((i,a)=>{var u=C(),h=ni(),p=mu(),g=ke();function x(b,E,T){if(!g(T))return!1;var G=typeof E;return(G=="number"?h(T)&&p(E,T.length):G=="string"&&E in T)?u(T[E],b):!1}a.exports=x}),od=f((i,a)=>{var u=rd(),h=id();function p(g){return u(function(x,b){var E=-1,T=b.length,G=T>1?b[T-1]:void 0,U=T>2?b[2]:void 0;for(G=g.length>3&&typeof G=="function"?(T--,G):void 0,U&&h(b[0],b[1],U)&&(G=T<3?void 0:G,T=1),x=Object(x);++E<T;){var ae=b[E];ae&&g(x,ae,E,G)}return x})}a.exports=p}),da=f((i,a)=>{var u=_u(),h=od(),p=h(function(g,x,b){u(g,x,b)});a.exports=p}),Ps=f((i,a)=>{var u=Ce(),h=Nr(),p="[object Symbol]";function g(x){return typeof x=="symbol"||h(x)&&u(x)==p}a.exports=g}),fa=f((i,a)=>{var u=Rr(),h=Ps(),p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;function x(b,E){if(u(b))return!1;var T=typeof b;return T=="number"||T=="symbol"||T=="boolean"||b==null||h(b)?!0:g.test(b)||!p.test(b)||E!=null&&b in Object(E)}a.exports=x}),ad=f((i,a)=>{var u=tn(),h="Expected a function";function p(g,x){if(typeof g!="function"||x!=null&&typeof x!="function")throw new TypeError(h);var b=function(){var E=arguments,T=x?x.apply(this,E):E[0],G=b.cache;if(G.has(T))return G.get(T);var U=g.apply(this,E);return b.cache=G.set(T,U)||G,U};return b.cache=new(p.Cache||u),b}p.Cache=u,a.exports=p}),sd=f((i,a)=>{var u=ad(),h=500;function p(g){var x=u(g,function(E){return b.size===h&&b.clear(),E}),b=x.cache;return x}a.exports=p}),ld=f((i,a)=>{var u=sd(),h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,g=u(function(x){var b=[];return x.charCodeAt(0)===46&&b.push(""),x.replace(h,function(E,T,G,U){b.push(G?U.replace(p,"$1"):T||E)}),b});a.exports=g}),ud=f((i,a)=>{function u(h,p){for(var g=-1,x=h==null?0:h.length,b=Array(x);++g<x;)b[g]=p(h[g],g,h);return b}a.exports=u}),cd=f((i,a)=>{var u=de(),h=ud(),p=Rr(),g=Ps(),x=1/0,b=u?u.prototype:void 0,E=b?b.toString:void 0;function T(G){if(typeof G=="string")return G;if(p(G))return h(G,T)+"";if(g(G))return E?E.call(G):"";var U=G+"";return U=="0"&&1/G==-x?"-0":U}a.exports=T}),Ts=f((i,a)=>{var u=cd();function h(p){return p==null?"":u(p)}a.exports=h}),xo=f((i,a)=>{var u=Rr(),h=fa(),p=ld(),g=Ts();function x(b,E){return u(b)?b:h(b,E)?[b]:p(g(b))}a.exports=x}),wu=f((i,a)=>{var u=Ps(),h=1/0;function p(g){if(typeof g=="string"||u(g))return g;var x=g+"";return x=="0"&&1/g==-h?"-0":x}a.exports=p}),bu=f((i,a)=>{var u=xo(),h=wu();function p(g,x){x=u(x,g);for(var b=0,E=x.length;g!=null&&b<E;)g=g[h(x[b++])];return b&&b==E?g:void 0}a.exports=p}),Ir=f((i,a)=>{var u=bu();function h(p,g,x){var b=p==null?void 0:u(p,g);return b===void 0?x:b}a.exports=h}),ut=f((i,a)=>{(function(u,h){typeof i=="object"&&typeof a<"u"?a.exports=h():(u=u||self).RBush=h()})(i,function(){function u(V,K,ee,le,te){(function se(P,A,O,j,N){for(;j>O;){if(j-O>600){var R=j-O+1,Y=A-O+1,q=Math.log(R),J=.5*Math.exp(2*q/3),oe=.5*Math.sqrt(q*J*(R-J)/R)*(Y-R/2<0?-1:1),ie=Math.max(O,Math.floor(A-Y*J/R+oe)),ge=Math.min(j,Math.floor(A+(R-Y)*J/R+oe));se(P,A,ie,ge,N)}var Te=P[A],De=O,Ue=j;for(h(P,O,A),N(P[j],Te)>0&&h(P,O,j);De<Ue;){for(h(P,De,Ue),De++,Ue--;N(P[De],Te)<0;)De++;for(;N(P[Ue],Te)>0;)Ue--}N(P[O],Te)===0?h(P,O,Ue):h(P,++Ue,j),Ue<=A&&(O=Ue+1),A<=Ue&&(j=Ue-1)}})(V,K,ee||0,le||V.length-1,te||p)}function h(V,K,ee){var le=V[K];V[K]=V[ee],V[ee]=le}function p(V,K){return V<K?-1:V>K?1:0}var g=function(V){V===void 0&&(V=9),this._maxEntries=Math.max(4,V),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function x(V,K,ee){if(!ee)return K.indexOf(V);for(var le=0;le<K.length;le++)if(ee(V,K[le]))return le;return-1}function b(V,K){E(V,0,V.children.length,K,V)}function E(V,K,ee,le,te){te||(te=Be(null)),te.minX=1/0,te.minY=1/0,te.maxX=-1/0,te.maxY=-1/0;for(var se=K;se<ee;se++){var P=V.children[se];T(te,V.leaf?le(P):P)}return te}function T(V,K){return V.minX=Math.min(V.minX,K.minX),V.minY=Math.min(V.minY,K.minY),V.maxX=Math.max(V.maxX,K.maxX),V.maxY=Math.max(V.maxY,K.maxY),V}function G(V,K){return V.minX-K.minX}function U(V,K){return V.minY-K.minY}function ae(V){return(V.maxX-V.minX)*(V.maxY-V.minY)}function ue(V){return V.maxX-V.minX+(V.maxY-V.minY)}function xe(V,K){return V.minX<=K.minX&&V.minY<=K.minY&&K.maxX<=V.maxX&&K.maxY<=V.maxY}function Ee(V,K){return K.minX<=V.maxX&&K.minY<=V.maxY&&K.maxX>=V.minX&&K.maxY>=V.minY}function Be(V){return{children:V,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function st(V,K,ee,le,te){for(var se=[K,ee];se.length;)if(!((ee=se.pop())-(K=se.pop())<=le)){var P=K+Math.ceil((ee-K)/le/2)*le;u(V,P,K,ee,te),se.push(K,P,P,ee)}}return g.prototype.all=function(){return this._all(this.data,[])},g.prototype.search=function(V){var K=this.data,ee=[];if(!Ee(V,K))return ee;for(var le=this.toBBox,te=[];K;){for(var se=0;se<K.children.length;se++){var P=K.children[se],A=K.leaf?le(P):P;Ee(V,A)&&(K.leaf?ee.push(P):xe(V,A)?this._all(P,ee):te.push(P))}K=te.pop()}return ee},g.prototype.collides=function(V){var K=this.data;if(!Ee(V,K))return!1;for(var ee=[];K;){for(var le=0;le<K.children.length;le++){var te=K.children[le],se=K.leaf?this.toBBox(te):te;if(Ee(V,se)){if(K.leaf||xe(V,se))return!0;ee.push(te)}}K=ee.pop()}return!1},g.prototype.load=function(V){if(!V||!V.length)return this;if(V.length<this._minEntries){for(var K=0;K<V.length;K++)this.insert(V[K]);return this}var ee=this._build(V.slice(),0,V.length-1,0);if(this.data.children.length)if(this.data.height===ee.height)this._splitRoot(this.data,ee);else{if(this.data.height<ee.height){var le=this.data;this.data=ee,ee=le}this._insert(ee,this.data.height-ee.height-1,!0)}else this.data=ee;return this},g.prototype.insert=function(V){return V&&this._insert(V,this.data.height-1),this},g.prototype.clear=function(){return this.data=Be([]),this},g.prototype.remove=function(V,K){if(!V)return this;for(var ee,le,te,se=this.data,P=this.toBBox(V),A=[],O=[];se||A.length;){if(se||(se=A.pop(),le=A[A.length-1],ee=O.pop(),te=!0),se.leaf){var j=x(V,se.children,K);if(j!==-1)return se.children.splice(j,1),A.push(se),this._condense(A),this}te||se.leaf||!xe(se,P)?le?(ee++,se=le.children[ee],te=!1):se=null:(A.push(se),O.push(ee),ee=0,le=se,se=se.children[0])}return this},g.prototype.toBBox=function(V){return V},g.prototype.compareMinX=function(V,K){return V.minX-K.minX},g.prototype.compareMinY=function(V,K){return V.minY-K.minY},g.prototype.toJSON=function(){return this.data},g.prototype.fromJSON=function(V){return this.data=V,this},g.prototype._all=function(V,K){for(var ee=[];V;)V.leaf?K.push.apply(K,V.children):ee.push.apply(ee,V.children),V=ee.pop();return K},g.prototype._build=function(V,K,ee,le){var te,se=ee-K+1,P=this._maxEntries;if(se<=P)return b(te=Be(V.slice(K,ee+1)),this.toBBox),te;le||(le=Math.ceil(Math.log(se)/Math.log(P)),P=Math.ceil(se/Math.pow(P,le-1))),(te=Be([])).leaf=!1,te.height=le;var A=Math.ceil(se/P),O=A*Math.ceil(Math.sqrt(P));st(V,K,ee,O,this.compareMinX);for(var j=K;j<=ee;j+=O){var N=Math.min(j+O-1,ee);st(V,j,N,A,this.compareMinY);for(var R=j;R<=N;R+=A){var Y=Math.min(R+A-1,N);te.children.push(this._build(V,R,Y,le-1))}}return b(te,this.toBBox),te},g.prototype._chooseSubtree=function(V,K,ee,le){for(;le.push(K),!K.leaf&&le.length-1!==ee;){for(var te=1/0,se=1/0,P=void 0,A=0;A<K.children.length;A++){var O=K.children[A],j=ae(O),N=(R=V,Y=O,(Math.max(Y.maxX,R.maxX)-Math.min(Y.minX,R.minX))*(Math.max(Y.maxY,R.maxY)-Math.min(Y.minY,R.minY))-j);N<se?(se=N,te=j<te?j:te,P=O):N===se&&j<te&&(te=j,P=O)}K=P||K.children[0]}var R,Y;return K},g.prototype._insert=function(V,K,ee){var le=ee?V:this.toBBox(V),te=[],se=this._chooseSubtree(le,this.data,K,te);for(se.children.push(V),T(se,le);K>=0&&te[K].children.length>this._maxEntries;)this._split(te,K),K--;this._adjustParentBBoxes(le,te,K)},g.prototype._split=function(V,K){var ee=V[K],le=ee.children.length,te=this._minEntries;this._chooseSplitAxis(ee,te,le);var se=this._chooseSplitIndex(ee,te,le),P=Be(ee.children.splice(se,ee.children.length-se));P.height=ee.height,P.leaf=ee.leaf,b(ee,this.toBBox),b(P,this.toBBox),K?V[K-1].children.push(P):this._splitRoot(ee,P)},g.prototype._splitRoot=function(V,K){this.data=Be([V,K]),this.data.height=V.height+1,this.data.leaf=!1,b(this.data,this.toBBox)},g.prototype._chooseSplitIndex=function(V,K,ee){for(var le,te,se,P,A,O,j,N=1/0,R=1/0,Y=K;Y<=ee-K;Y++){var q=E(V,0,Y,this.toBBox),J=E(V,Y,ee,this.toBBox),oe=(te=q,se=J,P=void 0,A=void 0,O=void 0,j=void 0,P=Math.max(te.minX,se.minX),A=Math.max(te.minY,se.minY),O=Math.min(te.maxX,se.maxX),j=Math.min(te.maxY,se.maxY),Math.max(0,O-P)*Math.max(0,j-A)),ie=ae(q)+ae(J);oe<N?(N=oe,le=Y,R=ie<R?ie:R):oe===N&&ie<R&&(R=ie,le=Y)}return le||ee-K},g.prototype._chooseSplitAxis=function(V,K,ee){var le=V.leaf?this.compareMinX:G,te=V.leaf?this.compareMinY:U;this._allDistMargin(V,K,ee,le)<this._allDistMargin(V,K,ee,te)&&V.children.sort(le)},g.prototype._allDistMargin=function(V,K,ee,le){V.children.sort(le);for(var te=this.toBBox,se=E(V,0,K,te),P=E(V,ee-K,ee,te),A=ue(se)+ue(P),O=K;O<ee-K;O++){var j=V.children[O];T(se,V.leaf?te(j):j),A+=ue(se)}for(var N=ee-K-1;N>=K;N--){var R=V.children[N];T(P,V.leaf?te(R):R),A+=ue(P)}return A},g.prototype._adjustParentBBoxes=function(V,K,ee){for(var le=ee;le>=0;le--)T(K[le],V)},g.prototype._condense=function(V){for(var K=V.length-1,ee=void 0;K>=0;K--)V[K].children.length===0?K>0?(ee=V[K-1].children).splice(ee.indexOf(V[K]),1):this.clear():b(V[K],this.toBBox)},g})}),Et=f(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=63710088e-1,i.factors={centimeters:i.earthRadius*100,centimetres:i.earthRadius*100,degrees:i.earthRadius/111325,feet:i.earthRadius*3.28084,inches:i.earthRadius*39.37,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:i.earthRadius*1e3,millimetres:i.earthRadius*1e3,nauticalmiles:i.earthRadius/1852,radians:1,yards:i.earthRadius*1.0936},i.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function a(j,N,R){R===void 0&&(R={});var Y={type:"Feature"};return(R.id===0||R.id)&&(Y.id=R.id),R.bbox&&(Y.bbox=R.bbox),Y.properties=N||{},Y.geometry=j,Y}i.feature=a;function u(j,N,R){switch(j){case"Point":return h(N).geometry;case"LineString":return b(N).geometry;case"Polygon":return g(N).geometry;case"MultiPoint":return U(N).geometry;case"MultiLineString":return G(N).geometry;case"MultiPolygon":return ae(N).geometry;default:throw new Error(j+" is invalid")}}i.geometry=u;function h(j,N,R){if(R===void 0&&(R={}),!j)throw new Error("coordinates is required");if(!Array.isArray(j))throw new Error("coordinates must be an Array");if(j.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!se(j[0])||!se(j[1]))throw new Error("coordinates must contain numbers");var Y={type:"Point",coordinates:j};return a(Y,N,R)}i.point=h;function p(j,N,R){return R===void 0&&(R={}),T(j.map(function(Y){return h(Y,N)}),R)}i.points=p;function g(j,N,R){R===void 0&&(R={});for(var Y=0,q=j;Y<q.length;Y++){var J=q[Y];if(J.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var oe=0;oe<J[J.length-1].length;oe++)if(J[J.length-1][oe]!==J[0][oe])throw new Error("First and last Position are not equivalent.")}var ie={type:"Polygon",coordinates:j};return a(ie,N,R)}i.polygon=g;function x(j,N,R){return R===void 0&&(R={}),T(j.map(function(Y){return g(Y,N)}),R)}i.polygons=x;function b(j,N,R){if(R===void 0&&(R={}),j.length<2)throw new Error("coordinates must be an array of two or more positions");var Y={type:"LineString",coordinates:j};return a(Y,N,R)}i.lineString=b;function E(j,N,R){return R===void 0&&(R={}),T(j.map(function(Y){return b(Y,N)}),R)}i.lineStrings=E;function T(j,N){N===void 0&&(N={});var R={type:"FeatureCollection"};return N.id&&(R.id=N.id),N.bbox&&(R.bbox=N.bbox),R.features=j,R}i.featureCollection=T;function G(j,N,R){R===void 0&&(R={});var Y={type:"MultiLineString",coordinates:j};return a(Y,N,R)}i.multiLineString=G;function U(j,N,R){R===void 0&&(R={});var Y={type:"MultiPoint",coordinates:j};return a(Y,N,R)}i.multiPoint=U;function ae(j,N,R){R===void 0&&(R={});var Y={type:"MultiPolygon",coordinates:j};return a(Y,N,R)}i.multiPolygon=ae;function ue(j,N,R){R===void 0&&(R={});var Y={type:"GeometryCollection",geometries:j};return a(Y,N,R)}i.geometryCollection=ue;function xe(j,N){if(N===void 0&&(N=0),N&&!(N>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,N||0);return Math.round(j*R)/R}i.round=xe;function Ee(j,N){N===void 0&&(N="kilometers");var R=i.factors[N];if(!R)throw new Error(N+" units is invalid");return j*R}i.radiansToLength=Ee;function Be(j,N){N===void 0&&(N="kilometers");var R=i.factors[N];if(!R)throw new Error(N+" units is invalid");return j/R}i.lengthToRadians=Be;function st(j,N){return K(Be(j,N))}i.lengthToDegrees=st;function V(j){var N=j%360;return N<0&&(N+=360),N}i.bearingToAzimuth=V;function K(j){var N=j%(2*Math.PI);return N*180/Math.PI}i.radiansToDegrees=K;function ee(j){var N=j%360;return N*Math.PI/180}i.degreesToRadians=ee;function le(j,N,R){if(N===void 0&&(N="kilometers"),R===void 0&&(R="kilometers"),!(j>=0))throw new Error("length must be a positive number");return Ee(Be(j,N),R)}i.convertLength=le;function te(j,N,R){if(N===void 0&&(N="meters"),R===void 0&&(R="kilometers"),!(j>=0))throw new Error("area must be a positive number");var Y=i.areaFactors[N];if(!Y)throw new Error("invalid original units");var q=i.areaFactors[R];if(!q)throw new Error("invalid final units");return j/Y*q}i.convertArea=te;function se(j){return!isNaN(j)&&j!==null&&!Array.isArray(j)}i.isNumber=se;function P(j){return!!j&&j.constructor===Object}i.isObject=P;function A(j){if(!j)throw new Error("bbox is required");if(!Array.isArray(j))throw new Error("bbox must be an Array");if(j.length!==4&&j.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");j.forEach(function(N){if(!se(N))throw new Error("bbox must only contain numbers")})}i.validateBBox=A;function O(j){if(!j)throw new Error("id is required");if(["string","number"].indexOf(typeof j)===-1)throw new Error("id must be a number or a string")}i.validateId=O}),wo=f(i=>{Object.defineProperty(i,"__esModule",{value:!0});var a=Et();function u(K,ee,le){if(K!==null)for(var te,se,P,A,O,j,N,R=0,Y=0,q,J=K.type,oe=J==="FeatureCollection",ie=J==="Feature",ge=oe?K.features.length:1,Te=0;Te<ge;Te++){N=oe?K.features[Te].geometry:ie?K.geometry:K,q=N?N.type==="GeometryCollection":!1,O=q?N.geometries.length:1;for(var De=0;De<O;De++){var Ue=0,mt=0;if(A=q?N.geometries[De]:N,A!==null){j=A.coordinates;var bt=A.type;switch(R=le&&(bt==="Polygon"||bt==="MultiPolygon")?1:0,bt){case null:break;case"Point":if(ee(j,Y,Te,Ue,mt)===!1)return!1;Y++,Ue++;break;case"LineString":case"MultiPoint":for(te=0;te<j.length;te++){if(ee(j[te],Y,Te,Ue,mt)===!1)return!1;Y++,bt==="MultiPoint"&&Ue++}bt==="LineString"&&Ue++;break;case"Polygon":case"MultiLineString":for(te=0;te<j.length;te++){for(se=0;se<j[te].length-R;se++){if(ee(j[te][se],Y,Te,Ue,mt)===!1)return!1;Y++}bt==="MultiLineString"&&Ue++,bt==="Polygon"&&mt++}bt==="Polygon"&&Ue++;break;case"MultiPolygon":for(te=0;te<j.length;te++){for(mt=0,se=0;se<j[te].length;se++){for(P=0;P<j[te][se].length-R;P++){if(ee(j[te][se][P],Y,Te,Ue,mt)===!1)return!1;Y++}mt++}Ue++}break;case"GeometryCollection":for(te=0;te<A.geometries.length;te++)if(u(A.geometries[te],ee,le)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function h(K,ee,le,te){var se=le;return u(K,function(P,A,O,j,N){A===0&&le===void 0?se=P:se=ee(se,P,A,O,j,N)},te),se}function p(K,ee){var le;switch(K.type){case"FeatureCollection":for(le=0;le<K.features.length&&ee(K.features[le].properties,le)!==!1;le++);break;case"Feature":ee(K.properties,0);break}}function g(K,ee,le){var te=le;return p(K,function(se,P){P===0&&le===void 0?te=se:te=ee(te,se,P)}),te}function x(K,ee){if(K.type==="Feature")ee(K,0);else if(K.type==="FeatureCollection")for(var le=0;le<K.features.length&&ee(K.features[le],le)!==!1;le++);}function b(K,ee,le){var te=le;return x(K,function(se,P){P===0&&le===void 0?te=se:te=ee(te,se,P)}),te}function E(K){var ee=[];return u(K,function(le){ee.push(le)}),ee}function T(K,ee){var le,te,se,P,A,O,j,N,R,Y,q=0,J=K.type==="FeatureCollection",oe=K.type==="Feature",ie=J?K.features.length:1;for(le=0;le<ie;le++){for(O=J?K.features[le].geometry:oe?K.geometry:K,N=J?K.features[le].properties:oe?K.properties:{},R=J?K.features[le].bbox:oe?K.bbox:void 0,Y=J?K.features[le].id:oe?K.id:void 0,j=O?O.type==="GeometryCollection":!1,A=j?O.geometries.length:1,se=0;se<A;se++){if(P=j?O.geometries[se]:O,P===null){if(ee(null,q,N,R,Y)===!1)return!1;continue}switch(P.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(ee(P,q,N,R,Y)===!1)return!1;break}case"GeometryCollection":{for(te=0;te<P.geometries.length;te++)if(ee(P.geometries[te],q,N,R,Y)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}q++}}function G(K,ee,le){var te=le;return T(K,function(se,P,A,O,j){P===0&&le===void 0?te=se:te=ee(te,se,P,A,O,j)}),te}function U(K,ee){T(K,function(le,te,se,P,A){var O=le===null?null:le.type;switch(O){case null:case"Point":case"LineString":case"Polygon":return ee(a.feature(le,se,{bbox:P,id:A}),te,0)===!1?!1:void 0}var j;switch(O){case"MultiPoint":j="Point";break;case"MultiLineString":j="LineString";break;case"MultiPolygon":j="Polygon";break}for(var N=0;N<le.coordinates.length;N++){var R=le.coordinates[N],Y={type:j,coordinates:R};if(ee(a.feature(Y,se),te,N)===!1)return!1}})}function ae(K,ee,le){var te=le;return U(K,function(se,P,A){P===0&&A===0&&le===void 0?te=se:te=ee(te,se,P,A)}),te}function ue(K,ee){U(K,function(le,te,se){var P=0;if(le.geometry){var A=le.geometry.type;if(!(A==="Point"||A==="MultiPoint")){var O,j=0,N=0,R=0;if(u(le,function(Y,q,J,oe,ie){if(O===void 0||te>j||oe>N||ie>R){O=Y,j=te,N=oe,R=ie,P=0;return}var ge=a.lineString([O,Y],le.properties);if(ee(ge,te,se,ie,P)===!1)return!1;P++,O=Y})===!1)return!1}}})}function xe(K,ee,le){var te=le,se=!1;return ue(K,function(P,A,O,j,N){se===!1&&le===void 0?te=P:te=ee(te,P,A,O,j,N),se=!0}),te}function Ee(K,ee){if(!K)throw new Error("geojson is required");U(K,function(le,te,se){if(le.geometry!==null){var P=le.geometry.type,A=le.geometry.coordinates;switch(P){case"LineString":if(ee(le,te,se,0,0)===!1)return!1;break;case"Polygon":for(var O=0;O<A.length;O++)if(ee(a.lineString(A[O],le.properties),te,se,O)===!1)return!1;break}}})}function Be(K,ee,le){var te=le;return Ee(K,function(se,P,A,O){P===0&&le===void 0?te=se:te=ee(te,se,P,A,O)}),te}function st(K,ee){if(ee=ee||{},!a.isObject(ee))throw new Error("options is invalid");var le=ee.featureIndex||0,te=ee.multiFeatureIndex||0,se=ee.geometryIndex||0,P=ee.segmentIndex||0,A=ee.properties,O;switch(K.type){case"FeatureCollection":le<0&&(le=K.features.length+le),A=A||K.features[le].properties,O=K.features[le].geometry;break;case"Feature":A=A||K.properties,O=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":O=K;break;default:throw new Error("geojson is invalid")}if(O===null)return null;var j=O.coordinates;switch(O.type){case"Point":case"MultiPoint":return null;case"LineString":return P<0&&(P=j.length+P-1),a.lineString([j[P],j[P+1]],A,ee);case"Polygon":return se<0&&(se=j.length+se),P<0&&(P=j[se].length+P-1),a.lineString([j[se][P],j[se][P+1]],A,ee);case"MultiLineString":return te<0&&(te=j.length+te),P<0&&(P=j[te].length+P-1),a.lineString([j[te][P],j[te][P+1]],A,ee);case"MultiPolygon":return te<0&&(te=j.length+te),se<0&&(se=j[te].length+se),P<0&&(P=j[te][se].length-P-1),a.lineString([j[te][se][P],j[te][se][P+1]],A,ee)}throw new Error("geojson is invalid")}function V(K,ee){if(ee=ee||{},!a.isObject(ee))throw new Error("options is invalid");var le=ee.featureIndex||0,te=ee.multiFeatureIndex||0,se=ee.geometryIndex||0,P=ee.coordIndex||0,A=ee.properties,O;switch(K.type){case"FeatureCollection":le<0&&(le=K.features.length+le),A=A||K.features[le].properties,O=K.features[le].geometry;break;case"Feature":A=A||K.properties,O=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":O=K;break;default:throw new Error("geojson is invalid")}if(O===null)return null;var j=O.coordinates;switch(O.type){case"Point":return a.point(j,A,ee);case"MultiPoint":return te<0&&(te=j.length+te),a.point(j[te],A,ee);case"LineString":return P<0&&(P=j.length+P),a.point(j[P],A,ee);case"Polygon":return se<0&&(se=j.length+se),P<0&&(P=j[se].length+P),a.point(j[se][P],A,ee);case"MultiLineString":return te<0&&(te=j.length+te),P<0&&(P=j[te].length+P),a.point(j[te][P],A,ee);case"MultiPolygon":return te<0&&(te=j.length+te),se<0&&(se=j[te].length+se),P<0&&(P=j[te][se].length-P),a.point(j[te][se][P],A,ee)}throw new Error("geojson is invalid")}i.coordAll=E,i.coordEach=u,i.coordReduce=h,i.featureEach=x,i.featureReduce=b,i.findPoint=V,i.findSegment=st,i.flattenEach=U,i.flattenReduce=ae,i.geomEach=T,i.geomReduce=G,i.lineEach=Ee,i.lineReduce=Be,i.propEach=p,i.propReduce=g,i.segmentEach=ue,i.segmentReduce=xe}),Bi=f(i=>{Object.defineProperty(i,"__esModule",{value:!0});var a=wo();function u(h){var p=[1/0,1/0,-1/0,-1/0];return a.coordEach(h,function(g){p[0]>g[0]&&(p[0]=g[0]),p[1]>g[1]&&(p[1]=g[1]),p[2]<g[0]&&(p[2]=g[0]),p[3]<g[1]&&(p[3]=g[1])}),p}u.default=u,i.default=u}),ri=f((i,a)=>{var u=ut(),h=Et(),p=wo(),g=Bi().default,x=p.featureEach;p.coordEach,h.polygon;var b=h.featureCollection;function E(T){var G=new u(T);return G.insert=function(U){if(U.type!=="Feature")throw new Error("invalid feature");return U.bbox=U.bbox?U.bbox:g(U),u.prototype.insert.call(this,U)},G.load=function(U){var ae=[];return Array.isArray(U)?U.forEach(function(ue){if(ue.type!=="Feature")throw new Error("invalid features");ue.bbox=ue.bbox?ue.bbox:g(ue),ae.push(ue)}):x(U,function(ue){if(ue.type!=="Feature")throw new Error("invalid features");ue.bbox=ue.bbox?ue.bbox:g(ue),ae.push(ue)}),u.prototype.load.call(this,ae)},G.remove=function(U,ae){if(U.type!=="Feature")throw new Error("invalid feature");return U.bbox=U.bbox?U.bbox:g(U),u.prototype.remove.call(this,U,ae)},G.clear=function(){return u.prototype.clear.call(this)},G.search=function(U){var ae=u.prototype.search.call(this,this.toBBox(U));return b(ae)},G.collides=function(U){return u.prototype.collides.call(this,this.toBBox(U))},G.all=function(){var U=u.prototype.all.call(this);return b(U)},G.toJSON=function(){return u.prototype.toJSON.call(this)},G.fromJSON=function(U){return u.prototype.fromJSON.call(this,U)},G.toBBox=function(U){var ae;if(U.bbox)ae=U.bbox;else if(Array.isArray(U)&&U.length===4)ae=U;else if(Array.isArray(U)&&U.length===6)ae=[U[0],U[1],U[3],U[4]];else if(U.type==="Feature")ae=g(U);else if(U.type==="FeatureCollection")ae=g(U);else throw new Error("invalid geojson");return{minX:ae[0],minY:ae[1],maxX:ae[2],maxY:ae[3]}},G}a.exports=E,a.exports.default=E});Array.prototype.findIndex=Array.prototype.findIndex||function(i){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var a=Object(this),u=a.length>>>0,h=arguments[1],p=0;p<u;p++)if(i.call(h,a[p],p,a))return p;return-1},Array.prototype.find=Array.prototype.find||function(i){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var a=Object(this),u=a.length>>>0,h=arguments[1],p=0;p<u;p++){var g=a[p];if(i.call(h,g,p,a))return g}},typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");i=Object(i);for(var a=1;a<arguments.length;a++){var u=arguments[a];if(u!=null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(i[h]=u[h])}return i}),function(i){i.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(i,a){if(this==null)throw new TypeError('"this" is null or not defined');var u=Object(this),h=u.length>>>0;if(h===0)return!1;var p=a|0,g=Math.max(p>=0?p:h-Math.abs(p),0);function x(b,E){return b===E||typeof b=="number"&&typeof E=="number"&&isNaN(b)&&isNaN(E)}for(;g<h;){if(x(u[g],i))return!0;g++}return!1}});var Bs={name:"@geoman-io/leaflet-geoman-free",version:"2.18.3",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.9.12","cross-env":"^7.0.3",cypress:"^13.11.0",esbuild:"^0.20.2",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.11",leaflet:"1.9.3","lint-staged":"^15.2.5",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run --browser chrome",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,demo}/**/*.{js,css}"'}},Je=m(da()),Nt={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},As={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},pa={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},In={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},hd={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},ma={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},ii={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},Ut={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},oi={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},bo={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Lo={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},js={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Ai={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Ds={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},Os={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},ga={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},Ns={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},Rs={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},_a={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},Lu={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Is={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},dd={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},Xe={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},sr={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},wt={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},ku={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},Fs={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},zs=Ai,Fr={en:Nt,de:As,it:pa,id:In,ro:hd,ru:ma,es:ii,nl:Ut,fr:oi,pt:zs,pt_br:js,pt_pt:Ai,zh:bo,zh_tw:Lo,pl:Ds,sv:Os,el:ga,hu:Ns,da:Rs,no:_a,fa:Lu,ua:Is,tr:dd,cz:Xe,ja:sr,fi:wt,ko:ku,ky:Fs},ai={_globalEditModeEnabled:!1,enableGlobalEditMode(i){let a={...i};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(u=>{this._isRelevantForEdit(u)&&u.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(i=>{i.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(i=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(i)},handleLayerAdditionInGlobalEditMode(){let i=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let a in i){let u=i[a];this._isRelevantForEdit(u)&&u.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:i}){this._addedLayersEdit[L.stamp(i)]=i},_isRelevantForEdit(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowEditing}},Us=ai,ko={_globalDragModeEnabled:!1,enableGlobalDragMode(){let i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},i.forEach(a=>{this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,i.forEach(a=>{a.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let i=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let a in i){let u=i[a];this._isRelevantForDrag(u)&&u.pm.enableLayerDrag()}},_layerAddedDrag({layer:i}){this._addedLayersDrag[L.stamp(i)]=i},_isRelevantForDrag(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.draggable}},Xt=ko,si={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(i=>{this._isRelevantForRemoval(i)&&(i.pm.enabled()&&i.pm.disable(),i.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(i=>{i.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(i){let a=i.target;this._isRelevantForRemoval(a)&&!a.pm.dragging()&&(a.removeFrom(this.map.pm._getContainingLayer()),a.remove(),a instanceof L.LayerGroup?(this._fireRemoveLayerGroup(a),this._fireRemoveLayerGroup(this.map,a)):(a.pm._fireRemove(a),a.pm._fireRemove(this.map,a)))},_isRelevantForRemoval(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let i=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let a in i){let u=i[a];this._isRelevantForRemoval(u)&&(u.pm.enabled()&&u.pm.disable(),u.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:i}){this._addedLayersRemoval[L.stamp(i)]=i}},Cu=si,Eu={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(i=>i instanceof L.Polyline).forEach(i=>{this._isRelevantForRotate(i)&&i.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(i=>i instanceof L.Polyline).forEach(i=>{i.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(i){return i.pm&&i instanceof L.Polyline&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let i=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let a in i){let u=i[a];this._isRelevantForRemoval(u)&&u.pm.enableRotate()}},_layerAddedRotate({layer:i}){this._addedLayersRotate[L.stamp(i)]=i}},fd=Eu,Mu=m(da()),$s={_fireDrawStart(i="Draw",a={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},i,a)},_fireDrawEnd(i="Draw",a={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},i,a)},_fireCreate(i,a="Draw",u={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:i,layer:i},a,u)},_fireCenterPlaced(i="Draw",a={}){let u=i==="Draw"?this._layer:void 0,h=i!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:u,layer:h,latlng:this._layer.getLatLng()},i,a)},_fireCut(i,a,u,h="Draw",p={}){this.__fire(i,"pm:cut",{shape:this._shape,layer:a,originalLayer:u},h,p)},_fireEdit(i=this._layer,a="Edit",u={}){this.__fire(i,"pm:edit",{layer:this._layer,shape:this.getShape()},a,u)},_fireEnable(i="Edit",a={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},i,a)},_fireDisable(i="Edit",a={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},i,a)},_fireUpdate(i="Edit",a={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},i,a)},_fireMarkerDragStart(i,a=void 0,u="Edit",h={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:a},u,h)},_fireMarkerDrag(i,a=void 0,u="Edit",h={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:a},u,h)},_fireMarkerDragEnd(i,a=void 0,u=void 0,h="Edit",p={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:a,intersectionReset:u},h,p)},_fireDragStart(i="Edit",a={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},i,a)},_fireDrag(i,a="Edit",u={}){this.__fire(this._layer,"pm:drag",{...i,shape:this.getShape()},a,u)},_fireDragEnd(i="Edit",a={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},i,a)},_fireDragEnable(i="Edit",a={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},i,a)},_fireDragDisable(i="Edit",a={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},i,a)},_fireRemove(i,a=i,u="Edit",h={}){this.__fire(i,"pm:remove",{layer:a,shape:this.getShape()},u,h)},_fireVertexAdded(i,a,u,h="Edit",p={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:i,indexPath:a,latlng:u,shape:this.getShape()},h,p)},_fireVertexRemoved(i,a,u="Edit",h={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:i,indexPath:a,shape:this.getShape()},u,h)},_fireVertexClick(i,a,u="Edit",h={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:i,indexPath:a,shape:this.getShape()},u,h)},_fireIntersect(i,a=this._layer,u="Edit",h={}){this.__fire(a,"pm:intersect",{layer:this._layer,intersection:i,shape:this.getShape()},u,h)},_fireLayerReset(i,a,u="Edit",h={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:i,indexPath:a,shape:this.getShape()},u,h)},_fireChange(i,a="Edit",u={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:i,shape:this.getShape()},a,u)},_fireTextChange(i,a="Edit",u={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:i,shape:this.getShape()},a,u)},_fireTextFocus(i="Edit",a={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},i,a)},_fireTextBlur(i="Edit",a={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},i,a)},_fireSnapDrag(i,a,u="Snapping",h={}){this.__fire(i,"pm:snapdrag",a,u,h)},_fireSnap(i,a,u="Snapping",h={}){this.__fire(i,"pm:snap",a,u,h)},_fireUnsnap(i,a,u="Snapping",h={}){this.__fire(i,"pm:unsnap",a,u,h)},_fireRotationEnable(i,a,u="Rotation",h={}){this.__fire(i,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},u,h)},_fireRotationDisable(i,a="Rotation",u={}){this.__fire(i,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},a,u)},_fireRotationStart(i,a,u="Rotation",h={}){this.__fire(i,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:a},u,h)},_fireRotation(i,a,u,h=this._rotationLayer,p="Rotation",g={}){this.__fire(i,"pm:rotate",{layer:h,helpLayer:this._layer,startAngle:this._startAngle,angle:h.pm.getAngle(),angleDiff:a,oldLatLngs:u,newLatLngs:h.getLatLngs()},p,g)},_fireRotationEnd(i,a,u,h="Rotation",p={}){this.__fire(i,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:a,angle:this._rotationLayer.pm.getAngle(),originLatLngs:u,newLatLngs:this._rotationLayer.getLatLngs()},h,p)},_fireActionClick(i,a,u,h="Toolbar",p={}){this.__fire(this._map,"pm:actionclick",{text:i.text,action:i,btnName:a,button:u},h,p)},_fireButtonClick(i,a,u="Toolbar",h={}){this.__fire(this._map,"pm:buttonclick",{btnName:i,button:a},u,h)},_fireLangChange(i,a,u,h,p="Global",g={}){this.__fire(this.map,"pm:langchange",{oldLang:i,activeLang:a,fallback:u,translations:h},p,g)},_fireGlobalDragModeToggled(i,a="Global",u={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:i,map:this.map},a,u)},_fireGlobalEditModeToggled(i,a="Global",u={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:i,map:this.map},a,u)},_fireGlobalRemovalModeToggled(i,a="Global",u={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:i,map:this.map},a,u)},_fireGlobalCutModeToggled(i="Global",a={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},i,a)},_fireGlobalDrawModeToggled(i="Global",a={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},i,a)},_fireGlobalRotateModeToggled(i="Global",a={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},i,a)},_fireRemoveLayerGroup(i,a=i,u="Edit",h={}){this.__fire(i,"pm:remove",{layer:a,shape:void 0},u,h)},_fireKeyeventEvent(i,a,u,h="Global",p={}){this.__fire(this.map,"pm:keyevent",{event:i,eventType:a,focusOn:u},h,p)},__fire(i,a,u,h,p={}){u=(0,Mu.default)(u,p,{source:h}),L.PM.Utils._fireEvent(i,a,u)}},ya=$s,Su=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(i){this.map=i,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),i.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(i){let a="document";this.map.getContainer().contains(i.target)&&(a="map");let u={event:i,eventType:i.type,focusOn:a};this._lastEvents[i.type]=u,this._lastEvents.current=u,this.map.pm._fireKeyeventEvent(i,i.type,a)},_onBlur(i){i.altKey=!1;let a={event:i,eventType:i.type,focusOn:"document"};this._lastEvents[i.type]=a,this._lastEvents.current=a},getLastKeyEvent(i="current"){return this._lastEvents[i]},isShiftKeyPressed(){var i;return(i=this._lastEvents.current)==null?void 0:i.event.shiftKey},isAltKeyPressed(){var i;return(i=this._lastEvents.current)==null?void 0:i.event.altKey},isCtrlKeyPressed(){var i;return(i=this._lastEvents.current)==null?void 0:i.event.ctrlKey},isMetaKeyPressed(){var i;return(i=this._lastEvents.current)==null?void 0:i.event.metaKey},getPressedKey(){var i;return(i=this._lastEvents.current)==null?void 0:i.event.key}}),ot=Su,Pu=m(Ir());function qe(i){let a=L.PM.activeLang;return(0,Pu.default)(Fr[a],i)||(0,Pu.default)(Fr.en,i)||i}function li(i){for(let a=0;a<i.length;a+=1){let u=i[a];if(Array.isArray(u)){if(li(u))return!0}else if(u!=null&&u!=="")return!0}return!1}function Co(i){return i.reduce((a,u)=>{if(u.length!==0){let h=Array.isArray(u)?Co(u):u;Array.isArray(h)?h.length!==0&&a.push(h):a.push(h)}return a},[])}function pd(i,a,u){let h={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:p,b:g,f:x}=h,b=i.lng,E=i.lat,T=u,G=Math.PI,U=a*G/180,ae=Math.sin(U),ue=Math.cos(U),xe=(1-x)*Math.tan(E*G/180),Ee=1/Math.sqrt(1+xe*xe),Be=xe*Ee,st=Math.atan2(xe,ue),V=Ee*ae,K=1-V*V,ee=K*(p*p-g*g)/(g*g),le=1+ee/16384*(4096+ee*(-768+ee*(320-175*ee))),te=ee/1024*(256+ee*(-128+ee*(74-47*ee))),se=T/(g*le),P=2*Math.PI,A,O,j;for(;Math.abs(se-P)>1e-12;){A=Math.cos(2*st+se),O=Math.sin(se),j=Math.cos(se);let ge=te*O*(A+te/4*(j*(-1+2*A*A)-te/6*A*(-3+4*O*O)*(-3+4*A*A)));P=se,se=T/(g*le)+ge}let N=Be*O-Ee*j*ue,R=Math.atan2(Be*j+Ee*O*ue,(1-x)*Math.sqrt(V*V+N*N)),Y=Math.atan2(O*ae,Ee*j-Be*O*ue),q=x/16*K*(4+x*(4-3*K)),J=Y-(1-q)*x*V*(se+q*O*(A+q*j*(-1+2*A*A))),oe=b+J*180/G,ie=R*180/G;return L.latLng(oe,ie)}function va(i,a,u,h,p=!0){let g,x,b,E=[];for(let T=0;T<u;T+=1){if(p)g=T*360/u+h,x=pd(i,g,a),b=L.latLng(x.lng,x.lat);else{let G=i.lat+Math.cos(2*T*Math.PI/u)*a,U=i.lng+Math.sin(2*T*Math.PI/u)*a;b=L.latLng(G,U)}E.push(b)}return E}function md(i,a,u){a=(a+360)%360;let h=Math.PI/180,p=180/Math.PI,{R:g}=L.CRS.Earth,x=i.lng*h,b=i.lat*h,E=a*h,T=Math.sin(b),G=Math.cos(b),U=Math.cos(u/g),ae=Math.sin(u/g),ue=Math.asin(T*U+G*ae*Math.cos(E)),xe=x+Math.atan2(Math.sin(E)*ae*G,U-T*Math.sin(ue));xe*=p;let Ee=xe-360,Be=xe<-180?xe+360:xe;return xe=xe>180?Ee:Be,L.latLng([ue*p,xe])}function xa(i,a,u){let h=i.latLngToContainerPoint(a),p=i.latLngToContainerPoint(u),g=Math.atan2(p.y-h.y,p.x-h.x)*180/Math.PI+90;return g+=g<0?360:0,g}function wa(i,a,u,h){let p=xa(i,a,u);return md(a,p,h)}function gd(i,a,u="asc"){if(!a||Object.keys(a).length===0)return(E,T)=>E-T;let h=Object.keys(a),p,g=h.length-1,x={};for(;g>=0;)p=h[g],x[p.toLowerCase()]=a[p],g-=1;function b(E){if(E instanceof L.Marker)return"Marker";if(E instanceof L.Circle)return"Circle";if(E instanceof L.CircleMarker)return"CircleMarker";if(E instanceof L.Rectangle)return"Rectangle";if(E instanceof L.Polygon)return"Polygon";if(E instanceof L.Polyline)return"Line"}return(E,T)=>{let G,U;if(i==="instanceofShape"){if(G=b(E.layer).toLowerCase(),U=b(T.layer).toLowerCase(),!G||!U)return 0}else{if(!E.hasOwnProperty(i)||!T.hasOwnProperty(i))return 0;G=E[i].toLowerCase(),U=T[i].toLowerCase()}let ae=G in x?x[G]:Number.MAX_SAFE_INTEGER,ue=U in x?x[U]:Number.MAX_SAFE_INTEGER,xe=0;return ae<ue?xe=-1:ae>ue&&(xe=1),u==="desc"?xe*-1:xe}}function lr(i,a=i.getLatLngs()){return i instanceof L.Polygon?L.polygon(a).getLatLngs():L.polyline(a).getLatLngs()}function Tu(i,a){var u,h,p,g;if((h=(u=a.options.crs)==null?void 0:u.projection)!=null&&h.MAX_LATITUDE){let x=(g=(p=a.options.crs)==null?void 0:p.projection)==null?void 0:g.MAX_LATITUDE;i.lat=Math.max(Math.min(x,i.lat),-x)}return i}function cn(i){return i.options.renderer||i._map&&(i._map._getPaneRenderer(i.options.pane)||i._map.options.renderer||i._map._renderer)||i._renderer}var _d=L.Class.extend({includes:[Us,Xt,Cu,fd,ya],initialize(i){this.map=i,this.Draw=new L.PM.Draw(i),this.Toolbar=new L.PM.Toolbar(i),this.Keyboard=ot(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(i)},setLang(i="en",a,u="en"){if(i=i.trim().toLowerCase(),!/^[a-z]{2}$/.test(i)){let p=i.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if(p){let g=[`${p[1]}_${p[2]}`,`${p[1]}`];for(let x of g)if(Fr[x]){i=x;break}}}let h=L.PM.activeLang;a&&(Fr[i]=(0,Je.default)(Fr[u],a)),L.PM.activeLang=i,this.map.pm.Toolbar.reinit(),this._fireLangChange(h,i,u,Fr[i])},addControls(i){this.Toolbar.addControls(i)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(i="Polygon",a){i==="Poly"&&(i="Polygon"),this.Draw.enable(i,a)},disableDraw(i="Polygon"){i==="Poly"&&(i="Polygon"),this.Draw.disable(i)},setPathOptions(i,a={}){let u=a.ignoreShapes||[],h=a.merge||!1;this.map.pm.Draw.shapes.forEach(p=>{u.indexOf(p)===-1&&this.map.pm.Draw[p].setPathOptions(i,h)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(i){let a=(0,Je.default)(this.globalOptions,i);a.editable&&(a.resizeableCircleMarker=a.editable,delete a.editable);let u=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!a.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),u=!0);let h=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!a.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),h=!0),this.map.pm.Draw.shapes.forEach(p=>{this.map.pm.Draw[p].setOptions(a)}),u&&this.map.pm.Draw.CircleMarker.enable(),h&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(p=>{p.pm.setOptions(a)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=a,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(i=>{i.pm.enabled()&&i.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(i){return this.Draw.Cut.enable(i)},toggleGlobalCutMode(i){return this.Draw.Cut.toggle(i)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(i=!1){let a=L.PM.Utils.findLayers(this.map);if(!i)return a;let u=L.featureGroup();return u._pmTempLayer=!0,a.forEach(h=>{u.addLayer(h)}),u},getGeomanDrawLayers(i=!1){let a=L.PM.Utils.findLayers(this.map).filter(h=>h._drawnByGeoman===!0);if(!i)return a;let u=L.featureGroup();return u._pmTempLayer=!0,a.forEach(h=>{u.addLayer(h)}),u},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(i){this._touchEventCounter===0&&(L.DomEvent.on(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(i){this._touchEventCounter===1&&(L.DomEvent.off(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(i){cn(this.map)._onMouseMove(this._createMouseEvent("mousemove",i))},_canvasTouchClick(i){let a="";i.type==="touchstart"||i.type==="pointerdown"?a="mousedown":(i.type==="touchend"||i.type==="pointerup"||i.type==="touchcancel"||i.type==="pointercancel")&&(a="mouseup"),a&&cn(this.map)._onClick(this._createMouseEvent(a,i))},_createMouseEvent(i,a){let u,h=a.touches[0]||a.changedTouches[0];try{u=new MouseEvent(i,{bubbles:a.bubbles,cancelable:a.cancelable,view:a.view,detail:h.detail,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button,relatedTarget:a.relatedTarget})}catch{u=document.createEvent("MouseEvents"),u.initMouseEvent(i,a.bubbles,a.cancelable,a.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}return u}}),Bu=_d,zr=L.Control.extend({includes:[ya],options:{position:"topleft",disableByOtherButtons:!0},initialize(i){this._button=L.Util.extend({},this.options,i)},onAdd(i){return this._map=i,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let i=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),i?i.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(i){return typeof i=="boolean"?this._button.toggleStatus=i:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(i){i&&i.preventDefault(),!this._button.disabled&&(this._button.onClick(i,{button:this,event:i}),this._clicked(i),this._button.afterClick(i,{button:this,event:i}))},_makeButton(i){let a=this.options.position.indexOf("right")>-1?"pos-right":"",u=L.DomUtil.create("div",`button-container  ${a}`,this._container);i.title&&u.setAttribute("title",i.title);let h=L.DomUtil.create("a","leaflet-buttons-control-button",u);h.setAttribute("role","button"),h.setAttribute("tabindex","0"),h.href="#";let p=L.DomUtil.create("div",`leaflet-pm-actions-container ${a}`,u),g=i.actions,x={cancel:{text:qe("actions.cancel"),title:qe("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:qe("actions.finish"),title:qe("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:qe("actions.removeLastVertex"),title:qe("actions.removeLastVertex"),onClick(){this._map.pm.Draw[i.jsClass]._removeLastVertex()}},finish:{text:qe("actions.finish"),title:qe("actions.finish"),onClick(E){this._map.pm.Draw[i.jsClass]._finishShape(E)}}};i._preparedActions=g.map(E=>{let T=typeof E=="string"?E:E.name,G;if(x[T])G=x[T];else if(E.text)G=E;else return G;let U=L.DomUtil.create("a",`leaflet-pm-action ${a} action-${T}`,p);if(U.setAttribute("role","button"),U.setAttribute("tabindex","0"),U.href="#",G.title&&(U.title=G.title),U.innerHTML=G.text,L.DomEvent.disableClickPropagation(U),L.DomEvent.on(U,"click",L.DomEvent.stop),G._node=U,!i.disabled&&G.onClick){let ae=ue=>{ue.preventDefault();let xe="",{buttons:Ee}=this._map.pm.Toolbar;for(let Be in Ee)if(Ee[Be]._button===i){xe=Be;break}this._fireActionClick(G,xe,i)};L.DomEvent.addListener(U,"click",ae,this),L.DomEvent.addListener(U,"click",G.onClick,this),L.DomEvent.addListener(U,"click",()=>this._updateActiveAction(i))}return G}),this._updateActiveAction(i),i.toggleStatus&&L.DomUtil.addClass(u,"active");let b=L.DomUtil.create("div","control-icon",h);return i.iconUrl&&b.setAttribute("src",i.iconUrl),i.className&&L.DomUtil.addClass(b,i.className),L.DomEvent.disableClickPropagation(h),L.DomEvent.on(h,"click",L.DomEvent.stop),i.disabled||(L.DomEvent.addListener(h,"click",this._onBtnClick,this),L.DomEvent.addListener(h,"click",this._triggerClick,this)),i.disabled&&(L.DomUtil.addClass(h,"pm-disabled"),h.setAttribute("aria-disabled","true")),u},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let i="",{buttons:a}=this._map.pm.Toolbar;for(let u in a)if(a[u]._button===this._button){i=u;break}this._fireButtonClick(i,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let i="pm-disabled",a=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(a,i),a.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(a,i),a.setAttribute("aria-disabled","false"))},_updateActiveAction(i){var a;(a=i._preparedActions)==null||a.forEach(u=>{u!=null&&u._node&&(u.isActive&&u.isActive.call(this)?L.DomUtil.addClass(u._node,"active-action"):L.DomUtil.removeClass(u._node,"active-action"))})}}),Au=zr;L.Control.PMButton=Au;var ju=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(i){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(i)},reinit(){let i=this.isVisible;this.removeControls(),this._defineButtons(),i&&this.addControls()},init(i){this.map=i,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(i){let a=`${i}Container`;return this[a]||(this[a]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${i} leaflet-bar leaflet-control`)),this[a]},getButtons(){return this.buttons},addControls(i=this.options){typeof i.editPolygon<"u"&&(i.editMode=i.editPolygon),typeof i.deleteLayer<"u"&&(i.removalMode=i.deleteLayer),L.Util.setOptions(this,i),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let i=this.getButtons(),a={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let u in i){let h=i[u];L.Util.setOptions(h,{className:a.geomanIcons[u]})}},removeControls(){let i=this.getButtons();for(let a in i)i[a].remove();this.isVisible=!1},toggleControls(i=this.options){this.isVisible?this.removeControls():this.addControls(i)},_addButton(i,a){return this.buttons[i]=a,this.options[i]=!!this.options[i]||!1,this.buttons[i]},triggerClickOnToggledButtons(i){for(let a in this.buttons){let u=this.buttons[a];u._button.disableByOtherButtons&&u!==i&&u.toggled()&&u._triggerClick()}},toggleButton(i,a,u=!0){i==="editPolygon"&&(i="editMode"),i==="deleteLayer"&&(i="removalMode");let h=i;return u&&this.triggerClickOnToggledButtons(this.buttons[h]),this.buttons[h]?this.buttons[h].toggle(a):!1},_defineButtons(){let i={className:"control-icon leaflet-pm-icon-marker",title:qe("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(ae,ue)=>{this.map.pm.Draw[ue.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:qe("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(ae,ue)=>{this.map.pm.Draw[ue.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},u={className:"control-icon leaflet-pm-icon-polyline",title:qe("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(ae,ue)=>{this.map.pm.Draw[ue.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},h={title:qe("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(ae,ue)=>{this.map.pm.Draw[ue.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:qe("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(ae,ue)=>{this.map.pm.Draw[ue.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},g={title:qe("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(ae,ue)=>{this.map.pm.Draw[ue.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},x={title:qe("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},b={title:qe("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},E={title:qe("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(ae,ue)=>{this.map.pm.Draw[ue.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},T={title:qe("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},G={title:qe("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},U={className:"control-icon leaflet-pm-icon-text",title:qe("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(ae,ue)=>{this.map.pm.Draw[ue.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(i)),this._addButton("drawPolyline",new L.Control.PMButton(u)),this._addButton("drawRectangle",new L.Control.PMButton(g)),this._addButton("drawPolygon",new L.Control.PMButton(a)),this._addButton("drawCircle",new L.Control.PMButton(h)),this._addButton("drawCircleMarker",new L.Control.PMButton(p)),this._addButton("drawText",new L.Control.PMButton(U)),this._addButton("editMode",new L.Control.PMButton(x)),this._addButton("dragMode",new L.Control.PMButton(b)),this._addButton("cutPolygon",new L.Control.PMButton(E)),this._addButton("removalMode",new L.Control.PMButton(T)),this._addButton("rotateMode",new L.Control.PMButton(G))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let i=this.getButtons(),a=[];this.options.drawControls===!1&&(a=a.concat(Object.keys(i).filter(u=>!i[u]._button.tool))),this.options.editControls===!1&&(a=a.concat(Object.keys(i).filter(u=>i[u]._button.tool==="edit"))),this.options.optionsControls===!1&&(a=a.concat(Object.keys(i).filter(u=>i[u]._button.tool==="options"))),this.options.customControls===!1&&(a=a.concat(Object.keys(i).filter(u=>i[u]._button.tool==="custom")));for(let u in i)if(this.options[u]&&a.indexOf(u)===-1){let h=i[u]._button.tool;h||(h="draw"),i[u].setPosition(this._getBtnPosition(h)),i[u].addTo(this.map)}},_getBtnPosition(i){return this.options.positions&&this.options.positions[i]?this.options.positions[i]:this.options.position},setBlockPosition(i,a){this.options.positions[i]=a,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(i,a){if(a)typeof a!="object"&&(a={name:a});else throw new TypeError("Button has no name");let u=this._btnNameMapping(i);if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");let h=this.map.pm.Draw.createNewDrawInstance(a.name,u);a={...this.buttons[u]._button,...a};let p=this.createCustomControl(a);return{drawInstance:h,control:p}},createCustomControl(i){if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");i.onClick||(i.onClick=()=>{}),i.afterClick||(i.afterClick=()=>{}),i.toggle!==!1&&(i.toggle=!0),i.block&&(i.block=i.block.toLowerCase()),(!i.block||i.block==="draw")&&(i.block=""),i.className?i.className.indexOf("control-icon")===-1&&(i.className=`control-icon ${i.className}`):i.className="control-icon";let a={tool:i.block,className:i.className,title:i.title||"",jsClass:i.name,onClick:i.onClick,afterClick:i.afterClick,doToggle:i.toggle,toggleStatus:!1,disableOtherButtons:i.disableOtherButtons??!0,disableByOtherButtons:i.disableByOtherButtons??!0,cssToggle:i.toggle,position:this.options.position,actions:i.actions||[],disabled:!!i.disabled};this.options[i.name]!==!1&&(this.options[i.name]=!0);let u=this._addButton(i.name,new L.Control.PMButton(a));return this.changeControlOrder(),u},controlExists(i){return!!this.getButton(i)},getButton(i){return this.getButtons()[i]},getButtonsInBlock(i){let a={};if(i)for(let u in this.getButtons()){let h=this.getButtons()[u];(h._button.tool===i||i==="draw"&&!h._button.tool)&&(a[u]=h)}return a},changeControlOrder(i=[]){let a=this._shapeMapping(),u=[];i.forEach(g=>{a[g]?u.push(a[g]):u.push(g)});let h=this.getButtons(),p={};u.forEach(g=>{h[g]&&(p[g]=h[g])}),Object.keys(h).filter(g=>!h[g]._button.tool||h[g]._button.tool==="draw").forEach(g=>{u.indexOf(g)===-1&&(p[g]=h[g])}),Object.keys(h).filter(g=>h[g]._button.tool==="edit").forEach(g=>{u.indexOf(g)===-1&&(p[g]=h[g])}),Object.keys(h).filter(g=>h[g]._button.tool==="options").forEach(g=>{u.indexOf(g)===-1&&(p[g]=h[g])}),Object.keys(h).filter(g=>h[g]._button.tool==="custom").forEach(g=>{u.indexOf(g)===-1&&(p[g]=h[g])}),Object.keys(h).forEach(g=>{u.indexOf(g)===-1&&(p[g]=h[g])}),this.map.pm.Toolbar.buttons=p,this._showHideButtons()},getControlOrder(){let i=this.getButtons(),a=[];for(let u in i)a.push(u);return a},changeActionsOfControl(i,a){let u=this._btnNameMapping(i);if(!u)throw new TypeError("No name passed");if(!a)throw new TypeError("No actions passed");if(!this.buttons[u])throw new TypeError("Button with this name not exists");this.buttons[u]._button.actions=a,this.changeControlOrder()},setButtonDisabled(i,a){let u=this._btnNameMapping(i);a?this.buttons[u].disable():this.buttons[u].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(i){let a=this._shapeMapping();return a[i]?a[i]:i}}),Vs=ju,yd=m(da()),Du={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(i){i.forEach(a=>{if(Array.isArray(a)){this._assignEvents(a);return}a.off("drag",this._handleSnapping,this),a.on("drag",this._handleSnapping,this),a.off("dragend",this._cleanupSnapping,this),a.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(i){if(i){let a=i.target;a._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(a=>{a.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(i){var b,E,T;let a=i.target;if(a._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),((b=i==null?void 0:i.originalEvent)==null?void 0:b.altKey)||((T=(E=this._map)==null?void 0:E.pm)==null?void 0:T.Keyboard.isAltKeyPressed())||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let u=this._calcClosestLayer(a.getLatLng(),this._snapList);if(Object.keys(u).length===0)return!1;let h=u.layer instanceof L.Marker||u.layer instanceof L.CircleMarker||!this.options.snapSegment,p;h?p=u.latlng:p=this._checkPrioritiySnapping(u);let g=this.options.snapDistance,x={marker:a,shape:this._shape,snapLatLng:p,segment:u.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:u.layer,distance:u.distance};if(this._fireSnapDrag(x.marker,x),this._fireSnapDrag(this._layer,x),u.distance<g){a._orgLatLng=a.getLatLng(),a.setLatLng(p),a._snapped=!0,a._snapInfo=x;let G=()=>{this._snapLatLng=p,this._fireSnap(a,x),this._fireSnap(this._layer,x)},U=this._snapLatLng||{},ae=p||{};(U.lat!==ae.lat||U.lng!==ae.lng)&&G()}else this._snapLatLng&&(this._unsnap(x),a._snapped=!1,a._snapInfo=void 0,this._fireUnsnap(x.marker,x),this._fireUnsnap(this._layer,x));return!0},_createSnapList(){let i=[],a=[],u=this._map;u.off("layerremove",this._handleSnapLayerRemoval,this),u.on("layerremove",this._handleSnapLayerRemoval,this),u.eachLayer(h=>{if((h instanceof L.Polyline||h instanceof L.Marker||h instanceof L.CircleMarker||h instanceof L.ImageOverlay)&&h.options.snapIgnore!==!0){if(h.options.snapIgnore===void 0&&(!L.PM.optIn&&h.options.pmIgnore===!0||L.PM.optIn&&h.options.pmIgnore!==!1))return;(h instanceof L.Circle||h instanceof L.CircleMarker)&&h.pm&&h.pm._hiddenPolyCircle?i.push(h.pm._hiddenPolyCircle):h instanceof L.ImageOverlay&&(h=L.rectangle(h.getBounds())),i.push(h);let p=L.polyline([],{color:"red",pmIgnore:!0});p._pmTempLayer=!0,a.push(p),(h instanceof L.Circle||h instanceof L.CircleMarker)&&a.push(p)}}),i=i.filter(h=>this._layer!==h),i=i.filter(h=>h._latlng||h._latlngs&&li(h._latlngs)),i=i.filter(h=>!h._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let h=L.polyline([],{color:"red",pmIgnore:!0});h._pmTempLayer=!0,a.push(h)}),this._snapList=i.concat(this._otherSnapLayers)):this._snapList=i,this.debugIndicatorLines=a},_handleSnapLayerRemoval({layer:i}){if(!i._leaflet_id)return;let a=this._snapList.findIndex(u=>u._leaflet_id===i._leaflet_id);a>-1&&this._snapList.splice(a,1)},_calcClosestLayer(i,a){return this._calcClosestLayers(i,a,1)[0]},_calcClosestLayers(i,a,u=1){let h=[],p={};a.forEach((x,b)=>{var T;if(x._parentCopy&&x._parentCopy===this._layer||((T=x.getLatLngs)==null?void 0:T.call(x).flat(5).length)<2)return;let E=this._calcLayerDistances(i,x);if(E.distance=Math.floor(E.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[b]){let G=L.polyline([],{color:"red",pmIgnore:!0});G._pmTempLayer=!0,this.debugIndicatorLines[b]=G}this.debugIndicatorLines[b].setLatLngs([i,E.latlng])}u===1&&(p.distance===void 0||E.distance-5<=p.distance)?(E.distance+5<p.distance&&(h=[]),p=E,p.layer=x,h.push(p)):u!==1&&(p={},p=E,p.layer=x,h.push(p))}),u!==1&&(h=h.sort((x,b)=>x.distance-b.distance)),u===-1&&(u=h.length);let g=this._getClosestLayerByPriority(h,u);return L.Util.isArray(g)?g:[g]},_calcLayerDistances(i,a){let u=this._map,h=a instanceof L.Marker||a instanceof L.CircleMarker,p=a instanceof L.Polygon,g=i;if(h){let x=a.getLatLng();return{latlng:{...x},distance:this._getDistance(u,x,g)}}return this._calcLatLngDistances(g,a.getLatLngs(),u,p)},_calcLatLngDistances(i,a,u,h=!1){let p,g,x,b=E=>{E.forEach((T,G)=>{if(Array.isArray(T)){b(T);return}if(this.options.snapSegment){let U=T,ae;h?ae=G+1===E.length?0:G+1:ae=G+1===E.length?void 0:G+1;let ue=E[ae];if(ue){let xe=this._getDistanceToSegment(u,i,U,ue);(g===void 0||xe<g)&&(g=xe,x=[U,ue])}}else{let U=this._getDistance(u,i,T);(g===void 0||U<g)&&(g=U,p=T)}})};return b(a),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(u,i,x[0],x[1])},segment:x,distance:g}:{latlng:p,distance:g}},_getClosestLayerByPriority(i,a=1){i=i.sort((x,b)=>x._leaflet_id-b._leaflet_id);let u=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],h=this._map.pm.globalOptions.snappingOrder||[],p=0,g={};return h.concat(u).forEach(x=>{g[x]||(p+=1,g[x]=p)}),i.sort(gd("instanceofShape",g)),a===1?i[0]||{}:i.slice(0,a)},_checkPrioritiySnapping(i){let a=this._map,u=i.segment[0],h=i.segment[1],p=i.latlng,g=p;if(this.options.snapVertex){let x=this._getDistance(a,u,p),b=this._getDistance(a,h,p),E=x<b?u:h,T=x<b?x:b;if(this.options.snapMiddle){let U=L.PM.Utils.calcMiddleLatLng(a,u,h),ae=this._getDistance(a,U,p);ae<x&&ae<b&&(E=U,T=ae)}let G=this.options.snapDistance;T<G&&(g=E)}return{...g}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(i,a,u,h){let p=i.getMaxZoom();p===1/0&&(p=i.getZoom());let g=i.project(a,p),x=i.project(u,p),b=i.project(h,p),E=L.LineUtil.closestPointOnSegment(g,x,b);return i.unproject(E,p)},_getDistanceToSegment(i,a,u,h){let p=i.latLngToContainerPoint(a),g=i.latLngToContainerPoint(u),x=i.latLngToContainerPoint(h);return L.LineUtil.pointToSegmentDistance(p,g,x)},_getDistance(i,a,u){return i.latLngToContainerPoint(a).distanceTo(i.latLngToContainerPoint(u))}},Gs=Du,vd=L.Class.extend({includes:[Gs,ya],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(i){L.Util.setOptions(this,i),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(i){let a=new L.Icon.Default;a.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=a,this._map=i,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(u=>{this[u]=new L.PM.Draw[u](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(i,a=!1){a?this.options.pathOptions=(0,yd.default)(this.options.pathOptions,i):this.options.pathOptions=i},getShapes(){return this.shapes},getShape(){return this._shape},enable(i,a){if(!i)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[i].enable(a)},disable(){this.shapes.forEach(i=>{this[i].disable()})},addControls(){this.shapes.forEach(i=>{this[i].addButton()})},getActiveShape(){let i;return this.shapes.forEach(a=>{this[a]._enabled&&(i=a)}),i},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let i=[];this._map.eachLayer(a=>{(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&(a._pmTempLayer||i.push(a))}),this._enabled?i.forEach(a=>{L.PM.Utils.disablePopup(a)}):i.forEach(a=>{L.PM.Utils.enablePopup(a)})},createNewDrawInstance(i,a){let u=this._getShapeFromBtnName(a);if(this[i])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[u])throw new TypeError(`There is no class L.PM.Draw.${u}`);return this[i]=new L.PM.Draw[u](this._map),this[i].toolbarButtonName=i,this[i]._shape=i,this.shapes.push(i),this[a]&&this[i].setOptions(this[a].options),this[i].setOptions(this[i].options),this[i]},_getShapeFromBtnName(i){let a={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return a[i]?a[i]:this[i]?this[i]._shape:i},_finishLayer(i){i.pm&&(i.pm.setOptions(this.options),i.pm._shape=this._shape,i.pm._map=this._map),this._addDrawnLayerProp(i)},_addDrawnLayerProp(i){i._drawnByGeoman=!0},_setPane(i,a){a==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Jt=vd;Jt.Marker=Jt.extend({initialize(i){this._map=i,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(i){L.Util.setOptions(this,i),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(qe("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(a=>{this.isRelevantMarker(a)&&a.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},isRelevantMarker(i){return i instanceof L.Marker&&i.pm&&!i._pmTempLayer&&!i.pm._initTextMarker},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let a=i;a.target=this._hintMarker,this._handleSnapping(a)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(i){if(!i.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let a=this._hintMarker.getLatLng(),u=new L.Marker(a,this.options.markerStyle);this._setPane(u,"markerPane"),this._finishLayer(u),u.pm||(u.options.draggable=!1),u.addTo(this._map.pm._getContainingLayer()),u.pm&&this.options.markerEditable?u.pm.enable():u.dragging&&u.dragging.disable(),this._fireCreate(u),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){var i,a;(i=this.options.markerStyle)!=null&&i.icon&&((a=this._hintMarker)==null||a.setIcon(this.options.markerStyle.icon))}});var nn=63710088e-1,Ou={centimeters:nn*100,centimetres:nn*100,degrees:nn/111325,feet:nn*3.28084,inches:nn*39.37,kilometers:nn/1e3,kilometres:nn/1e3,meters:nn,metres:nn,miles:nn/1609.344,millimeters:nn*1e3,millimetres:nn*1e3,nauticalmiles:nn/1852,radians:1,yards:nn*1.0936};function ui(i,a,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=a||{},h.geometry=i,h}function ci(i,a,u){if(u===void 0&&(u={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Hs(i[0])||!Hs(i[1]))throw new Error("coordinates must contain numbers");var h={type:"Point",coordinates:i};return ui(h,a,u)}function Ur(i,a,u){if(u===void 0&&(u={}),i.length<2)throw new Error("coordinates must be an array of two or more positions");var h={type:"LineString",coordinates:i};return ui(h,a,u)}function vn(i,a){a===void 0&&(a={});var u={type:"FeatureCollection"};return a.id&&(u.id=a.id),a.bbox&&(u.bbox=a.bbox),u.features=i,u}function xd(i,a){a===void 0&&(a="kilometers");var u=Ou[a];if(!u)throw new Error(a+" units is invalid");return i*u}function Eo(i,a){a===void 0&&(a="kilometers");var u=Ou[a];if(!u)throw new Error(a+" units is invalid");return i/u}function xn(i){var a=i%(2*Math.PI);return a*180/Math.PI}function Fn(i){var a=i%360;return a*Math.PI/180}function Hs(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function ba(i){var a,u,h={type:"FeatureCollection",features:[]};if(i.type==="Feature"?u=i.geometry:u=i,u.type==="LineString")a=[u.coordinates];else if(u.type==="MultiLineString")a=u.coordinates;else if(u.type==="MultiPolygon")a=[].concat.apply([],u.coordinates);else if(u.type==="Polygon")a=u.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return a.forEach(function(p){a.forEach(function(g){for(var x=0;x<p.length-1;x++)for(var b=x;b<g.length-1;b++)if(!(p===g&&(Math.abs(x-b)===1||x===0&&b===p.length-2&&p[x][0]===p[p.length-1][0]&&p[x][1]===p[p.length-1][1]))){var E=Zs(p[x][0],p[x][1],p[x+1][0],p[x+1][1],g[b][0],g[b][1],g[b+1][0],g[b+1][1]);E&&h.features.push(ci([E[0],E[1]]))}})}),h}function Zs(i,a,u,h,p,g,x,b){var E,T,G,U,ae,ue={x:null,y:null,onLine1:!1,onLine2:!1};return E=(b-g)*(u-i)-(x-p)*(h-a),E===0?ue.x!==null&&ue.y!==null?ue:!1:(T=a-g,G=i-p,U=(x-p)*T-(b-g)*G,ae=(u-i)*T-(h-a)*G,T=U/E,G=ae/E,ue.x=i+T*(u-i),ue.y=a+T*(h-a),T>=0&&T<=1&&(ue.onLine1=!0),G>=0&&G<=1&&(ue.onLine2=!0),ue.onLine1&&ue.onLine2?[ue.x,ue.y]:!1)}Jt.Line=Jt.extend({initialize(i){this._map=i,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(i){L.Util.setOptions(this,i),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(qe("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine(){let i=this._layer.getLatLngs();if(i.length>0){let a=i[i.length-1];this._hintline.setLatLngs([a,this._hintMarker.getLatLng()])}},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let u=i;u.target=this._hintMarker,this._handleSnapping(u)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let a=this._layer._defaultShape().slice();a.push(this._hintMarker.getLatLng()),this._change(a)},hasSelfIntersection(){return ba(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(i,a){let u=L.polyline(this._layer.getLatLngs());i&&(a||(a=this._hintMarker.getLatLng()),u.addLatLng(a));let h=ba(u.toGeoJSON(15));this._doesSelfIntersect=h.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(h,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(i){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,i.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let a=this._hintMarker.getLatLng(),u=this._layer.getLatLngs(),h=u[u.length-1];if(a.equals(u[0])||u.length>0&&a.equals(h)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:a,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(a);let p=this._createMarker(a);this._setTooltipText(),this._setHintLineAfterNewVertex(a),this._fireVertexAdded(p,void 0,a,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(i)},_setHintLineAfterNewVertex(i){this._hintline.setLatLngs([i,i])},_removeLastVertex(){let i=this._markers;if(i.length<=1){this.disable();return}let a=this._layer.getLatLngs(),u=i[i.length-1],{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(i,u);i.pop(),this._layerGroup.removeLayer(u);let p=i[i.length-1],g=a.indexOf(p.getLatLng());a=a.slice(0,g+1),this._layer.setLatLngs(a),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(u,h,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let i=this._layer.getLatLngs();if(i.length<=1)return;let a=L.polyline(i,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.options.snappable&&this._cleanupSnapping();let u=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(u))},_createMarker(i){let a=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),a.on("click",this._finishShape,this),a},_setTooltipText(){let{length:i}=this._layer.getLatLngs().flat(),a="";i<=1?a=qe("tooltips.continueLine"):a=qe("tooltips.finishLine"),this._hintMarker.setTooltipContent(a)},_change(i){this._fireChange(i,"Draw")},setStyle(){var i,a;(i=this._layer)==null||i.setStyle(this.options.templineStyle),(a=this._hintline)==null||a.setStyle(this.options.hintlineStyle)}}),Jt.Polygon=Jt.Line.extend({initialize(i){this._map=i,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(i){L.PM.Draw.Line.prototype.enable.call(this,i),this._layer.pm._shape="Polygon"},_createMarker(i){let a=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),this._layer.getLatLngs().flat().length===1?(a.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(a)-1,this.options.snappable&&this._cleanupSnapping()):a.on("click",()=>1),a},_setTooltipText(){let{length:i}=this._layer.getLatLngs().flat(),a="";i<=2?a=qe("tooltips.continueLine"):a=qe("tooltips.finishPoly"),this._hintMarker.setTooltipContent(a)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let i=this._layer.getLatLngs();if(i.length<=2)return;let a=L.polygon(i,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let u=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(u))}}),Jt.Rectangle=Jt.extend({initialize(i){this._map=i,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(i){if(L.Util.setOptions(this,i),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(qe("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let a=0;a<2;a+=1){let u=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(u,"vertexPane"),u._pmTempLayer=!0,this._layerGroup.addLayer(u),this._styleMarkers.push(u)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_placeStartingMarkers(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let a=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(a),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(u=>{L.DomUtil.addClass(u._icon,"visible"),u.setLatLng(a)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(qe("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let i=this._startMarker.getLatLng();i&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([i,i]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let u=i;u.target=this._hintMarker,this._handleSnapping(u)}let a=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(a,"Draw")},_syncRectangleSize(){let i=Tu(this._startMarker.getLatLng(),this._map),a=Tu(this._hintMarker.getLatLng(),this._map),u=L.PM.Utils._getRotatedRectangle(i,a,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(u),this.options.cursorMarker&&this._styleMarkers){let h=[];u.forEach(p=>{!p.equals(i,1e-8)&&!p.equals(a,1e-8)&&h.push(p)}),h.forEach((p,g)=>{try{this._styleMarkers[g].setLatLng(p)}catch{}})}},_findCorners(){let i=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(i[0],i[2],this.options.rectangleAngle||0,this._map)},_finishShape(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let a=this._hintMarker.getLatLng(),u=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||u.equals(a))return;let h=L.rectangle([u,a],this.options.pathOptions);if(this.options.rectangleAngle){let g=L.PM.Utils._getRotatedRectangle(u,a,this.options.rectangleAngle||0,this._map);h.setLatLngs(g),h.pm&&h.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._fireCreate(h);let p=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(p))},setStyle(){var i;(i=this._layer)==null||i.setStyle(this.options.pathOptions)}}),Jt.CircleMarker=Jt.extend({initialize(i){this._map=i,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(i){if(L.Util.setOptions(this,i),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let a={};L.extend(a,this.options.templineStyle),a.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),a),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(qe("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(qe("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(i=>{this.isRelevantMarker(i)&&i.pm.disable()})},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_placeCenterMarker(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let a=this._hintMarker.getLatLng();this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(qe("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let i=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,a])},_syncCircleRadius(){let i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),u=this._distanceCalculation(i,a);this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(u)},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let u=i;u.target=this._hintMarker,this._handleSnapping(u)}this._handleHintMarkerSnapping();let a=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(a,"Draw")},isRelevantMarker(i){return i instanceof L.CircleMarker&&!(i instanceof L.Circle)&&i.pm&&!i._pmTempLayer},_createMarker(i){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!i.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let a=this._hintMarker.getLatLng(),u=new this._BaseCircleClass(a,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(u,"layerPane"),this._finishLayer(u),u.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(u),this._fireCreate(u),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(i){i.pm&&this.options.markerEditable&&i.pm.enable()},_finishShape(i){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let a=this._centerMarker.getLatLng(),u=this._defaultRadius;if(this.options[this._editableOption]){let x=this._hintMarker.getLatLng();u=this._distanceCalculation(a,x),this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?u=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]&&(u=this.options[this._maxRadiusOption])}let h={...this.options.pathOptions,radius:u},p=new this._BaseCircleClass(a,h);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),p.pm&&p.pm._updateHiddenPolyCircle(),this._fireCreate(p);let g=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(g))},_getNewDestinationOfHintMarker(){let i=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return i;let a=this._centerMarker.getLatLng(),u=this._distanceCalculation(a,i);this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?i=wa(this._map,a,i,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]&&(i=wa(this._map,a,i,this._getMaxDistanceInMeter()))}return i},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),u=this._distanceCalculation(i,a);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){var a,u;let i={};L.extend(i,this.options.templineStyle),this.options[this._editableOption]&&(i.radius=0),(a=this._layer)==null||a.setStyle(i),(u=this._hintline)==null||u.setStyle(this.options.hintlineStyle)},_distanceCalculation(i,a){return this._map.project(i).distanceTo(this._map.project(a))}}),Jt.Circle=Jt.CircleMarker.extend({initialize(i){this._map=i,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(i,a){return this._map.distance(i,a)}});function zn(i){if(!i)throw new Error("coord is required");if(!Array.isArray(i)){if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates}if(Array.isArray(i)&&i.length>=2&&!Array.isArray(i[0])&&!Array.isArray(i[1]))return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ur(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function La(i){return i.type==="Feature"?i.geometry:i}function Ws(i,a){return i.type==="FeatureCollection"?"FeatureCollection":i.type==="GeometryCollection"?"GeometryCollection":i.type==="Feature"&&i.geometry!==null?i.geometry.type:i.type}function Ks(i,a,u){if(i!==null)for(var h,p,g,x,b,E,T,G=0,U=0,ae,ue=i.type,xe=ue==="FeatureCollection",Ee=ue==="Feature",Be=xe?i.features.length:1,st=0;st<Be;st++){T=xe?i.features[st].geometry:Ee?i.geometry:i,ae=T?T.type==="GeometryCollection":!1,b=ae?T.geometries.length:1;for(var V=0;V<b;V++){var K=0,ee=0;if(x=ae?T.geometries[V]:T,x!==null){E=x.coordinates;var le=x.type;switch(G=u&&(le==="Polygon"||le==="MultiPolygon")?1:0,le){case null:break;case"Point":if(a(E,U,st,K,ee)===!1)return!1;U++,K++;break;case"LineString":case"MultiPoint":for(h=0;h<E.length;h++){if(a(E[h],U,st,K,ee)===!1)return!1;U++,le==="MultiPoint"&&K++}le==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(h=0;h<E.length;h++){for(p=0;p<E[h].length-G;p++){if(a(E[h][p],U,st,K,ee)===!1)return!1;U++}le==="MultiLineString"&&K++,le==="Polygon"&&ee++}le==="Polygon"&&K++;break;case"MultiPolygon":for(h=0;h<E.length;h++){for(ee=0,p=0;p<E[h].length;p++){for(g=0;g<E[h][p].length-G;g++){if(a(E[h][p][g],U,st,K,ee)===!1)return!1;U++}ee++}K++}break;case"GeometryCollection":for(h=0;h<x.geometries.length;h++)if(Ks(x.geometries[h],a,u)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function hn(i,a){if(i.type==="Feature")a(i,0);else if(i.type==="FeatureCollection")for(var u=0;u<i.features.length&&a(i.features[u],u)!==!1;u++);}function ji(i,a,u){var h=u;return hn(i,function(p,g){g===0&&u===void 0?h=p:h=a(h,p,g)}),h}function wd(i,a){var u,h,p,g,x,b,E,T,G,U,ae=0,ue=i.type==="FeatureCollection",xe=i.type==="Feature",Ee=ue?i.features.length:1;for(u=0;u<Ee;u++){for(b=ue?i.features[u].geometry:xe?i.geometry:i,T=ue?i.features[u].properties:xe?i.properties:{},G=ue?i.features[u].bbox:xe?i.bbox:void 0,U=ue?i.features[u].id:xe?i.id:void 0,E=b?b.type==="GeometryCollection":!1,x=E?b.geometries.length:1,p=0;p<x;p++){if(g=E?b.geometries[p]:b,g===null){if(a(null,ae,T,G,U)===!1)return!1;continue}switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(a(g,ae,T,G,U)===!1)return!1;break}case"GeometryCollection":{for(h=0;h<g.geometries.length;h++)if(a(g.geometries[h],ae,T,G,U)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}ae++}}function qn(i,a){wd(i,function(u,h,p,g,x){var b=u===null?null:u.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return a(ui(u,p,{bbox:g,id:x}),h,0)===!1?!1:void 0}var E;switch(b){case"MultiPoint":E="Point";break;case"MultiLineString":E="LineString";break;case"MultiPolygon":E="Polygon";break}for(var T=0;T<u.coordinates.length;T++){var G=u.coordinates[T],U={type:E,coordinates:G};if(a(ui(U,p),h,T)===!1)return!1}})}function bd(i){if(!i)throw new Error("geojson is required");var a=[];return qn(i,function(u){Di(u,a)}),vn(a)}function Di(i,a){var u=[],h=i.geometry;if(h!==null){switch(h.type){case"Polygon":u=ur(h);break;case"LineString":u=[ur(h)]}u.forEach(function(p){var g=Ld(p,i.properties);g.forEach(function(x){x.id=a.length,a.push(x)})})}}function Ld(i,a){var u=[];return i.reduce(function(h,p){var g=Ur([h,p],a);return g.bbox=Mo(h,p),u.push(g),p}),u}function Mo(i,a){var u=i[0],h=i[1],p=a[0],g=a[1],x=u<p?u:p,b=h<g?h:g,E=u>p?u:p,T=h>g?h:g;return[x,b,E,T]}var ka=bd,Ca=m(ri(),1);function kd(i,a){var u={},h=[];if(i.type==="LineString"&&(i=ui(i)),a.type==="LineString"&&(a=ui(a)),i.type==="Feature"&&a.type==="Feature"&&i.geometry!==null&&a.geometry!==null&&i.geometry.type==="LineString"&&a.geometry.type==="LineString"&&i.geometry.coordinates.length===2&&a.geometry.coordinates.length===2){var p=br(i,a);return p&&h.push(p),vn(h)}var g=(0,Ca.default)();return g.load(ka(a)),hn(ka(i),function(x){hn(g.search(x),function(b){var E=br(x,b);if(E){var T=ur(E).join(",");u[T]||(u[T]=!0,h.push(E))}})}),vn(h)}function br(i,a){var u=ur(i),h=ur(a);if(u.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(h.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var p=u[0][0],g=u[0][1],x=u[1][0],b=u[1][1],E=h[0][0],T=h[0][1],G=h[1][0],U=h[1][1],ae=(U-T)*(x-p)-(G-E)*(b-g),ue=(G-E)*(g-T)-(U-T)*(p-E),xe=(x-p)*(g-T)-(b-g)*(p-E);if(ae===0)return null;var Ee=ue/ae,Be=xe/ae;if(Ee>=0&&Ee<=1&&Be>=0&&Be<=1){var st=p+Ee*(x-p),V=g+Ee*(b-g);return ci([st,V])}return null}var cr=kd,Nu=m(ri(),1);function qs(i,a,u){u===void 0&&(u={});var h=zn(i),p=zn(a),g=Fn(p[1]-h[1]),x=Fn(p[0]-h[0]),b=Fn(h[1]),E=Fn(p[1]),T=Math.pow(Math.sin(g/2),2)+Math.pow(Math.sin(x/2),2)*Math.cos(b)*Math.cos(E);return xd(2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T)),u.units)}var hi=qs;function Lr(i){var a=i[0],u=i[1],h=i[2],p=i[3],g=hi(i.slice(0,2),[h,u]),x=hi(i.slice(0,2),[a,p]);if(g>=x){var b=(u+p)/2;return[a,b-(h-a)/2,h,b+(h-a)/2]}else{var E=(a+h)/2;return[E-(p-u)/2,u,E+(p-u)/2,p]}}var Cd=Lr;function $r(i){var a=[1/0,1/0,-1/0,-1/0];return Ks(i,function(u){a[0]>u[0]&&(a[0]=u[0]),a[1]>u[1]&&(a[1]=u[1]),a[2]<u[0]&&(a[2]=u[0]),a[3]<u[1]&&(a[3]=u[1])}),a}$r.default=$r;var So=$r;function kr(i,a){a===void 0&&(a={});var u=a.precision,h=a.coordinates,p=a.mutate;if(u=u==null||isNaN(u)?6:u,h=h==null||isNaN(h)?3:h,!i)throw new Error("<geojson> is required");if(typeof u!="number")throw new Error("<precision> must be a number");if(typeof h!="number")throw new Error("<coordinates> must be a number");(p===!1||p===void 0)&&(i=JSON.parse(JSON.stringify(i)));var g=Math.pow(10,u);return Ks(i,function(x){Ea(x,g,h)}),i}function Ea(i,a,u){i.length>u&&i.splice(u,i.length);for(var h=0;h<i.length;h++)i[h]=Math.round(i[h]*a)/a;return i}var Ru=kr;function Ma(i,a,u){if(u===void 0&&(u={}),u.final===!0)return Sa(i,a);var h=zn(i),p=zn(a),g=Fn(h[0]),x=Fn(p[0]),b=Fn(h[1]),E=Fn(p[1]),T=Math.sin(x-g)*Math.cos(E),G=Math.cos(b)*Math.sin(E)-Math.sin(b)*Math.cos(E)*Math.cos(x-g);return xn(Math.atan2(T,G))}function Sa(i,a){var u=Ma(a,i);return u=(u+180)%360,u}function Pa(i,a,u,h){h===void 0&&(h={});var p=zn(i),g=Fn(p[0]),x=Fn(p[1]),b=Fn(u),E=Eo(a,h.units),T=Math.asin(Math.sin(x)*Math.cos(E)+Math.cos(x)*Math.sin(E)*Math.cos(b)),G=g+Math.atan2(Math.sin(b)*Math.sin(E)*Math.cos(x),Math.cos(E)-Math.sin(x)*Math.sin(T)),U=xn(G),ae=xn(T);return ci([U,ae],h.properties)}function Ta(i,a,u){u===void 0&&(u={});var h=ci([1/0,1/0],{dist:1/0}),p=0;return qn(i,function(g){for(var x=ur(g),b=0;b<x.length-1;b++){var E=ci(x[b]);E.properties.dist=hi(a,E,u);var T=ci(x[b+1]);T.properties.dist=hi(a,T,u);var G=hi(E,T,u),U=Math.max(E.properties.dist,T.properties.dist),ae=Ma(E,T),ue=Pa(a,U,ae+90,u),xe=Pa(a,U,ae-90,u),Ee=cr(Ur([ue.geometry.coordinates,xe.geometry.coordinates]),Ur([E.geometry.coordinates,T.geometry.coordinates])),Be=null;Ee.features.length>0&&(Be=Ee.features[0],Be.properties.dist=hi(a,Be,u),Be.properties.location=p+hi(E,Be,u)),E.properties.dist<h.properties.dist&&(h=E,h.properties.index=b,h.properties.location=p),T.properties.dist<h.properties.dist&&(h=T,h.properties.index=b+1,h.properties.location=p+G),Be&&Be.properties.dist<h.properties.dist&&(h=Be,h.properties.index=b),p+=G}}),h}var Oi=Ta;function Ba(i,a){if(!i)throw new Error("line is required");if(!a)throw new Error("splitter is required");var u=Ws(i),h=Ws(a);if(u!=="LineString")throw new Error("line must be LineString");if(h==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(h==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var p=Ru(a,{precision:7});switch(h){case"Point":return ja(i,p);case"MultiPoint":return Aa(i,p);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Aa(i,cr(i,p))}}function Aa(i,a){var u=[],h=(0,Nu.default)();return qn(a,function(p){if(u.forEach(function(b,E){b.id=E}),!u.length)u=ja(i,p).features,u.forEach(function(b){b.bbox||(b.bbox=Cd(So(b)))}),h.load(vn(u));else{var g=h.search(p);if(g.features.length){var x=Iu(p,g);u=u.filter(function(b){return b.id!==x.id}),h.remove(x),hn(ja(x,p),function(b){u.push(b),h.insert(b)})}}}),vn(u)}function ja(i,a){var u=[],h=ur(i)[0],p=ur(i)[i.geometry.coordinates.length-1];if(Ni(h,zn(a))||Ni(p,zn(a)))return vn([i]);var g=(0,Nu.default)(),x=ka(i);g.load(x);var b=g.search(a);if(!b.features.length)return vn([i]);var E=Iu(a,b),T=[h],G=ji(x,function(U,ae,ue){var xe=ur(ae)[1],Ee=zn(a);return ue===E.id?(U.push(Ee),u.push(Ur(U)),Ni(Ee,xe)?[Ee]:[Ee,xe]):(U.push(xe),U)},T);return G.length>1&&u.push(Ur(G)),vn(u)}function Iu(i,a){if(!a.features.length)throw new Error("lines must contain features");if(a.features.length===1)return a.features[0];var u,h=1/0;return hn(a,function(p){var g=Oi(p,i),x=g.properties.dist;x<h&&(u=p,h=x)}),u}function Ni(i,a){return i[0]===a[0]&&i[1]===a[1]}var Ed=Ba;function Po(i,a,u){if(u===void 0&&(u={}),!i)throw new Error("point is required");if(!a)throw new Error("polygon is required");var h=zn(i),p=La(a),g=p.type,x=a.bbox,b=p.coordinates;if(x&&zu(h,x)===!1)return!1;g==="Polygon"&&(b=[b]);for(var E=!1,T=0;T<b.length&&!E;T++)if(Fu(h,b[T][0],u.ignoreBoundary)){for(var G=!1,U=1;U<b[T].length&&!G;)Fu(h,b[T][U],!u.ignoreBoundary)&&(G=!0),U++;G||(E=!0)}return E}function Fu(i,a,u){var h=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var p=0,g=a.length-1;p<a.length;g=p++){var x=a[p][0],b=a[p][1],E=a[g][0],T=a[g][1],G=i[1]*(x-E)+b*(E-i[0])+T*(i[0]-x)===0&&(x-i[0])*(E-i[0])<=0&&(b-i[1])*(T-i[1])<=0;if(G)return!u;var U=b>i[1]!=T>i[1]&&i[0]<(E-x)*(i[1]-b)/(T-b)+x;U&&(h=!h)}return h}function zu(i,a){return a[0]<=i[0]&&a[1]<=i[1]&&a[2]>=i[0]&&a[3]>=i[1]}function Md(i,a,u){u===void 0&&(u={});for(var h=zn(i),p=ur(a),g=0;g<p.length-1;g++){var x=!1;if(u.ignoreEndVertices&&(g===0&&(x="start"),g===p.length-2&&(x="end"),g===0&&g+1===p.length-1&&(x="both")),hr(p[g],p[g+1],h,x,typeof u.epsilon>"u"?null:u.epsilon))return!0}return!1}function hr(i,a,u,h,p){var g=u[0],x=u[1],b=i[0],E=i[1],T=a[0],G=a[1],U=u[0]-b,ae=u[1]-E,ue=T-b,xe=G-E,Ee=U*xe-ae*ue;if(p!==null){if(Math.abs(Ee)>p)return!1}else if(Ee!==0)return!1;if(h){if(h==="start")return Math.abs(ue)>=Math.abs(xe)?ue>0?b<g&&g<=T:T<=g&&g<b:xe>0?E<x&&x<=G:G<=x&&x<E;if(h==="end")return Math.abs(ue)>=Math.abs(xe)?ue>0?b<=g&&g<T:T<g&&g<=b:xe>0?E<=x&&x<G:G<x&&x<=E;if(h==="both")return Math.abs(ue)>=Math.abs(xe)?ue>0?b<g&&g<T:T<g&&g<b:xe>0?E<x&&x<G:G<x&&x<E}else return Math.abs(ue)>=Math.abs(xe)?ue>0?b<=g&&g<=T:T<=g&&g<=b:xe>0?E<=x&&x<=G:G<=x&&x<=E;return!1}var Vr=Md;function Sd(i,a){var u=La(i),h=La(a),p=u.type,g=h.type,x=u.coordinates,b=h.coordinates;switch(p){case"Point":switch(g){case"Point":return Oa(x,b);default:throw new Error("feature2 "+g+" geometry not supported")}case"MultiPoint":switch(g){case"Point":return Da(u,h);case"MultiPoint":return Pd(u,h);default:throw new Error("feature2 "+g+" geometry not supported")}case"LineString":switch(g){case"Point":return Vr(h,u,{ignoreEndVertices:!0});case"LineString":return To(u,h);case"MultiPoint":return Uu(u,h);default:throw new Error("feature2 "+g+" geometry not supported")}case"Polygon":switch(g){case"Point":return Po(h,u,{ignoreBoundary:!0});case"LineString":return Bd(u,h);case"Polygon":return Ri(u,h);case"MultiPoint":return Td(u,h);default:throw new Error("feature2 "+g+" geometry not supported")}default:throw new Error("feature1 "+p+" geometry not supported")}}function Da(i,a){var u,h=!1;for(u=0;u<i.coordinates.length;u++)if(Oa(i.coordinates[u],a.coordinates)){h=!0;break}return h}function Pd(i,a){for(var u=0,h=a.coordinates;u<h.length;u++){for(var p=h[u],g=!1,x=0,b=i.coordinates;x<b.length;x++){var E=b[x];if(Oa(p,E)){g=!0;break}}if(!g)return!1}return!0}function Uu(i,a){for(var u=!1,h=0,p=a.coordinates;h<p.length;h++){var g=p[h];if(Vr(g,i,{ignoreEndVertices:!0})&&(u=!0),!Vr(g,i))return!1}return!!u}function Td(i,a){for(var u=0,h=a.coordinates;u<h.length;u++){var p=h[u];if(!Po(p,i,{ignoreBoundary:!0}))return!1}return!0}function To(i,a){for(var u=!1,h=0,p=a.coordinates;h<p.length;h++){var g=p[h];if(Vr({type:"Point",coordinates:g},i,{ignoreEndVertices:!0})&&(u=!0),!Vr({type:"Point",coordinates:g},i,{ignoreEndVertices:!1}))return!1}return u}function Bd(i,a){var u=!1,h=0,p=So(i),g=So(a);if(!Ys(p,g))return!1;for(h;h<a.coordinates.length-1;h++){var x=Ad(a.coordinates[h],a.coordinates[h+1]);if(Po({type:"Point",coordinates:x},i,{ignoreBoundary:!0})){u=!0;break}}return u}function Ri(i,a){if(i.type==="Feature"&&i.geometry===null||a.type==="Feature"&&a.geometry===null)return!1;var u=So(i),h=So(a);if(!Ys(u,h))return!1;for(var p=La(a).coordinates,g=0,x=p;g<x.length;g++)for(var b=x[g],E=0,T=b;E<T.length;E++){var G=T[E];if(!Po(G,i))return!1}return!0}function Ys(i,a){return!(i[0]>a[0]||i[2]<a[2]||i[1]>a[1]||i[3]<a[3])}function Oa(i,a){return i[0]===a[0]&&i[1]===a[1]}function Ad(i,a){return[(i[0]+a[0])/2,(i[1]+a[1])/2]}var Cr=m(Ir()),Xs=i=>()=>i,Na=i=>{let a=i?(u,h)=>h.minus(u).abs().isLessThanOrEqualTo(i):Xs(!1);return(u,h)=>a(u,h)?0:u.comparedTo(h)};function Bo(i){let a=i?(u,h,p,g,x)=>u.exponentiatedBy(2).isLessThanOrEqualTo(g.minus(h).exponentiatedBy(2).plus(x.minus(p).exponentiatedBy(2)).times(i)):Xs(!1);return(u,h,p)=>{let g=u.x,x=u.y,b=p.x,E=p.y,T=x.minus(E).times(h.x.minus(b)).minus(g.minus(b).times(h.y.minus(E)));return a(T,g,x,b,E)?0:T.comparedTo(0)}}var jd=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ii=Math.ceil,rn=Math.floor,dn="[BigNumber Error] ",Js=dn+"Number primitive has more than 15 significant digits: ",Yn=1e14,Ke=14,Ra=9007199254740991,Ia=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Er=1e7,Ht=1e9;function $u(i){var a,u,h,p=V.prototype={constructor:V,toString:null,valueOf:null},g=new V(1),x=20,b=4,E=-7,T=21,G=-1e7,U=1e7,ae=!1,ue=1,xe=0,Ee={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Be="0123456789abcdefghijklmnopqrstuvwxyz",st=!0;function V(P,A){var O,j,N,R,Y,q,J,oe,ie=this;if(!(ie instanceof V))return new V(P,A);if(A==null){if(P&&P._isBigNumber===!0){ie.s=P.s,!P.c||P.e>U?ie.c=ie.e=null:P.e<G?ie.c=[ie.e=0]:(ie.e=P.e,ie.c=P.c.slice());return}if((q=typeof P=="number")&&P*0==0){if(ie.s=1/P<0?(P=-P,-1):1,P===~~P){for(R=0,Y=P;Y>=10;Y/=10,R++);R>U?ie.c=ie.e=null:(ie.e=R,ie.c=[P]);return}oe=String(P)}else{if(!jd.test(oe=String(P)))return h(ie,oe,q);ie.s=oe.charCodeAt(0)==45?(oe=oe.slice(1),-1):1}(R=oe.indexOf("."))>-1&&(oe=oe.replace(".","")),(Y=oe.search(/e/i))>0?(R<0&&(R=Y),R+=+oe.slice(Y+1),oe=oe.substring(0,Y)):R<0&&(R=oe.length)}else{if(r(A,2,Be.length,"Base"),A==10&&st)return ie=new V(P),te(ie,x+ie.e+1,b);if(oe=String(P),q=typeof P=="number"){if(P*0!=0)return h(ie,oe,q,A);if(ie.s=1/P<0?(oe=oe.slice(1),-1):1,V.DEBUG&&oe.replace(/^0\.0*|\./,"").length>15)throw Error(Js+P)}else ie.s=oe.charCodeAt(0)===45?(oe=oe.slice(1),-1):1;for(O=Be.slice(0,A),R=Y=0,J=oe.length;Y<J;Y++)if(O.indexOf(j=oe.charAt(Y))<0){if(j=="."){if(Y>R){R=J;continue}}else if(!N&&(oe==oe.toUpperCase()&&(oe=oe.toLowerCase())||oe==oe.toLowerCase()&&(oe=oe.toUpperCase()))){N=!0,Y=-1,R=0;continue}return h(ie,String(P),q,A)}q=!1,oe=u(oe,A,10,ie.s),(R=oe.indexOf("."))>-1?oe=oe.replace(".",""):R=oe.length}for(Y=0;oe.charCodeAt(Y)===48;Y++);for(J=oe.length;oe.charCodeAt(--J)===48;);if(oe=oe.slice(Y,++J)){if(J-=Y,q&&V.DEBUG&&J>15&&(P>Ra||P!==rn(P)))throw Error(Js+ie.s*P);if((R=R-Y-1)>U)ie.c=ie.e=null;else if(R<G)ie.c=[ie.e=0];else{if(ie.e=R,ie.c=[],Y=(R+1)%Ke,R<0&&(Y+=Ke),Y<J){for(Y&&ie.c.push(+oe.slice(0,Y)),J-=Ke;Y<J;)ie.c.push(+oe.slice(Y,Y+=Ke));Y=Ke-(oe=oe.slice(Y)).length}else Y-=J;for(;Y--;oe+="0");ie.c.push(+oe)}}else ie.c=[ie.e=0]}V.clone=$u,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(P){var A,O;if(P!=null)if(typeof P=="object"){if(P.hasOwnProperty(A="DECIMAL_PLACES")&&(O=P[A],r(O,0,Ht,A),x=O),P.hasOwnProperty(A="ROUNDING_MODE")&&(O=P[A],r(O,0,8,A),b=O),P.hasOwnProperty(A="EXPONENTIAL_AT")&&(O=P[A],O&&O.pop?(r(O[0],-Ht,0,A),r(O[1],0,Ht,A),E=O[0],T=O[1]):(r(O,-Ht,Ht,A),E=-(T=O<0?-O:O))),P.hasOwnProperty(A="RANGE"))if(O=P[A],O&&O.pop)r(O[0],-Ht,-1,A),r(O[1],1,Ht,A),G=O[0],U=O[1];else if(r(O,-Ht,Ht,A),O)G=-(U=O<0?-O:O);else throw Error(dn+A+" cannot be zero: "+O);if(P.hasOwnProperty(A="CRYPTO"))if(O=P[A],O===!!O)if(O)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ae=O;else throw ae=!O,Error(dn+"crypto unavailable");else ae=O;else throw Error(dn+A+" not true or false: "+O);if(P.hasOwnProperty(A="MODULO_MODE")&&(O=P[A],r(O,0,9,A),ue=O),P.hasOwnProperty(A="POW_PRECISION")&&(O=P[A],r(O,0,Ht,A),xe=O),P.hasOwnProperty(A="FORMAT"))if(O=P[A],typeof O=="object")Ee=O;else throw Error(dn+A+" not an object: "+O);if(P.hasOwnProperty(A="ALPHABET"))if(O=P[A],typeof O=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(O))st=O.slice(0,10)=="0123456789",Be=O;else throw Error(dn+A+" invalid: "+O)}else throw Error(dn+"Object expected: "+P);return{DECIMAL_PLACES:x,ROUNDING_MODE:b,EXPONENTIAL_AT:[E,T],RANGE:[G,U],CRYPTO:ae,MODULO_MODE:ue,POW_PRECISION:xe,FORMAT:Ee,ALPHABET:Be}},V.isBigNumber=function(P){if(!P||P._isBigNumber!==!0)return!1;if(!V.DEBUG)return!0;var A,O,j=P.c,N=P.e,R=P.s;e:if({}.toString.call(j)=="[object Array]"){if((R===1||R===-1)&&N>=-Ht&&N<=Ht&&N===rn(N)){if(j[0]===0){if(N===0&&j.length===1)return!0;break e}if(A=(N+1)%Ke,A<1&&(A+=Ke),String(j[0]).length==A){for(A=0;A<j.length;A++)if(O=j[A],O<0||O>=Yn||O!==rn(O))break e;if(O!==0)return!0}}}else if(j===null&&N===null&&(R===null||R===1||R===-1))return!0;throw Error(dn+"Invalid BigNumber: "+P)},V.maximum=V.max=function(){return ee(arguments,-1)},V.minimum=V.min=function(){return ee(arguments,1)},V.random=function(){var P=9007199254740992,A=Math.random()*P&2097151?function(){return rn(Math.random()*P)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(O){var j,N,R,Y,q,J=0,oe=[],ie=new V(g);if(O==null?O=x:r(O,0,Ht),Y=Ii(O/Ke),ae)if(crypto.getRandomValues){for(j=crypto.getRandomValues(new Uint32Array(Y*=2));J<Y;)q=j[J]*131072+(j[J+1]>>>11),q>=9e15?(N=crypto.getRandomValues(new Uint32Array(2)),j[J]=N[0],j[J+1]=N[1]):(oe.push(q%1e14),J+=2);J=Y/2}else if(crypto.randomBytes){for(j=crypto.randomBytes(Y*=7);J<Y;)q=(j[J]&31)*281474976710656+j[J+1]*1099511627776+j[J+2]*4294967296+j[J+3]*16777216+(j[J+4]<<16)+(j[J+5]<<8)+j[J+6],q>=9e15?crypto.randomBytes(7).copy(j,J):(oe.push(q%1e14),J+=7);J=Y/7}else throw ae=!1,Error(dn+"crypto unavailable");if(!ae)for(;J<Y;)q=A(),q<9e15&&(oe[J++]=q%1e14);for(Y=oe[--J],O%=Ke,Y&&O&&(q=Ia[Ke-O],oe[J]=rn(Y/q)*q);oe[J]===0;oe.pop(),J--);if(J<0)oe=[R=0];else{for(R=-1;oe[0]===0;oe.splice(0,1),R-=Ke);for(J=1,q=oe[0];q>=10;q/=10,J++);J<Ke&&(R-=Ke-J)}return ie.e=R,ie.c=oe,ie}}(),V.sum=function(){for(var P=1,A=arguments,O=new V(A[0]);P<A.length;)O=O.plus(A[P++]);return O},u=function(){var P="0123456789";function A(O,j,N,R){for(var Y,q=[0],J,oe=0,ie=O.length;oe<ie;){for(J=q.length;J--;q[J]*=j);for(q[0]+=R.indexOf(O.charAt(oe++)),Y=0;Y<q.length;Y++)q[Y]>N-1&&(q[Y+1]==null&&(q[Y+1]=0),q[Y+1]+=q[Y]/N|0,q[Y]%=N)}return q.reverse()}return function(O,j,N,R,Y){var q,J,oe,ie,ge,Te,De,Ue,mt=O.indexOf("."),bt=x,dt=b;for(mt>=0&&(ie=xe,xe=0,O=O.replace(".",""),Ue=new V(j),Te=Ue.pow(O.length-mt),xe=ie,Ue.c=A(_(Pn(Te.c),Te.e,"0"),10,N,P),Ue.e=Ue.c.length),De=A(O,j,N,Y?(q=Be,P):(q=P,Be)),oe=ie=De.length;De[--ie]==0;De.pop());if(!De[0])return q.charAt(0);if(mt<0?--oe:(Te.c=De,Te.e=oe,Te.s=R,Te=a(Te,Ue,bt,dt,N),De=Te.c,ge=Te.r,oe=Te.e),J=oe+bt+1,mt=De[J],ie=N/2,ge=ge||J<0||De[J+1]!=null,ge=dt<4?(mt!=null||ge)&&(dt==0||dt==(Te.s<0?3:2)):mt>ie||mt==ie&&(dt==4||ge||dt==6&&De[J-1]&1||dt==(Te.s<0?8:7)),J<1||!De[0])O=ge?_(q.charAt(1),-bt,q.charAt(0)):q.charAt(0);else{if(De.length=J,ge)for(--N;++De[--J]>N;)De[J]=0,J||(++oe,De=[1].concat(De));for(ie=De.length;!De[--ie];);for(mt=0,O="";mt<=ie;O+=q.charAt(De[mt++]));O=_(O,oe,q.charAt(0))}return O}}(),a=function(){function P(j,N,R){var Y,q,J,oe,ie=0,ge=j.length,Te=N%Er,De=N/Er|0;for(j=j.slice();ge--;)J=j[ge]%Er,oe=j[ge]/Er|0,Y=De*J+oe*Te,q=Te*J+Y%Er*Er+ie,ie=(q/R|0)+(Y/Er|0)+De*oe,j[ge]=q%R;return ie&&(j=[ie].concat(j)),j}function A(j,N,R,Y){var q,J;if(R!=Y)J=R>Y?1:-1;else for(q=J=0;q<R;q++)if(j[q]!=N[q]){J=j[q]>N[q]?1:-1;break}return J}function O(j,N,R,Y){for(var q=0;R--;)j[R]-=q,q=j[R]<N[R]?1:0,j[R]=q*Y+j[R]-N[R];for(;!j[0]&&j.length>1;j.splice(0,1));}return function(j,N,R,Y,q){var J,oe,ie,ge,Te,De,Ue,mt,bt,dt,Lt,bn,qu,Fd,zd,Gr,nl,pr=j.s==N.s?1:-1,Tn=j.c,$t=N.c;if(!Tn||!Tn[0]||!$t||!$t[0])return new V(!j.s||!N.s||(Tn?$t&&Tn[0]==$t[0]:!$t)?NaN:Tn&&Tn[0]==0||!$t?pr*0:pr/0);for(mt=new V(pr),bt=mt.c=[],oe=j.e-N.e,pr=R+oe+1,q||(q=Yn,oe=Sn(j.e/Ke)-Sn(N.e/Ke),pr=pr/Ke|0),ie=0;$t[ie]==(Tn[ie]||0);ie++);if($t[ie]>(Tn[ie]||0)&&oe--,pr<0)bt.push(1),ge=!0;else{for(Fd=Tn.length,Gr=$t.length,ie=0,pr+=2,Te=rn(q/($t[0]+1)),Te>1&&($t=P($t,Te,q),Tn=P(Tn,Te,q),Gr=$t.length,Fd=Tn.length),qu=Gr,dt=Tn.slice(0,Gr),Lt=dt.length;Lt<Gr;dt[Lt++]=0);nl=$t.slice(),nl=[0].concat(nl),zd=$t[0],$t[1]>=q/2&&zd++;do{if(Te=0,J=A($t,dt,Gr,Lt),J<0){if(bn=dt[0],Gr!=Lt&&(bn=bn*q+(dt[1]||0)),Te=rn(bn/zd),Te>1)for(Te>=q&&(Te=q-1),De=P($t,Te,q),Ue=De.length,Lt=dt.length;A(De,dt,Ue,Lt)==1;)Te--,O(De,Gr<Ue?nl:$t,Ue,q),Ue=De.length,J=1;else Te==0&&(J=Te=1),De=$t.slice(),Ue=De.length;if(Ue<Lt&&(De=[0].concat(De)),O(dt,De,Lt,q),Lt=dt.length,J==-1)for(;A($t,dt,Gr,Lt)<1;)Te++,O(dt,Gr<Lt?nl:$t,Lt,q),Lt=dt.length}else J===0&&(Te++,dt=[0]);bt[ie++]=Te,dt[0]?dt[Lt++]=Tn[qu]||0:(dt=[Tn[qu]],Lt=1)}while((qu++<Fd||dt[0]!=null)&&pr--);ge=dt[0]!=null,bt[0]||bt.splice(0,1)}if(q==Yn){for(ie=1,pr=bt[0];pr>=10;pr/=10,ie++);te(mt,R+(mt.e=ie+oe*Ke-1)+1,Y,ge)}else mt.e=oe,mt.r=+ge;return mt}}();function K(P,A,O,j){var N,R,Y,q,J;if(O==null?O=b:r(O,0,8),!P.c)return P.toString();if(N=P.c[0],Y=P.e,A==null)J=Pn(P.c),J=j==1||j==2&&(Y<=E||Y>=T)?d(J,Y):_(J,Y,"0");else if(P=te(new V(P),A,O),R=P.e,J=Pn(P.c),q=J.length,j==1||j==2&&(A<=R||R<=E)){for(;q<A;J+="0",q++);J=d(J,R)}else if(A-=Y,J=_(J,R,"0"),R+1>q){if(--A>0)for(J+=".";A--;J+="0");}else if(A+=R-q,A>0)for(R+1==q&&(J+=".");A--;J+="0");return P.s<0&&N?"-"+J:J}function ee(P,A){for(var O,j,N=1,R=new V(P[0]);N<P.length;N++)j=new V(P[N]),(!j.s||(O=di(R,j))===A||O===0&&R.s===A)&&(R=j);return R}function le(P,A,O){for(var j=1,N=A.length;!A[--N];A.pop());for(N=A[0];N>=10;N/=10,j++);return(O=j+O*Ke-1)>U?P.c=P.e=null:O<G?P.c=[P.e=0]:(P.e=O,P.c=A),P}h=function(){var P=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,O=/^\.([^.]+)$/,j=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(R,Y,q,J){var oe,ie=q?Y:Y.replace(N,"");if(j.test(ie))R.s=isNaN(ie)?null:ie<0?-1:1;else{if(!q&&(ie=ie.replace(P,function(ge,Te,De){return oe=(De=De.toLowerCase())=="x"?16:De=="b"?2:8,!J||J==oe?Te:ge}),J&&(oe=J,ie=ie.replace(A,"$1").replace(O,"0.$1")),Y!=ie))return new V(ie,oe);if(V.DEBUG)throw Error(dn+"Not a"+(J?" base "+J:"")+" number: "+Y);R.s=null}R.c=R.e=null}}();function te(P,A,O,j){var N,R,Y,q,J,oe,ie,ge=P.c,Te=Ia;if(ge){e:{for(N=1,q=ge[0];q>=10;q/=10,N++);if(R=A-N,R<0)R+=Ke,Y=A,J=ge[oe=0],ie=rn(J/Te[N-Y-1]%10);else if(oe=Ii((R+1)/Ke),oe>=ge.length)if(j){for(;ge.length<=oe;ge.push(0));J=ie=0,N=1,R%=Ke,Y=R-Ke+1}else break e;else{for(J=q=ge[oe],N=1;q>=10;q/=10,N++);R%=Ke,Y=R-Ke+N,ie=Y<0?0:rn(J/Te[N-Y-1]%10)}if(j=j||A<0||ge[oe+1]!=null||(Y<0?J:J%Te[N-Y-1]),j=O<4?(ie||j)&&(O==0||O==(P.s<0?3:2)):ie>5||ie==5&&(O==4||j||O==6&&(R>0?Y>0?J/Te[N-Y]:0:ge[oe-1])%10&1||O==(P.s<0?8:7)),A<1||!ge[0])return ge.length=0,j?(A-=P.e+1,ge[0]=Te[(Ke-A%Ke)%Ke],P.e=-A||0):ge[0]=P.e=0,P;if(R==0?(ge.length=oe,q=1,oe--):(ge.length=oe+1,q=Te[Ke-R],ge[oe]=Y>0?rn(J/Te[N-Y]%Te[Y])*q:0),j)for(;;)if(oe==0){for(R=1,Y=ge[0];Y>=10;Y/=10,R++);for(Y=ge[0]+=q,q=1;Y>=10;Y/=10,q++);R!=q&&(P.e++,ge[0]==Yn&&(ge[0]=1));break}else{if(ge[oe]+=q,ge[oe]!=Yn)break;ge[oe--]=0,q=1}for(R=ge.length;ge[--R]===0;ge.pop());}P.e>U?P.c=P.e=null:P.e<G&&(P.c=[P.e=0])}return P}function se(P){var A,O=P.e;return O===null?P.toString():(A=Pn(P.c),A=O<=E||O>=T?d(A,O):_(A,O,"0"),P.s<0?"-"+A:A)}return p.absoluteValue=p.abs=function(){var P=new V(this);return P.s<0&&(P.s=1),P},p.comparedTo=function(P,A){return di(this,new V(P,A))},p.decimalPlaces=p.dp=function(P,A){var O,j,N,R=this;if(P!=null)return r(P,0,Ht),A==null?A=b:r(A,0,8),te(new V(R),P+R.e+1,A);if(!(O=R.c))return null;if(j=((N=O.length-1)-Sn(this.e/Ke))*Ke,N=O[N])for(;N%10==0;N/=10,j--);return j<0&&(j=0),j},p.dividedBy=p.div=function(P,A){return a(this,new V(P,A),x,b)},p.dividedToIntegerBy=p.idiv=function(P,A){return a(this,new V(P,A),0,1)},p.exponentiatedBy=p.pow=function(P,A){var O,j,N,R,Y,q,J,oe,ie,ge=this;if(P=new V(P),P.c&&!P.isInteger())throw Error(dn+"Exponent not an integer: "+se(P));if(A!=null&&(A=new V(A)),q=P.e>14,!ge.c||!ge.c[0]||ge.c[0]==1&&!ge.e&&ge.c.length==1||!P.c||!P.c[0])return ie=new V(Math.pow(+se(ge),q?P.s*(2-s(P)):+se(P))),A?ie.mod(A):ie;if(J=P.s<0,A){if(A.c?!A.c[0]:!A.s)return new V(NaN);j=!J&&ge.isInteger()&&A.isInteger(),j&&(ge=ge.mod(A))}else{if(P.e>9&&(ge.e>0||ge.e<-1||(ge.e==0?ge.c[0]>1||q&&ge.c[1]>=24e7:ge.c[0]<8e13||q&&ge.c[0]<=9999975e7)))return R=ge.s<0&&s(P)?-0:0,ge.e>-1&&(R=1/R),new V(J?1/R:R);xe&&(R=Ii(xe/Ke+2))}for(q?(O=new V(.5),J&&(P.s=1),oe=s(P)):(N=Math.abs(+se(P)),oe=N%2),ie=new V(g);;){if(oe){if(ie=ie.times(ge),!ie.c)break;R?ie.c.length>R&&(ie.c.length=R):j&&(ie=ie.mod(A))}if(N){if(N=rn(N/2),N===0)break;oe=N%2}else if(P=P.times(O),te(P,P.e+1,1),P.e>14)oe=s(P);else{if(N=+se(P),N===0)break;oe=N%2}ge=ge.times(ge),R?ge.c&&ge.c.length>R&&(ge.c.length=R):j&&(ge=ge.mod(A))}return j?ie:(J&&(ie=g.div(ie)),A?ie.mod(A):R?te(ie,xe,b,Y):ie)},p.integerValue=function(P){var A=new V(this);return P==null?P=b:r(P,0,8),te(A,A.e+1,P)},p.isEqualTo=p.eq=function(P,A){return di(this,new V(P,A))===0},p.isFinite=function(){return!!this.c},p.isGreaterThan=p.gt=function(P,A){return di(this,new V(P,A))>0},p.isGreaterThanOrEqualTo=p.gte=function(P,A){return(A=di(this,new V(P,A)))===1||A===0},p.isInteger=function(){return!!this.c&&Sn(this.e/Ke)>this.c.length-2},p.isLessThan=p.lt=function(P,A){return di(this,new V(P,A))<0},p.isLessThanOrEqualTo=p.lte=function(P,A){return(A=di(this,new V(P,A)))===-1||A===0},p.isNaN=function(){return!this.s},p.isNegative=function(){return this.s<0},p.isPositive=function(){return this.s>0},p.isZero=function(){return!!this.c&&this.c[0]==0},p.minus=function(P,A){var O,j,N,R,Y=this,q=Y.s;if(P=new V(P,A),A=P.s,!q||!A)return new V(NaN);if(q!=A)return P.s=-A,Y.plus(P);var J=Y.e/Ke,oe=P.e/Ke,ie=Y.c,ge=P.c;if(!J||!oe){if(!ie||!ge)return ie?(P.s=-A,P):new V(ge?Y:NaN);if(!ie[0]||!ge[0])return ge[0]?(P.s=-A,P):new V(ie[0]?Y:b==3?-0:0)}if(J=Sn(J),oe=Sn(oe),ie=ie.slice(),q=J-oe){for((R=q<0)?(q=-q,N=ie):(oe=J,N=ge),N.reverse(),A=q;A--;N.push(0));N.reverse()}else for(j=(R=(q=ie.length)<(A=ge.length))?q:A,q=A=0;A<j;A++)if(ie[A]!=ge[A]){R=ie[A]<ge[A];break}if(R&&(N=ie,ie=ge,ge=N,P.s=-P.s),A=(j=ge.length)-(O=ie.length),A>0)for(;A--;ie[O++]=0);for(A=Yn-1;j>q;){if(ie[--j]<ge[j]){for(O=j;O&&!ie[--O];ie[O]=A);--ie[O],ie[j]+=Yn}ie[j]-=ge[j]}for(;ie[0]==0;ie.splice(0,1),--oe);return ie[0]?le(P,ie,oe):(P.s=b==3?-1:1,P.c=[P.e=0],P)},p.modulo=p.mod=function(P,A){var O,j,N=this;return P=new V(P,A),!N.c||!P.s||P.c&&!P.c[0]?new V(NaN):!P.c||N.c&&!N.c[0]?new V(N):(ue==9?(j=P.s,P.s=1,O=a(N,P,0,3),P.s=j,O.s*=j):O=a(N,P,0,ue),P=N.minus(O.times(P)),!P.c[0]&&ue==1&&(P.s=N.s),P)},p.multipliedBy=p.times=function(P,A){var O,j,N,R,Y,q,J,oe,ie,ge,Te,De,Ue,mt,bt,dt=this,Lt=dt.c,bn=(P=new V(P,A)).c;if(!Lt||!bn||!Lt[0]||!bn[0])return!dt.s||!P.s||Lt&&!Lt[0]&&!bn||bn&&!bn[0]&&!Lt?P.c=P.e=P.s=null:(P.s*=dt.s,!Lt||!bn?P.c=P.e=null:(P.c=[0],P.e=0)),P;for(j=Sn(dt.e/Ke)+Sn(P.e/Ke),P.s*=dt.s,J=Lt.length,ge=bn.length,J<ge&&(Ue=Lt,Lt=bn,bn=Ue,N=J,J=ge,ge=N),N=J+ge,Ue=[];N--;Ue.push(0));for(mt=Yn,bt=Er,N=ge;--N>=0;){for(O=0,Te=bn[N]%bt,De=bn[N]/bt|0,Y=J,R=N+Y;R>N;)oe=Lt[--Y]%bt,ie=Lt[Y]/bt|0,q=De*oe+ie*Te,oe=Te*oe+q%bt*bt+Ue[R]+O,O=(oe/mt|0)+(q/bt|0)+De*ie,Ue[R--]=oe%mt;Ue[R]=O}return O?++j:Ue.splice(0,1),le(P,Ue,j)},p.negated=function(){var P=new V(this);return P.s=-P.s||null,P},p.plus=function(P,A){var O,j=this,N=j.s;if(P=new V(P,A),A=P.s,!N||!A)return new V(NaN);if(N!=A)return P.s=-A,j.minus(P);var R=j.e/Ke,Y=P.e/Ke,q=j.c,J=P.c;if(!R||!Y){if(!q||!J)return new V(N/0);if(!q[0]||!J[0])return J[0]?P:new V(q[0]?j:N*0)}if(R=Sn(R),Y=Sn(Y),q=q.slice(),N=R-Y){for(N>0?(Y=R,O=J):(N=-N,O=q),O.reverse();N--;O.push(0));O.reverse()}for(N=q.length,A=J.length,N-A<0&&(O=J,J=q,q=O,A=N),N=0;A;)N=(q[--A]=q[A]+J[A]+N)/Yn|0,q[A]=Yn===q[A]?0:q[A]%Yn;return N&&(q=[N].concat(q),++Y),le(P,q,Y)},p.precision=p.sd=function(P,A){var O,j,N,R=this;if(P!=null&&P!==!!P)return r(P,1,Ht),A==null?A=b:r(A,0,8),te(new V(R),P,A);if(!(O=R.c))return null;if(N=O.length-1,j=N*Ke+1,N=O[N]){for(;N%10==0;N/=10,j--);for(N=O[0];N>=10;N/=10,j++);}return P&&R.e+1>j&&(j=R.e+1),j},p.shiftedBy=function(P){return r(P,-Ra,Ra),this.times("1e"+P)},p.squareRoot=p.sqrt=function(){var P,A,O,j,N,R=this,Y=R.c,q=R.s,J=R.e,oe=x+4,ie=new V("0.5");if(q!==1||!Y||!Y[0])return new V(!q||q<0&&(!Y||Y[0])?NaN:Y?R:1/0);if(q=Math.sqrt(+se(R)),q==0||q==1/0?(A=Pn(Y),(A.length+J)%2==0&&(A+="0"),q=Math.sqrt(+A),J=Sn((J+1)/2)-(J<0||J%2),q==1/0?A="5e"+J:(A=q.toExponential(),A=A.slice(0,A.indexOf("e")+1)+J),O=new V(A)):O=new V(q+""),O.c[0]){for(J=O.e,q=J+oe,q<3&&(q=0);;)if(N=O,O=ie.times(N.plus(a(R,N,oe,1))),Pn(N.c).slice(0,q)===(A=Pn(O.c)).slice(0,q))if(O.e<J&&--q,A=A.slice(q-3,q+1),A=="9999"||!j&&A=="4999"){if(!j&&(te(N,N.e+x+2,0),N.times(N).eq(R))){O=N;break}oe+=4,q+=4,j=1}else{(!+A||!+A.slice(1)&&A.charAt(0)=="5")&&(te(O,O.e+x+2,1),P=!O.times(O).eq(R));break}}return te(O,O.e+x+1,b,P)},p.toExponential=function(P,A){return P!=null&&(r(P,0,Ht),P++),K(this,P,A,1)},p.toFixed=function(P,A){return P!=null&&(r(P,0,Ht),P=P+this.e+1),K(this,P,A)},p.toFormat=function(P,A,O){var j,N=this;if(O==null)P!=null&&A&&typeof A=="object"?(O=A,A=null):P&&typeof P=="object"?(O=P,P=A=null):O=Ee;else if(typeof O!="object")throw Error(dn+"Argument not an object: "+O);if(j=N.toFixed(P,A),N.c){var R,Y=j.split("."),q=+O.groupSize,J=+O.secondaryGroupSize,oe=O.groupSeparator||"",ie=Y[0],ge=Y[1],Te=N.s<0,De=Te?ie.slice(1):ie,Ue=De.length;if(J&&(R=q,q=J,J=R,Ue-=R),q>0&&Ue>0){for(R=Ue%q||q,ie=De.substr(0,R);R<Ue;R+=q)ie+=oe+De.substr(R,q);J>0&&(ie+=oe+De.slice(R)),Te&&(ie="-"+ie)}j=ge?ie+(O.decimalSeparator||"")+((J=+O.fractionGroupSize)?ge.replace(new RegExp("\\d{"+J+"}\\B","g"),"$&"+(O.fractionGroupSeparator||"")):ge):ie}return(O.prefix||"")+j+(O.suffix||"")},p.toFraction=function(P){var A,O,j,N,R,Y,q,J,oe,ie,ge,Te,De=this,Ue=De.c;if(P!=null&&(q=new V(P),!q.isInteger()&&(q.c||q.s!==1)||q.lt(g)))throw Error(dn+"Argument "+(q.isInteger()?"out of range: ":"not an integer: ")+se(q));if(!Ue)return new V(De);for(A=new V(g),oe=O=new V(g),j=J=new V(g),Te=Pn(Ue),R=A.e=Te.length-De.e-1,A.c[0]=Ia[(Y=R%Ke)<0?Ke+Y:Y],P=!P||q.comparedTo(A)>0?R>0?A:oe:q,Y=U,U=1/0,q=new V(Te),J.c[0]=0;ie=a(q,A,0,1),N=O.plus(ie.times(j)),N.comparedTo(P)!=1;)O=j,j=N,oe=J.plus(ie.times(N=oe)),J=N,A=q.minus(ie.times(N=A)),q=N;return N=a(P.minus(O),j,0,1),J=J.plus(N.times(oe)),O=O.plus(N.times(j)),J.s=oe.s=De.s,R=R*2,ge=a(oe,j,R,b).minus(De).abs().comparedTo(a(J,O,R,b).minus(De).abs())<1?[oe,j]:[J,O],U=Y,ge},p.toNumber=function(){return+se(this)},p.toPrecision=function(P,A){return P!=null&&r(P,1,Ht),K(this,P,A,2)},p.toString=function(P){var A,O=this,j=O.s,N=O.e;return N===null?j?(A="Infinity",j<0&&(A="-"+A)):A="NaN":(P==null?A=N<=E||N>=T?d(Pn(O.c),N):_(Pn(O.c),N,"0"):P===10&&st?(O=te(new V(O),x+N+1,b),A=_(Pn(O.c),O.e,"0")):(r(P,2,Be.length,"Base"),A=u(_(Pn(O.c),N,"0"),10,P,j,!0)),j<0&&O.c[0]&&(A="-"+A)),A},p.valueOf=p.toJSON=function(){return se(this)},p._isBigNumber=!0,p[Symbol.toStringTag]="BigNumber",p[Symbol.for("nodejs.util.inspect.custom")]=p.valueOf,i!=null&&V.set(i),V}function Sn(i){var a=i|0;return i>0||i===a?a:a-1}function Pn(i){for(var a,u,h=1,p=i.length,g=i[0]+"";h<p;){for(a=i[h++]+"",u=Ke-a.length;u--;a="0"+a);g+=a}for(p=g.length;g.charCodeAt(--p)===48;);return g.slice(0,p+1||1)}function di(i,a){var u,h,p=i.c,g=a.c,x=i.s,b=a.s,E=i.e,T=a.e;if(!x||!b)return null;if(u=p&&!p[0],h=g&&!g[0],u||h)return u?h?0:-b:x;if(x!=b)return x;if(u=x<0,h=E==T,!p||!g)return h?0:!p^u?1:-1;if(!h)return E>T^u?1:-1;for(b=(E=p.length)<(T=g.length)?E:T,x=0;x<b;x++)if(p[x]!=g[x])return p[x]>g[x]^u?1:-1;return E==T?0:E>T^u?1:-1}function r(i,a,u,h){if(i<a||i>u||i!==rn(i))throw Error(dn+(h||"Argument")+(typeof i=="number"?i<a||i>u?" out of range: ":" not an integer: ":" not a primitive number: ")+String(i))}function s(i){var a=i.c.length-1;return Sn(i.e/Ke)==a&&i.c[a]%2!=0}function d(i,a){return(i.length>1?i.charAt(0)+"."+i.slice(1):i)+(a<0?"e":"e+")+a}function _(i,a,u){var h,p;if(a<0){for(p=u+".";++a;p+=u);i=p+i}else if(h=i.length,++a>h){for(p=u,a-=h;--a;p+=u);i+=p}else a<h&&(i=i.slice(0,a)+"."+i.slice(a));return i}var k=$u(),B=k,W=class{constructor(i){ze(this,"key");ze(this,"left",null);ze(this,"right",null);this.key=i}},re=class extends W{constructor(i){super(i)}},ce=class{constructor(){ze(this,"size",0);ze(this,"modificationCount",0);ze(this,"splayCount",0)}splay(i){let a=this.root;if(a==null)return this.compare(i,i),-1;let u=null,h=null,p=null,g=null,x=a,b=this.compare,E;for(;;)if(E=b(x.key,i),E>0){let T=x.left;if(T==null||(E=b(T.key,i),E>0&&(x.left=T.right,T.right=x,x=T,T=x.left,T==null)))break;u==null?h=x:u.left=x,u=x,x=T}else if(E<0){let T=x.right;if(T==null||(E=b(T.key,i),E<0&&(x.right=T.left,T.left=x,x=T,T=x.right,T==null)))break;p==null?g=x:p.right=x,p=x,x=T}else break;return p!=null&&(p.right=x.left,x.left=g),u!=null&&(u.left=x.right,x.right=h),this.root!==x&&(this.root=x,this.splayCount++),E}splayMin(i){let a=i,u=a.left;for(;u!=null;){let h=u;a.left=h.right,h.right=a,a=h,u=a.left}return a}splayMax(i){let a=i,u=a.right;for(;u!=null;){let h=u;a.right=h.left,h.left=a,a=h,u=a.right}return a}_delete(i){if(this.root==null||this.splay(i)!=0)return null;let a=this.root,u=a,h=a.left;if(this.size--,h==null)this.root=a.right;else{let p=a.right;a=this.splayMax(h),a.right=p,this.root=a}return this.modificationCount++,u}addNewRoot(i,a){this.size++,this.modificationCount++;let u=this.root;if(u==null){this.root=i;return}a<0?(i.left=u,i.right=u.right,u.right=null):(i.right=u,i.left=u.left,u.left=null),this.root=i}_first(){let i=this.root;return i==null?null:(this.root=this.splayMin(i),this.root)}_last(){let i=this.root;return i==null?null:(this.root=this.splayMax(i),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(i){return this.validKey(i)&&this.splay(i)==0}defaultCompare(){return(i,a)=>i<a?-1:i>a?1:0}wrap(){return{getRoot:()=>this.root,setRoot:i=>{this.root=i},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:i=>{this.splayCount=i},splay:i=>this.splay(i),has:i=>this.has(i)}}},ye=(Ui=class extends ce{constructor(u,h){super();ze(this,"root",null);ze(this,"compare");ze(this,"validKey");ze(this,Hx,"[object Set]");this.compare=u??this.defaultCompare(),this.validKey=h??(p=>p!=null&&p!=null)}delete(u){return this.validKey(u)?this._delete(u)!=null:!1}deleteAll(u){for(let h of u)this.delete(h)}forEach(u){let h=this[Symbol.iterator](),p;for(;p=h.next(),!p.done;)u(p.value,p.value,this)}add(u){let h=this.splay(u);return h!=0&&this.addNewRoot(new re(u),h),this}addAndReturn(u){let h=this.splay(u);return h!=0&&this.addNewRoot(new re(u),h),this.root.key}addAll(u){for(let h of u)this.add(h)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(u){if(u==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(u)<0)return this.root.key;let h=this.root.left;if(h==null)return null;let p=h.right;for(;p!=null;)h=p,p=h.right;return h.key}firstAfter(u){if(u==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(u)>0)return this.root.key;let h=this.root.right;if(h==null)return null;let p=h.left;for(;p!=null;)h=p,p=h.left;return h.key}retainAll(u){let h=new Ui(this.compare,this.validKey),p=this.modificationCount;for(let g of u){if(p!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(g)&&this.splay(g)==0&&h.add(this.root.key)}h.size!=this.size&&(this.root=h.root,this.size=h.size,this.modificationCount++)}lookup(u){return!this.validKey(u)||this.splay(u)!=0?null:this.root.key}intersection(u){let h=new Ui(this.compare,this.validKey);for(let p of this)u.has(p)&&h.add(p);return h}difference(u){let h=new Ui(this.compare,this.validKey);for(let p of this)u.has(p)||h.add(p);return h}union(u){let h=this.clone();return h.addAll(u),h}clone(){let u=new Ui(this.compare,this.validKey);return u.size=this.size,u.root=this.copyNode(this.root),u}copyNode(u){if(u==null)return null;function h(g,x){let b,E;do{if(b=g.left,E=g.right,b!=null){let T=new re(b.key);x.left=T,h(b,T)}if(E!=null){let T=new re(E.key);x.right=T,g=E,x=T}}while(E!=null)}let p=new re(u.key);return h(u,p),p}toSet(){return this.clone()}entries(){return new et(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Ve(this.wrap())}},Hx=Symbol.toStringTag,Ui),Pe=class{constructor(i){ze(this,"tree");ze(this,"path",new Array);ze(this,"modificationCount",null);ze(this,"splayCount");this.tree=i,this.splayCount=i.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let i=this.path[this.path.length-1];return this.getValue(i)}rebuildPath(i){this.path.splice(0,this.path.length),this.tree.splay(i),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(i){for(;i!=null;)this.path.push(i),i=i.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let u=this.tree.getRoot();for(;u!=null;)this.path.push(u),u=u.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let i=this.path[this.path.length-1],a=i.right;if(a!=null){for(;a!=null;)this.path.push(a),a=a.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===i;)i=this.path.pop();return this.path.length>0}},Ve=class extends Pe{getValue(i){return i.key}},et=class extends Pe{getValue(i){return[i.key,i.key]}},fn=i=>i,qt=i=>{if(i){let a=new ye(Na(i)),u=new ye(Na(i)),h=(g,x)=>x.addAndReturn(g),p=g=>({x:h(g.x,a),y:h(g.y,u)});return p({x:new B(0),y:new B(0)}),p}return fn},wn=i=>({set:a=>{jt=wn(a)},reset:()=>wn(i),compare:Na(i),snap:qt(i),orient:Bo(i)}),jt=wn(),dr=(i,a)=>i.ll.x.isLessThanOrEqualTo(a.x)&&a.x.isLessThanOrEqualTo(i.ur.x)&&i.ll.y.isLessThanOrEqualTo(a.y)&&a.y.isLessThanOrEqualTo(i.ur.y),Qs=(i,a)=>{if(a.ur.x.isLessThan(i.ll.x)||i.ur.x.isLessThan(a.ll.x)||a.ur.y.isLessThan(i.ll.y)||i.ur.y.isLessThan(a.ll.y))return null;let u=i.ll.x.isLessThan(a.ll.x)?a.ll.x:i.ll.x,h=i.ur.x.isLessThan(a.ur.x)?i.ur.x:a.ur.x,p=i.ll.y.isLessThan(a.ll.y)?a.ll.y:i.ll.y,g=i.ur.y.isLessThan(a.ur.y)?i.ur.y:a.ur.y;return{ll:{x:u,y:p},ur:{x:h,y:g}}},Fa=(i,a)=>i.x.times(a.y).minus(i.y.times(a.x)),Vu=(i,a)=>i.x.times(a.x).plus(i.y.times(a.y)),Ao=i=>Vu(i,i).sqrt(),Dd=(i,a,u)=>{let h={x:a.x.minus(i.x),y:a.y.minus(i.y)},p={x:u.x.minus(i.x),y:u.y.minus(i.y)};return Fa(p,h).div(Ao(p)).div(Ao(h))},Gu=(i,a,u)=>{let h={x:a.x.minus(i.x),y:a.y.minus(i.y)},p={x:u.x.minus(i.x),y:u.y.minus(i.y)};return Vu(p,h).div(Ao(p)).div(Ao(h))},Rt=(i,a,u)=>a.y.isZero()?null:{x:i.x.plus(a.x.div(a.y).times(u.minus(i.y))),y:u},jo=(i,a,u)=>a.x.isZero()?null:{x:u,y:i.y.plus(a.y.div(a.x).times(u.minus(i.x)))},Od=(i,a,u,h)=>{if(a.x.isZero())return jo(u,h,i.x);if(h.x.isZero())return jo(i,a,u.x);if(a.y.isZero())return Rt(u,h,i.y);if(h.y.isZero())return Rt(i,a,u.y);let p=Fa(a,h);if(p.isZero())return null;let g={x:u.x.minus(i.x),y:u.y.minus(i.y)},x=Fa(g,a).div(p),b=Fa(g,h).div(p),E=i.x.plus(b.times(a.x)),T=u.x.plus(x.times(h.x)),G=i.y.plus(b.times(a.y)),U=u.y.plus(x.times(h.y)),ae=E.plus(T).div(2),ue=G.plus(U).div(2);return{x:ae,y:ue}},fr=class xx{constructor(a,u){ze(this,"point");ze(this,"isLeft");ze(this,"segment");ze(this,"otherSE");ze(this,"consumedBy");a.events===void 0?a.events=[this]:a.events.push(this),this.point=a,this.isLeft=u}static compare(a,u){let h=xx.comparePoints(a.point,u.point);return h!==0?h:(a.point!==u.point&&a.link(u),a.isLeft!==u.isLeft?a.isLeft?1:-1:Fi.compare(a.segment,u.segment))}static comparePoints(a,u){return a.x.isLessThan(u.x)?-1:a.x.isGreaterThan(u.x)?1:a.y.isLessThan(u.y)?-1:a.y.isGreaterThan(u.y)?1:0}link(a){if(a.point===this.point)throw new Error("Tried to link already linked events");let u=a.point.events;for(let h=0,p=u.length;h<p;h++){let g=u[h];this.point.events.push(g),g.point=this.point}this.checkForConsuming()}checkForConsuming(){let a=this.point.events.length;for(let u=0;u<a;u++){let h=this.point.events[u];if(h.segment.consumedBy===void 0)for(let p=u+1;p<a;p++){let g=this.point.events[p];g.consumedBy===void 0&&h.otherSE.point.events===g.otherSE.point.events&&h.segment.consume(g.segment)}}}getAvailableLinkedEvents(){let a=[];for(let u=0,h=this.point.events.length;u<h;u++){let p=this.point.events[u];p!==this&&!p.segment.ringOut&&p.segment.isInResult()&&a.push(p)}return a}getLeftmostComparator(a){let u=new Map,h=p=>{let g=p.otherSE;u.set(p,{sine:Dd(this.point,a.point,g.point),cosine:Gu(this.point,a.point,g.point)})};return(p,g)=>{u.has(p)||h(p),u.has(g)||h(g);let{sine:x,cosine:b}=u.get(p),{sine:E,cosine:T}=u.get(g);return x.isGreaterThanOrEqualTo(0)&&E.isGreaterThanOrEqualTo(0)?b.isLessThan(T)?1:b.isGreaterThan(T)?-1:0:x.isLessThan(0)&&E.isLessThan(0)?b.isLessThan(T)?-1:b.isGreaterThan(T)?1:0:E.isLessThan(x)?-1:E.isGreaterThan(x)?1:0}}},Nd=0,Fi=class Pc{constructor(a,u,h,p){ze(this,"id");ze(this,"leftSE");ze(this,"rightSE");ze(this,"rings");ze(this,"windings");ze(this,"ringOut");ze(this,"consumedBy");ze(this,"prev");ze(this,"_prevInResult");ze(this,"_beforeState");ze(this,"_afterState");ze(this,"_isInResult");this.id=++Nd,this.leftSE=a,a.segment=this,a.otherSE=u,this.rightSE=u,u.segment=this,u.otherSE=a,this.rings=h,this.windings=p}static compare(a,u){let h=a.leftSE.point.x,p=u.leftSE.point.x,g=a.rightSE.point.x,x=u.rightSE.point.x;if(x.isLessThan(h))return 1;if(g.isLessThan(p))return-1;let b=a.leftSE.point.y,E=u.leftSE.point.y,T=a.rightSE.point.y,G=u.rightSE.point.y;if(h.isLessThan(p)){if(E.isLessThan(b)&&E.isLessThan(T))return 1;if(E.isGreaterThan(b)&&E.isGreaterThan(T))return-1;let U=a.comparePoint(u.leftSE.point);if(U<0)return 1;if(U>0)return-1;let ae=u.comparePoint(a.rightSE.point);return ae!==0?ae:-1}if(h.isGreaterThan(p)){if(b.isLessThan(E)&&b.isLessThan(G))return-1;if(b.isGreaterThan(E)&&b.isGreaterThan(G))return 1;let U=u.comparePoint(a.leftSE.point);if(U!==0)return U;let ae=a.comparePoint(u.rightSE.point);return ae<0?1:ae>0?-1:1}if(b.isLessThan(E))return-1;if(b.isGreaterThan(E))return 1;if(g.isLessThan(x)){let U=u.comparePoint(a.rightSE.point);if(U!==0)return U}if(g.isGreaterThan(x)){let U=a.comparePoint(u.rightSE.point);if(U<0)return 1;if(U>0)return-1}if(!g.eq(x)){let U=T.minus(b),ae=g.minus(h),ue=G.minus(E),xe=x.minus(p);if(U.isGreaterThan(ae)&&ue.isLessThan(xe))return 1;if(U.isLessThan(ae)&&ue.isGreaterThan(xe))return-1}return g.isGreaterThan(x)?1:g.isLessThan(x)||T.isLessThan(G)?-1:T.isGreaterThan(G)?1:a.id<u.id?-1:a.id>u.id?1:0}static fromRing(a,u,h){let p,g,x,b=fr.comparePoints(a,u);if(b<0)p=a,g=u,x=1;else if(b>0)p=u,g=a,x=-1;else throw new Error(`Tried to create degenerate segment at [${a.x}, ${a.y}]`);let E=new fr(p,!0),T=new fr(g,!1);return new Pc(E,T,[h],[x])}replaceRightSE(a){this.rightSE=a,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let a=this.leftSE.point.y,u=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:a.isLessThan(u)?a:u},ur:{x:this.rightSE.point.x,y:a.isGreaterThan(u)?a:u}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(a){return a.x.eq(this.leftSE.point.x)&&a.y.eq(this.leftSE.point.y)||a.x.eq(this.rightSE.point.x)&&a.y.eq(this.rightSE.point.y)}comparePoint(a){return jt.orient(this.leftSE.point,a,this.rightSE.point)}getIntersection(a){let u=this.bbox(),h=a.bbox(),p=Qs(u,h);if(p===null)return null;let g=this.leftSE.point,x=this.rightSE.point,b=a.leftSE.point,E=a.rightSE.point,T=dr(u,b)&&this.comparePoint(b)===0,G=dr(h,g)&&a.comparePoint(g)===0,U=dr(u,E)&&this.comparePoint(E)===0,ae=dr(h,x)&&a.comparePoint(x)===0;if(G&&T)return ae&&!U?x:!ae&&U?E:null;if(G)return U&&g.x.eq(E.x)&&g.y.eq(E.y)?null:g;if(T)return ae&&x.x.eq(b.x)&&x.y.eq(b.y)?null:b;if(ae&&U)return null;if(ae)return x;if(U)return E;let ue=Od(g,this.vector(),b,a.vector());return ue===null||!dr(p,ue)?null:jt.snap(ue)}split(a){let u=[],h=a.events!==void 0,p=new fr(a,!0),g=new fr(a,!1),x=this.rightSE;this.replaceRightSE(g),u.push(g),u.push(p);let b=new Pc(p,x,this.rings.slice(),this.windings.slice());return fr.comparePoints(b.leftSE.point,b.rightSE.point)>0&&b.swapEvents(),fr.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),h&&(p.checkForConsuming(),g.checkForConsuming()),u}swapEvents(){let a=this.rightSE;this.rightSE=this.leftSE,this.leftSE=a,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let u=0,h=this.windings.length;u<h;u++)this.windings[u]*=-1}consume(a){let u=this,h=a;for(;u.consumedBy;)u=u.consumedBy;for(;h.consumedBy;)h=h.consumedBy;let p=Pc.compare(u,h);if(p!==0){if(p>0){let g=u;u=h,h=g}if(u.prev===h){let g=u;u=h,h=g}for(let g=0,x=h.rings.length;g<x;g++){let b=h.rings[g],E=h.windings[g],T=u.rings.indexOf(b);T===-1?(u.rings.push(b),u.windings.push(E)):u.windings[T]+=E}h.rings=null,h.windings=null,h.consumedBy=u,h.leftSE.consumedBy=u.leftSE,h.rightSE.consumedBy=u.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let a=this.prev.consumedBy||this.prev;this._beforeState=a.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let a=this.beforeState();this._afterState={rings:a.rings.slice(0),windings:a.windings.slice(0),multiPolys:[]};let u=this._afterState.rings,h=this._afterState.windings,p=this._afterState.multiPolys;for(let b=0,E=this.rings.length;b<E;b++){let T=this.rings[b],G=this.windings[b],U=u.indexOf(T);U===-1?(u.push(T),h.push(G)):h[U]+=G}let g=[],x=[];for(let b=0,E=u.length;b<E;b++){if(h[b]===0)continue;let T=u[b],G=T.poly;if(x.indexOf(G)===-1)if(T.isExterior)g.push(G);else{x.indexOf(G)===-1&&x.push(G);let U=g.indexOf(T.poly);U!==-1&&g.splice(U,1)}}for(let b=0,E=g.length;b<E;b++){let T=g[b].multiPoly;p.indexOf(T)===-1&&p.push(T)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let a=this.beforeState().multiPolys,u=this.afterState().multiPolys;switch(Hu.type){case"union":{let h=a.length===0,p=u.length===0;this._isInResult=h!==p;break}case"intersection":{let h,p;a.length<u.length?(h=a.length,p=u.length):(h=u.length,p=a.length),this._isInResult=p===Hu.numMultiPolys&&h<p;break}case"xor":{let h=Math.abs(a.length-u.length);this._isInResult=h%2===1;break}case"difference":{let h=p=>p.length===1&&p[0].isSubject;this._isInResult=h(a)!==h(u);break}}return this._isInResult}},el=class{constructor(i,a,u){ze(this,"poly");ze(this,"isExterior");ze(this,"segments");ze(this,"bbox");if(!Array.isArray(i)||i.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=a,this.isExterior=u,this.segments=[],typeof i[0][0]!="number"||typeof i[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let h=jt.snap({x:new B(i[0][0]),y:new B(i[0][1])});this.bbox={ll:{x:h.x,y:h.y},ur:{x:h.x,y:h.y}};let p=h;for(let g=1,x=i.length;g<x;g++){if(typeof i[g][0]!="number"||typeof i[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let b=jt.snap({x:new B(i[g][0]),y:new B(i[g][1])});b.x.eq(p.x)&&b.y.eq(p.y)||(this.segments.push(Fi.fromRing(p,b,this)),b.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=b.x),b.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=b.y),b.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=b.x),b.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=b.y),p=b)}(!h.x.eq(p.x)||!h.y.eq(p.y))&&this.segments.push(Fi.fromRing(p,h,this))}getSweepEvents(){let i=[];for(let a=0,u=this.segments.length;a<u;a++){let h=this.segments[a];i.push(h.leftSE),i.push(h.rightSE)}return i}},Rd=class{constructor(i,a){ze(this,"multiPoly");ze(this,"exteriorRing");ze(this,"interiorRings");ze(this,"bbox");if(!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new el(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let u=1,h=i.length;u<h;u++){let p=new el(i[u],this,!1);p.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=p.bbox.ur.y),this.interiorRings.push(p)}this.multiPoly=a}getSweepEvents(){let i=this.exteriorRing.getSweepEvents();for(let a=0,u=this.interiorRings.length;a<u;a++){let h=this.interiorRings[a].getSweepEvents();for(let p=0,g=h.length;p<g;p++)i.push(h[p])}return i}},sm=class{constructor(i,a){ze(this,"isSubject");ze(this,"polys");ze(this,"bbox");if(!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof i[0][0][0]=="number"&&(i=[i])}catch{}this.polys=[],this.bbox={ll:{x:new B(Number.POSITIVE_INFINITY),y:new B(Number.POSITIVE_INFINITY)},ur:{x:new B(Number.NEGATIVE_INFINITY),y:new B(Number.NEGATIVE_INFINITY)}};for(let u=0,h=i.length;u<h;u++){let p=new Rd(i[u],this);p.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=p.bbox.ur.y),this.polys.push(p)}this.isSubject=a}getSweepEvents(){let i=[];for(let a=0,u=this.polys.length;a<u;a++){let h=this.polys[a].getSweepEvents();for(let p=0,g=h.length;p<g;p++)i.push(h[p])}return i}},wx=class Fp{constructor(a){ze(this,"events");ze(this,"poly");ze(this,"_isExteriorRing");ze(this,"_enclosingRing");this.events=a;for(let u=0,h=a.length;u<h;u++)a[u].segment.ringOut=this;this.poly=null}static factory(a){let u=[];for(let h=0,p=a.length;h<p;h++){let g=a[h];if(!g.isInResult()||g.ringOut)continue;let x=null,b=g.leftSE,E=g.rightSE,T=[b],G=b.point,U=[];for(;x=b,b=E,T.push(b),b.point!==G;)for(;;){let ae=b.getAvailableLinkedEvents();if(ae.length===0){let Ee=T[0].point,Be=T[T.length-1].point;throw new Error(`Unable to complete output ring starting at [${Ee.x}, ${Ee.y}]. Last matching segment found ends at [${Be.x}, ${Be.y}].`)}if(ae.length===1){E=ae[0].otherSE;break}let ue=null;for(let Ee=0,Be=U.length;Ee<Be;Ee++)if(U[Ee].point===b.point){ue=Ee;break}if(ue!==null){let Ee=U.splice(ue)[0],Be=T.splice(Ee.index);Be.unshift(Be[0].otherSE),u.push(new Fp(Be.reverse()));continue}U.push({index:T.length,point:b.point});let xe=b.getLeftmostComparator(x);E=ae.sort(xe)[0].otherSE;break}u.push(new Fp(T))}return u}getGeom(){let a=this.events[0].point,u=[a];for(let T=1,G=this.events.length-1;T<G;T++){let U=this.events[T].point,ae=this.events[T+1].point;jt.orient(U,a,ae)!==0&&(u.push(U),a=U)}if(u.length===1)return null;let h=u[0],p=u[1];jt.orient(h,a,p)===0&&u.shift(),u.push(u[0]);let g=this.isExteriorRing()?1:-1,x=this.isExteriorRing()?0:u.length-1,b=this.isExteriorRing()?u.length:-1,E=[];for(let T=x;T!=b;T+=g)E.push([u[T].x.toNumber(),u[T].y.toNumber()]);return E}isExteriorRing(){if(this._isExteriorRing===void 0){let a=this.enclosingRing();this._isExteriorRing=a?!a.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var p,g;let a=this.events[0];for(let x=1,b=this.events.length;x<b;x++){let E=this.events[x];fr.compare(a,E)>0&&(a=E)}let u=a.segment.prevInResult(),h=u?u.prevInResult():null;for(;;){if(!u)return null;if(!h)return u.ringOut;if(h.ringOut!==u.ringOut)return((p=h.ringOut)==null?void 0:p.enclosingRing())!==u.ringOut?u.ringOut:(g=u.ringOut)==null?void 0:g.enclosingRing();u=h.prevInResult(),h=u?u.prevInResult():null}}},lm=class{constructor(i){ze(this,"exteriorRing");ze(this,"interiorRings");this.exteriorRing=i,i.poly=this,this.interiorRings=[]}addInterior(i){this.interiorRings.push(i),i.poly=this}getGeom(){let i=this.exteriorRing.getGeom();if(i===null)return null;let a=[i];for(let u=0,h=this.interiorRings.length;u<h;u++){let p=this.interiorRings[u].getGeom();p!==null&&a.push(p)}return a}},bx=class{constructor(i){ze(this,"rings");ze(this,"polys");this.rings=i,this.polys=this._composePolys(i)}getGeom(){let i=[];for(let a=0,u=this.polys.length;a<u;a++){let h=this.polys[a].getGeom();h!==null&&i.push(h)}return i}_composePolys(i){var u;let a=[];for(let h=0,p=i.length;h<p;h++){let g=i[h];if(!g.poly)if(g.isExteriorRing())a.push(new lm(g));else{let x=g.enclosingRing();x!=null&&x.poly||a.push(new lm(x)),(u=x==null?void 0:x.poly)==null||u.addInterior(g)}}return a}},Lx=class{constructor(i,a=Fi.compare){ze(this,"queue");ze(this,"tree");ze(this,"segments");this.queue=i,this.tree=new ye(a),this.segments=[]}process(i){let a=i.segment,u=[];if(i.consumedBy)return i.isLeft?this.queue.delete(i.otherSE):this.tree.delete(a),u;i.isLeft&&this.tree.add(a);let h=a,p=a;do h=this.tree.lastBefore(h);while(h!=null&&h.consumedBy!=null);do p=this.tree.firstAfter(p);while(p!=null&&p.consumedBy!=null);if(i.isLeft){let g=null;if(h){let b=h.getIntersection(a);if(b!==null&&(a.isAnEndpoint(b)||(g=b),!h.isAnEndpoint(b))){let E=this._splitSafely(h,b);for(let T=0,G=E.length;T<G;T++)u.push(E[T])}}let x=null;if(p){let b=p.getIntersection(a);if(b!==null&&(a.isAnEndpoint(b)||(x=b),!p.isAnEndpoint(b))){let E=this._splitSafely(p,b);for(let T=0,G=E.length;T<G;T++)u.push(E[T])}}if(g!==null||x!==null){let b=null;g===null?b=x:x===null?b=g:b=fr.comparePoints(g,x)<=0?g:x,this.queue.delete(a.rightSE),u.push(a.rightSE);let E=a.split(b);for(let T=0,G=E.length;T<G;T++)u.push(E[T])}u.length>0?(this.tree.delete(a),u.push(i)):(this.segments.push(a),a.prev=h)}else{if(h&&p){let g=h.getIntersection(p);if(g!==null){if(!h.isAnEndpoint(g)){let x=this._splitSafely(h,g);for(let b=0,E=x.length;b<E;b++)u.push(x[b])}if(!p.isAnEndpoint(g)){let x=this._splitSafely(p,g);for(let b=0,E=x.length;b<E;b++)u.push(x[b])}}}this.tree.delete(a)}return u}_splitSafely(i,a){this.tree.delete(i);let u=i.rightSE;this.queue.delete(u);let h=i.split(a);return h.push(u),i.consumedBy===void 0&&this.tree.add(i),h}},kx=class{constructor(){ze(this,"type");ze(this,"numMultiPolys")}run(i,a,u){tl.type=i;let h=[new sm(a,!0)];for(let E=0,T=u.length;E<T;E++)h.push(new sm(u[E],!1));if(tl.numMultiPolys=h.length,tl.type==="difference"){let E=h[0],T=1;for(;T<h.length;)Qs(h[T].bbox,E.bbox)!==null?T++:h.splice(T,1)}if(tl.type==="intersection")for(let E=0,T=h.length;E<T;E++){let G=h[E];for(let U=E+1,ae=h.length;U<ae;U++)if(Qs(G.bbox,h[U].bbox)===null)return[]}let p=new ye(fr.compare);for(let E=0,T=h.length;E<T;E++){let G=h[E].getSweepEvents();for(let U=0,ae=G.length;U<ae;U++)p.add(G[U])}let g=new Lx(p),x=null;for(p.size!=0&&(x=p.first(),p.delete(x));x;){let E=g.process(x);for(let T=0,G=E.length;T<G;T++){let U=E[T];U.consumedBy===void 0&&p.add(U)}p.size!=0?(x=p.first(),p.delete(x)):x=null}jt.reset();let b=wx.factory(g.segments);return new bx(b).getGeom()}},tl=new kx,Hu=tl,Cx=(i,...a)=>Hu.run("intersection",i,a),Ex=(i,...a)=>Hu.run("difference",i,a);jt.set;function Zu(i){let a={type:"Feature"};return a.geometry=i,a}function Wu(i){return i.type==="Feature"?i.geometry:i}function um(i){return i&&i.geometry&&i.geometry.coordinates?i.geometry.coordinates:i}function Mx(i){return Zu({type:"LineString",coordinates:i})}function Sx(i){return Zu({type:"MultiLineString",coordinates:i})}function cm(i){return Zu({type:"Polygon",coordinates:i})}function hm(i){return Zu({type:"MultiPolygon",coordinates:i})}function Px(i,a){let u=Wu(i),h=Wu(a),p=Cx(u.coordinates,h.coordinates);return p.length===0?null:p.length===1?cm(p[0]):hm(p)}function Tx(i,a){let u=Wu(i),h=Wu(a),p=Ex(u.coordinates,h.coordinates);return p.length===0?null:p.length===1?cm(p[0]):hm(p)}function dm(i){return Array.isArray(i)?1+dm(i[0]):-1}function Bx(i){i instanceof L.Polyline&&(i=i.toGeoJSON(15));let a=um(i),u=dm(a),h=[];return u>1?a.forEach(p=>{h.push(Mx(p))}):h.push(i),h}function Ax(i){let a=[];return i.eachLayer(u=>{a.push(um(u.toGeoJSON(15)))}),Sx(a)}Jt.Cut=Jt.Polygon.extend({initialize(i){this._map=i,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let i=this._layer.getLatLngs();if(i.length<=2)return;let a=L.polygon(i,this.options.pathOptions);a._latlngInfos=this._layer._latlngInfo,this.cut(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:h,originalLayer:p})=>{this._fireCut(p,h,p),this._fireCut(this._map,h,p),p.pm._fireEdit()}),this._editedLayers=[];let u=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(u))},cut(i){let a=this._map._layers,u=i._latlngInfos||[];Object.keys(a).map(h=>a[h]).filter(h=>h.pm).filter(h=>!h._pmTempLayer).filter(h=>!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1).filter(h=>h instanceof L.Polyline).filter(h=>h!==i).filter(h=>h.pm.options.allowCutting).filter(h=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(h)>-1:!0).filter(h=>!this._layerGroup.hasLayer(h)).filter(h=>{try{let p=!!cr(i.toGeoJSON(15),h.toGeoJSON(15)).features.length>0;return p||h instanceof L.Polyline&&!(h instanceof L.Polygon)?p:!!Px(i.toGeoJSON(15),h.toGeoJSON(15))}catch{return h instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(h=>{let p;if(h instanceof L.Polygon){p=L.polygon(h.getLatLngs());let E=p.getLatLngs();u.forEach(T=>{if(T&&T.snapInfo){let{latlng:G}=T,U=this._calcClosestLayer(G,[p]);if(U&&U.segment&&U.distance<this.options.snapDistance){let{segment:ae}=U;if(ae&&ae.length===2){let{indexPath:ue,parentPath:xe,newIndex:Ee}=L.PM.Utils._getIndexFromSegment(E,ae);(ue.length>1?(0,Cr.default)(E,xe):E).splice(Ee,0,G)}}}})}else p=h;let g=this._cutLayer(i,p),x=L.geoJSON(g,h.options);x.getLayers().length===1&&([x]=x.getLayers()),this._setPane(x,"layerPane");let b=x.addTo(this._map.pm._getContainingLayer());if(b.pm.enable(h.pm.options),b.pm.disable(),h._pmTempLayer=!0,i._pmTempLayer=!0,h.remove(),h.removeFrom(this._map.pm._getContainingLayer()),i.remove(),i.removeFrom(this._map.pm._getContainingLayer()),b.getLayers&&b.getLayers().length===0&&this._map.pm.removeLayer({target:b}),b instanceof L.LayerGroup?(b.eachLayer(E=>{this._addDrawnLayerProp(E)}),this._addDrawnLayerProp(b)):this._addDrawnLayerProp(b),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let E=this.options.layersToCut.indexOf(h);E>-1&&this.options.layersToCut.splice(E,1)}this._editedLayers.push({layer:b,originalLayer:h})})},_cutLayer(i,a){let u=L.geoJSON(),h;if(a instanceof L.Polygon)h=Tx(a.toGeoJSON(15),i.toGeoJSON(15));else{let p=Bx(a);p.forEach(g=>{let x=Ed(g,i.toGeoJSON(15)),b;x&&x.features.length>0?b=L.geoJSON(x):b=L.geoJSON(g),b.getLayers().forEach(E=>{Sd(i.toGeoJSON(15),E.toGeoJSON(15))||E.addTo(u)})}),p.length>1?h=Ax(u):h=u.toGeoJSON(15)}return h},_change:L.Util.falseFn}),Jt.Text=Jt.extend({initialize(i){this._map=i,this._shape="Text",this.toolbarButtonName="drawText"},enable(i){L.Util.setOptions(this,i),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(qe("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){var i;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),(i=this._hintMarker)==null||i.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(i){this.enabled()?this.disable():this.enable(i)},_syncHintMarker(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){let a=i;a.target=this._hintMarker,this._handleSnapping(a)}},_createMarker(i){var p,g,x,b;if(!i.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);let a=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(p=this.options.textOptions)==null?void 0:p.className){let E=this.options.textOptions.className.split(" ");this.textArea.classList.add(...E)}let u=this._createTextIcon(this.textArea),h=new L.Marker(a,{textMarker:!0,_textMarkerOverPM:!0,icon:u});if(this._setPane(h,"markerPane"),this._finishLayer(h),h.pm||(h.options.draggable=!1),h.addTo(this._map.pm._getContainingLayer()),h.pm){h.pm.textArea=this.textArea,L.setOptions(h.pm,{removeIfEmpty:((g=this.options.textOptions)==null?void 0:g.removeIfEmpty)??!0});let E=((x=this.options.textOptions)==null?void 0:x.focusAfterDraw)??!0;h.pm._createTextMarker(E),(b=this.options.textOptions)!=null&&b.text&&h.pm.setText(this.options.textOptions.text)}this._fireCreate(h),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(i){this.enable(),this._hintMarker.setLatLng(i.latlng)},_createTextArea(){let i=document.createElement("textarea");return i.readOnly=!0,i.classList.add("pm-textarea","pm-disabled"),i},_createTextIcon(i){return L.divIcon({className:"pm-text-marker",html:i})}});var jx={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,cn(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let i=this._getDOMElem();i&&(cn(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(i)):L.DomEvent.on(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,cn(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let i=this._getDOMElem();i&&(cn(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(i)):L.DomEvent.off(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(i){let a=i.touches?i.touches[0]:i,u={originalEvent:a,target:this._layer};return u.containerPoint=this._map.mouseEventToContainerPoint(a),u.latlng=this._map.containerPointToLatLng(u.containerPoint),this._dragMixinOnMouseDown(u),!1},_simulateMouseMoveEvent(i){let a=i.touches?i.touches[0]:i,u={originalEvent:a,target:this._layer};return u.containerPoint=this._map.mouseEventToContainerPoint(a),u.latlng=this._map.containerPointToLatLng(u.containerPoint),this._dragMixinOnMouseMove(u),!1},_simulateMouseUpEvent(i){let a={originalEvent:i.touches?i.touches[0]:i,target:this._layer};return i.type.indexOf("touch")===-1&&(a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint)),this._dragMixinOnMouseUp(a),!1},_dragMixinOnMouseDown(i){if(i.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(i);let a=i._fromLayerSync,u=this._syncLayers("_dragMixinOnMouseDown",i);if(this._layer instanceof L.Marker&&(this.options.snappable&&!a&&!u?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let h="resizeableCircleMarker";this._layer instanceof L.Circle&&(h="resizeableCircle"),this.options.snappable&&!a&&!u?this._layer.pm.options[h]||this._initSnappableMarkersDrag():this._layer.pm.options[h]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=i.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(i){this._overwriteEventIfItComesFromMarker(i);let a=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",i),this._dragging||(this._dragging=!0,L.DomUtil.addClass(a,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=i.latlng),this._onLayerDrag(i),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(i){let a=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",i),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,a&&L.DomUtil.removeClass(a,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(i){let{latlng:a}=i,u={lat:a.lat-this._tempDragCoord.lat,lng:a.lng-this._tempDragCoord.lng},h=p=>p.map(g=>{if(Array.isArray(g))return h(g);let x={lat:g.lat+u.lat,lng:g.lng+u.lng};return(g.alt||g.alt===0)&&(x.alt=g.alt),x});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let p=h([this._layer.getLatLng()]);this._layer.setLatLng(p[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let p=this._layer.getLatLng();this._layer._snapped&&(p=this._layer._orgLatLng);let g=h([p]);this._layer.setLatLng(g[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let p=h([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(p),this._fireChange(this._layer.getBounds(),"Edit")}else{let p=h(this._layer.getLatLngs());this._layer.setLatLngs(p),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=a,i.layer=this._layer,this._fireDrag(i)},addDraggingClass(){let i=this._getDOMElem();i&&L.DomUtil.addClass(i,"leaflet-pm-draggable")},removeDraggingClass(){let i=this._getDOMElem();i&&L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_getDOMElem(){let i=null;return this._layer._path?i=this._layer._path:this._layer._renderer&&this._layer._renderer._container?i=this._layer._renderer._container:this._layer._image?i=this._layer._image:this._layer._icon&&(i=this._layer._icon),i},_overwriteEventIfItComesFromMarker(i){i.target.getLatLng&&(!i.target._radius||i.target._radius<=10)&&(i.containerPoint=this._map.mouseEventToContainerPoint(i.originalEvent),i.latlng=this._map.containerPointToLatLng(i.containerPoint))},_syncLayers(i,a){if(this.enabled())return!1;if(!a._fromLayerSync&&this._layer===a.target&&this.options.syncLayersOnDrag){a._fromLayerSync=!0;let u=[];if(L.Util.isArray(this.options.syncLayersOnDrag))u=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(h=>{h instanceof L.LayerGroup&&(u=u.concat(h.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let h in this._parentLayerGroup){let p=this._parentLayerGroup[h];p.pm&&(u=p.pm.getLayers(!0))}return L.Util.isArray(u)&&u.length>0&&(u=u.filter(h=>!!h.pm).filter(h=>!!h.pm.options.draggable),u.forEach(h=>{h!==this._layer&&h.pm[i]&&(h._snapped=!1,h.pm[i](a))})),u.length>0}return!1},_stopDOMImageDrag(i){return i.preventDefault(),!1}},Dx=jx,Ox=m(Ir());function Nx(i,a,u,h){return u.unproject(a.transform(u.project(i,h)),h)}function fm(i,a,u){let h=u.getMaxZoom();if(h===1/0&&(h=u.getZoom()),L.Util.isArray(i)){let p=[];return i.forEach(g=>{p.push(fm(g,a,u))}),p}return i instanceof L.LatLng?Nx(i,a,u,h):null}function za(i,a){a instanceof L.Layer&&(a=a.getLatLng());let u=i.getMaxZoom();return u===1/0&&(u=i.getZoom()),i.project(a,u)}function Ku(i,a){let u=i.getMaxZoom();return u===1/0&&(u=i.getZoom()),i.unproject(a,u)}var Rx={_onRotateStart(i){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=za(this._map,this._rotationOriginLatLng),this._rotationStartPoint=za(this._map,i.target.getLatLng()),this._initialRotateLatLng=lr(this._layer),this._startAngle=this.getAngle();let a=lr(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,a),this._fireRotationStart(this._map,a)},_onRotate(i){let a=za(this._map,i.target.getLatLng()),u=this._rotationStartPoint,h=this._rotationOriginPoint,p=Math.atan2(a.y-h.y,a.x-h.x)-Math.atan2(u.y-h.y,u.x-h.x);this._layer.setLatLngs(this._rotateLayer(p,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let g=this;function x(G,U=[],ae=-1){if(ae>-1&&U.push(ae),L.Util.isArray(G[0]))G.forEach((ue,xe)=>x(ue,U.slice(),xe));else{let ue=U.length>0?(0,Ox.default)(g._markers,U):g._markers[0];G.forEach((xe,Ee)=>{ue[Ee].setLatLng(xe)})}}x(this._layer.getLatLngs());let b=lr(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(p,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let E=p*180/Math.PI;E=E<0?E+360:E;let T=E+this._startAngle;this._setAngle(T),this._rotationLayer.pm._setAngle(T),this._fireRotation(this._rotationLayer,E,b),this._fireRotation(this._map,E,b),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let i=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let a=lr(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=lr(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,i,a),this._fireRotationEnd(this._map,i,a),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(i,a,u,h,p){let g=za(p,u);return this._matrix=h.clone().rotate(i,g).flip(),fm(a,this._matrix,p)},_setAngle(i){i=i<0?i+360:i,this._angle=i%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let i=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),a=i.getCenter();return i.removeFrom(this._layer._map),a},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(xa(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let i={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),i),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=lr(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(i){let a=this.getAngle(),u=this._layer.getLatLngs(),h=i*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(h,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+i),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(h,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let p=this.getAngle()-a;p=p<0?p+360:p,this._startAngle=a,this._fireRotation(this._layer,p,u,this._layer),this._fireRotation(this._map||this._layer._map,p,u,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(i){let a=i-this.getAngle();this.rotateLayer(a)},getAngle(){return this._angle||0},setInitAngle(i){this._setAngle(i)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(i){this._rotationCenter=i,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(i)}},Ix=Rx,Fx=L.Class.extend({includes:[Dx,Gs,Ix,ya],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(i){L.Util.setOptions(this,i)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(i,a){a==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(i,a){let u=a.target,h={layer:this._layer,marker:u,event:a},p="";return i==="move"?p="moveVertexValidation":i==="add"?p="addVertexValidation":i==="remove"&&(p="removeVertexValidation"),this.options[p]&&typeof this.options[p]=="function"&&!this.options[p](h)?(i==="move"&&(u._cancelDragEventChain=u.getLatLng()),!1):(u._cancelDragEventChain=null,!0)},_vertexValidationDrag(i){return i._cancelDragEventChain?(i._latlng=i._cancelDragEventChain,i.update(),!1):!0},_vertexValidationDragEnd(i){return i._cancelDragEventChain?(i._cancelDragEventChain=null,!1):!0}}),on=Fx;on.LayerGroup=L.Class.extend({initialize(i){this._layerGroup=i,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(h=>this._initLayer(h));let a=h=>{if(h.layer._pmTempLayer)return;this._layers=this.getLayers();let p=this._layers.filter(g=>!g.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in g.pm._parentLayerGroup));p.forEach(g=>{this._initLayer(g)}),p.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(a,100,this),this),this._layerGroup.on("layerremove",h=>{this._removeLayerFromGroup(h.target)},this);let u=h=>{h.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(u,100,this),this)},enable(i,a=[]){a.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(u=>{u instanceof L.LayerGroup?a.indexOf(u._leaflet_id)===-1&&(a.push(u._leaflet_id),u.pm.enable(i,a)):u.pm.enable(i)})},disable(i=[]){i.length===0&&(this._layers=this.getLayers()),this._layers.forEach(a=>{a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.disable(i)):a.pm.disable()})},enabled(i=[]){return i.length===0&&(this._layers=this.getLayers()),!!this._layers.find(a=>a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1?(i.push(a._leaflet_id),a.pm.enabled(i)):!1:a.pm.enabled())},toggleEdit(i,a=[]){a.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(u=>{u instanceof L.LayerGroup?a.indexOf(u._leaflet_id)===-1&&(a.push(u._leaflet_id),u.pm.toggleEdit(i,a)):u.pm.toggleEdit(i)})},_initLayer(i){let a=L.Util.stamp(this._layerGroup);i.pm._parentLayerGroup||(i.pm._parentLayerGroup={}),i.pm._parentLayerGroup[a]=this._layerGroup},_removeLayerFromGroup(i){if(i.pm&&i.pm._layerGroup){let a=L.Util.stamp(this._layerGroup);delete i.pm._layerGroup[a]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(i=>i.pm.dragging()):!1},getOptions(){return this.options},_getMap(){var i;return this._map||((i=this._layers.find(a=>!!a._map))==null?void 0:i._map)||null},getLayers(i=!1,a=!0,u=!0,h=[]){let p=[];return i?this._layerGroup.getLayers().forEach(g=>{p.push(g),g instanceof L.LayerGroup&&h.indexOf(g._leaflet_id)===-1&&(h.push(g._leaflet_id),p=p.concat(g.pm.getLayers(!0,!0,!0,h)))}):p=this._layerGroup.getLayers(),u&&(p=p.filter(g=>!(g instanceof L.LayerGroup))),a&&(p=p.filter(g=>!!g.pm),p=p.filter(g=>!g._pmTempLayer),p=p.filter(g=>!L.PM.optIn&&!g.options.pmIgnore||L.PM.optIn&&g.options.pmIgnore===!1)),p},setOptions(i,a=[]){a.length===0&&(this._layers=this.getLayers()),this.options=i,this._layers.forEach(u=>{u.pm&&(u instanceof L.LayerGroup?a.indexOf(u._leaflet_id)===-1&&(a.push(u._leaflet_id),u.pm.setOptions(i,a)):u.pm.setOptions(i))})}}),on.Marker=on.extend({_shape:"Marker",initialize(i){this._layer=i,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(i={draggable:!0}){if(L.Util.setOptions(this,i),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(i){let a=i.target;a.remove(),this._fireRemove(a),this._fireRemove(this._map,a)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)}});var zi=m(Ir()),zx={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let i=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=i.filter((a,u,h)=>h.indexOf(a)===u)},_removeFromCache(i){let a=this.markerCache.indexOf(i);a>-1&&this.markerCache.splice(a,1)},renderLimits(i){this.markerCache.forEach(a=>{i.includes(a)?this._markerGroup.addLayer(a):this._markerGroup.removeLayer(a)})},applyLimitFilters({latlng:i={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let a=[...this._filterClosestMarkers(i)];this.renderLimits(a)},_filterClosestMarkers(i){let a=[...this.markerCache],u=this.options.limitMarkersToCount;return u===-1?a:(a.sort((h,p)=>{let g=h._latlng.distanceTo(i),x=p._latlng.distanceTo(i);return g-x}),a.filter((h,p)=>u>-1?p<u:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(i){this._preventRenderMarkers=!!i}},Ux=zx;on.Line=on.extend({includes:[Ux],_shape:"Line",initialize(i){this._layer=i,this._enabled=!1},enable(i){if(L.Util.setOptions(this,i),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(i){return this.enabled()?this.disable():this.enable(i),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let i=this._map,a=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(i),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let u=h=>{if(Array.isArray(h[0]))return h.map(u,this);let p=h.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&h.map((g,x)=>{let b=this.isPolygon()?(x+1)%h.length:x+1;return this._createMiddleMarker(p[x],p[b])}),p};this._markers=u(a),this.filterMarkerGroup(),i.addLayer(this._markerGroup)},_createMarker(i){let a=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this.options.rotate?(a.on("dragstart",this._onRotateStart,this),a.on("drag",this._onRotate,this),a.on("dragend",this._onRotateEnd,this)):(a.on("click",this._onVertexClick,this),a.on("dragstart",this._onMarkerDragStart,this),a.on("move",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||a.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(a),a},_createMiddleMarker(i,a){if(!i||!a)return!1;let u=L.PM.Utils.calcMiddleLatLng(this._map,i.getLatLng(),a.getLatLng()),h=this._createMarker(u),p=L.divIcon({className:"marker-icon marker-icon-middle"});return h.setIcon(p),h.leftM=i,h.rightM=a,i._middleMarkerNext=h,a._middleMarkerPrev=h,h.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),h.on("movestart",this._onMiddleMarkerMoveStart,this),h},_onMiddleMarkerClick(i){let a=i.target;if(!this._vertexValidation("add",i))return;let u=L.divIcon({className:"marker-icon"});a.setIcon(u),this._addMarker(a,a.leftM,a.rightM)},_onMiddleMarkerMoveStart(i){let a=i.target;if(a.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",i)){a.on("move",this._onMiddleMarkerMovePrevent,this);return}a._dragging=!0,this._addMarker(a,a.leftM,a.rightM)},_onMiddleMarkerMovePrevent(i){let a=i.target;this._vertexValidationDrag(a)},_onMiddleMarkerMoveEnd(i){let a=i.target;if(a.off("move",this._onMiddleMarkerMovePrevent,this),a.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(a))return;let u=L.divIcon({className:"marker-icon"});a.setIcon(u),setTimeout(()=>{delete a._dragging},100)},_addMarker(i,a,u){i.off("movestart",this._onMiddleMarkerMoveStart,this),i.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let h=i.getLatLng(),p=this._layer._latlngs;delete i.leftM,delete i.rightM;let{indexPath:g,index:x,parentPath:b}=L.PM.Utils.findDeepMarkerIndex(this._markers,a),E=g.length>1?(0,zi.default)(p,b):p,T=g.length>1?(0,zi.default)(this._markers,b):this._markers;E.splice(x+1,0,h),T.splice(x+1,0,i),this._layer.setLatLngs(p),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(a,i),this._createMiddleMarker(i,u)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(i,L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath,h),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return ba(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(i){let a=this._layer,u,h;if(this.options.allowSelfIntersection?u=!1:(h=ba(this._layer.toGeoJSON(15)),u=h.features.length>0),u){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return u;i?this._flashLayer():(a.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(h)}else a.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return u},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(i,a){i.forEach(u=>{Array.isArray(u)?this._updateDisabledMarkerStyle(u,a):u._icon&&(a&&!this._checkMarkerAllowedToDrag(u)?L.DomUtil.addClass(u._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(u._icon,"vertexmarker-disabled"))})},_removeMarker(i){let a=i.target;if(!this._vertexValidation("remove",i))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=lr(this._layer,this._layer.getLatLngs()));let u=this._layer.getLatLngs(),{indexPath:h,index:p,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);if(!h)return;let x=h.length>1?(0,zi.default)(u,g):u,b=h.length>1?(0,zi.default)(this._markers,g):this._markers,E=g[g.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!E&&(x.length<=2||this.isPolygon()&&x.length<=3)){this._flashLayer();return}x.splice(p,1),this._layer.setLatLngs(u),this.isPolygon()&&x.length<=2&&x.splice(0,x.length);let T=!1;if(x.length<=1&&(x.splice(0,x.length),g.length>1&&h.length>1&&(u=Co(u)),this._layer.setLatLngs(u),this._initMarkers(),T=!0),li(u)||this._layer.remove(),u=Co(u),this._layer.setLatLngs(u),this._markers=Co(this._markers),!T&&(b=h.length>1?(0,zi.default)(this._markers,g):this._markers,a._middleMarkerPrev&&(this._markerGroup.removeLayer(a._middleMarkerPrev),this._removeFromCache(a._middleMarkerPrev)),a._middleMarkerNext&&(this._markerGroup.removeLayer(a._middleMarkerNext),this._removeFromCache(a._middleMarkerNext)),this._markerGroup.removeLayer(a),this._removeFromCache(a),b)){let G,U;if(this.isPolygon()?(G=(p+1)%b.length,U=(p+(b.length-1))%b.length):(U=p-1<0?void 0:p-1,G=p+1>=b.length?void 0:p+1),G!==U){let ae=b[U],ue=b[G];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ae,ue)}b.splice(p,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(a,h),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(i){let a=this._layer.getLatLngs(),u=i.getLatLng(),{indexPath:h,index:p,parentPath:g}=L.PM.Utils.findDeepMarkerIndex(this._markers,i);(h.length>1?(0,zi.default)(a,g):a).splice(p,1,u),this._layer.setLatLngs(a)},_getNeighborMarkers(i){let{indexPath:a,index:u,parentPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,i),p=a.length>1?(0,zi.default)(this._markers,h):this._markers,g=(u+1)%p.length,x=(u+(p.length-1))%p.length,b=p[x],E=p[g];return{prevMarker:b,nextMarker:E}},_checkMarkerAllowedToDrag(i){let{prevMarker:a,nextMarker:u}=this._getNeighborMarkers(i),h=L.polyline([a.getLatLng(),i.getLatLng()]),p=L.polyline([i.getLatLng(),u.getLatLng()]),g=cr(this._layer.toGeoJSON(15),h.toGeoJSON(15)).features.length,x=cr(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length;return i.getLatLng()===this._markers[0][0].getLatLng()?x+=1:i.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(g+=1),!(g<=2&&x<=2)},_onMarkerDragStart(i){let a=i.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",i))return;let{indexPath:u}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragStart(i,u),this.options.allowSelfIntersection||(this._coordsBeforeEdit=lr(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(a):this._markerAllowedToDrag=null},_onMarkerDrag(i){let a=i.target;if(!this._vertexValidationDrag(a))return;let{indexPath:u,index:h,parentPath:p}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);if(!u)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(a);let g=u.length>1?(0,zi.default)(this._markers,p):this._markers,x=(h+1)%g.length,b=(h+(g.length-1))%g.length,E=a.getLatLng(),T=g[b].getLatLng(),G=g[x].getLatLng();if(a._middleMarkerNext){let U=L.PM.Utils.calcMiddleLatLng(this._map,E,G);a._middleMarkerNext.setLatLng(U)}if(a._middleMarkerPrev){let U=L.PM.Utils.calcMiddleLatLng(this._map,E,T);a._middleMarkerPrev.setLatLng(U)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(i,u),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(i){let a=i.target;if(!this._vertexValidationDragEnd(a))return;let{indexPath:u}=L.PM.Utils.findDeepMarkerIndex(this._markers,a),h=!this.options.allowSelfIntersection&&this.hasSelfIntersection();h&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(h=!1);let p=!this.options.allowSelfIntersection&&h;if(this._fireMarkerDragEnd(i,u,p),p){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(i,u);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(i){let a=i.target;if(a._dragging)return;let{indexPath:u}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireVertexClick(i,u)}}),on.Polygon=on.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(i){let{prevMarker:a,nextMarker:u}=this._getNeighborMarkers(i),h=L.polyline([a.getLatLng(),i.getLatLng()]),p=L.polyline([i.getLatLng(),u.getLatLng()]),g=cr(this._layer.toGeoJSON(15),h.toGeoJSON(15)).features.length,x=cr(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length;return!(g<=2&&x<=2)}}),on.Rectangle=on.Polygon.extend({_shape:"Rectangle",_initMarkers(){let i=this._map,a=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,i.addLayer(this._markerGroup),this._markers=[],this._markers[0]=a.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((u,h)=>{let p=this._cornerMarkers.find(g=>g._index===h);p&&p.setLatLng(u)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(i,a){let u=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(u,"vertexPane"),u._origLatLng=i,u._index=a,u._pmTempLayer=!0,u.on("click",this._onVertexClick,this),this._markerGroup.addLayer(u),u},_addMarkerEvents(){this._markers[0].forEach(i=>{i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||i.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(i){if(!this._vertexValidation("move",i))return;let a=i.target,u=this._cornerMarkers;a._oppositeCornerLatLng=u.find(p=>p._index===(a._index+2)%4).getLatLng(),a._snapped=!1;let{indexPath:h}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragStart(i,h)},_onMarkerDrag(i){let a=i.target;if(!this._vertexValidationDrag(a)||a._index===void 0)return;this._adjustRectangleForMarkerMove(a);let{indexPath:u}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDrag(i,u),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(i){let a=i.target;if(!this._vertexValidationDragEnd(a))return;this._cornerMarkers.forEach(h=>{delete h._oppositeCornerLatLng});let{indexPath:u}=L.PM.Utils.findDeepMarkerIndex(this._markers,a);this._fireMarkerDragEnd(i,u),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(i){L.extend(i._origLatLng,i._latlng);let a=L.PM.Utils._getRotatedRectangle(i.getLatLng(),i._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(a),this._adjustAllMarkers(i),this._layer.redraw()},_adjustAllMarkers(i){let a=this._layer.getLatLngs()[0];if(a&&a.length!==4&&a.length>0)a.forEach((u,h)=>{this._cornerMarkers[h].setLatLng(u)}),this._cornerMarkers.slice(a.length).forEach(u=>{u.setLatLng(a[0])});else if(!a||!a.length)console.error("The layer has no LatLngs");else{let u=a.findIndex(h=>i.getLatLng().equals(h));u>-1?(this._cornerMarkers[(i._index+1)%4].setLatLng(a[(u+1)%4]),this._cornerMarkers[(i._index+2)%4].setLatLng(a[(u+2)%4]),this._cornerMarkers[(i._index+3)%4].setLatLng(a[(u+3)%4])):this._cornerMarkers.forEach(h=>{h.setLatLng(a[h._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(xa(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let i=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(i[0],i[2],this.getAngle(),this._map||this)}}),on.CircleMarker=on.extend({_shape:"CircleMarker",initialize(i){this._layer=i,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(i={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,i),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let i=this._map;this._helperLayers&&(this._helperLayers.removeFrom(i),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);let a=this._layer.getLatLng(),u=this._layer._radius,h=this._getLatLngOnCircle(a,u);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(h),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(i,a){let u=this._map.project(i),h=L.point(u.x+a,u.y);return this._map.unproject(h)},_createHintLine(i,a){let u=i.getLatLng(),h=a.getLatLng();this._hintline=L.polyline([u,h],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(i){let a=this._createMarker(i);return this.options.draggable?(L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"),a.on("move",this._moveCircle,this)):a.dragging.disable(),a},_createOuterMarker(i){let a=this._createMarker(i);return a.on("drag",this._resizeCircle,this),a},_createMarker(i){let a=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=i,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),a.on("click",this._onVertexClick,this),this._helperLayers.addLayer(a),a},_moveCircle(i){if(i.target._cancelDragEventChain)return;let a=this._centerMarker.getLatLng();this._layer.setLatLng(a);let u=this._layer._radius,h=this._getLatLngOnCircle(a,u);this._outerMarker._latlng=h,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let i=this._layer.getLatLng(),a=this._layer._radius,u=this._getLatLngOnCircle(i,a);this._outerMarker.setLatLng(u),this._centerMarker.setLatLng(i),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),u=this._distanceCalculation(i,a);this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(u),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,a])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(i){this._vertexValidation("move",i)&&this._fireMarkerDragStart(i)},_onMarkerDrag(i){let a=i.target;a instanceof L.Marker&&!this._vertexValidationDrag(a)||this._fireMarkerDrag(i)},_onMarkerDragEnd(i){this._extedingMarkerDragEnd();let a=i.target;this._vertexValidationDragEnd(a)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(i))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let i=this._layer._map||this._map;if(i){let a=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),i,this._layer.getLatLng()),u=L.circle(this._layer.getLatLng(),this._layer.options);u.setRadius(a);let h=i&&i.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(u,200,!h).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(u,200,!h),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),u=this._distanceCalculation(i,a);return this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?a=wa(this._map,i,a,this._getMinDistanceInMeter(i)):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]&&(a=wa(this._map,i,a,this._getMaxDistanceInMeter(i))),a},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),u=this._distanceCalculation(i,a);this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(i,a){return this._map.project(i).distanceTo(this._map.project(a))},_getMinDistanceInMeter(i){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,i)},_getMaxDistanceInMeter(i){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,i)},_onVertexClick(i){i.target._dragging||this._fireVertexClick(i,void 0)}}),on.Circle=on.CircleMarker.extend({_shape:"Circle",initialize(i){this._layer=i,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(i){L.PM.Edit.CircleMarker.prototype.enable.call(this,i||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let i=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!i).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!i),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(i,a){return this._map.distance(i,a)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(i){i.target._dragging||this._fireVertexClick(i,void 0)}}),on.ImageOverlay=on.extend({_shape:"ImageOverlay",initialize(i){this._layer=i,this._enabled=!1},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},enabled(){return this._enabled},enable(i={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,i),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let i=this._layer.getBounds(),a=i.getNorthWest(),u=i.getNorthEast(),h=i.getSouthEast(),p=i.getSouthWest();return[a,u,h,p]}}),on.Text=on.extend({_shape:"Text",initialize(i){this._layer=i,this._enabled=!1},enable(i){if(L.Util.setOptions(this,i),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let i=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),i.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(i){this.enabled()?this.disable():this.enable(i)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let i=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,a=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${i}px`,this.textArea.style.width=`${a}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(i){i.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(i={}){let a=this._hasFocus;this._hasFocus=i.type==="focus",!a!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(i){i&&(this.textArea.value=i),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let a=this.options.className.split(" ");this.textArea.classList.add(...a)}let i=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(i),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(i=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),i===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(i){i.preventDefault()}});var Id=function(i,a,u,h,p,g){this._matrix=[i,a,u,h,p,g]};Id.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Id.prototype={transform(i){return this._transform(i.clone())},_transform(i){let a=this._matrix,{x:u,y:h}=i;return i.x=a[0]*u+a[1]*h+a[4],i.y=a[2]*u+a[3]*h+a[5],i},untransform(i){let a=this._matrix;return new L.Point((i.x/a[0]-a[4])/a[0],(i.y/a[2]-a[5])/a[2])},clone(){let i=this._matrix;return new L.PM.Matrix(i[0],i[1],i[2],i[3],i[4],i[5])},translate(i){if(i===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let a,u;return typeof i=="number"?(a=i,u=i):(a=i.x,u=i.y),this._add(1,0,0,1,a,u)},scale(i,a){if(i===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let u,h;return a=a||L.point(0,0),typeof i=="number"?(u=i,h=i):(u=i.x,h=i.y),this._add(u,0,0,h,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},rotate(i,a){let u=Math.cos(i),h=Math.sin(i);return a=a||new L.Point(0,0),this._add(u,h,-h,u,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(i,a,u,h,p,g){let x=[[],[],[]],b=this._matrix,E=[[b[0],b[2],b[4]],[b[1],b[3],b[5]],[0,0,1]],T=[[i,u,p],[a,h,g],[0,0,1]],G;i&&i instanceof L.PM.Matrix&&(b=i._matrix,T=[[b[0],b[2],b[4]],[b[1],b[3],b[5]],[0,0,1]]);for(let U=0;U<3;U+=1)for(let ae=0;ae<3;ae+=1){G=0;for(let ue=0;ue<3;ue+=1)G+=E[U][ue]*T[ue][ae];x[U][ae]=G}return this._matrix=[x[0][0],x[1][0],x[0][1],x[1][1],x[0][2],x[1][2]],this}};var $x=Id,Vx={calcMiddleLatLng(i,a,u){let h=i.project(a),p=i.project(u);return i.unproject(h._add(p)._divideBy(2))},findLayers(i){let a=[];return i.eachLayer(u=>{(u instanceof L.Polyline||u instanceof L.Marker||u instanceof L.Circle||u instanceof L.CircleMarker||u instanceof L.ImageOverlay)&&a.push(u)}),a=a.filter(u=>!!u.pm),a=a.filter(u=>!u._pmTempLayer),a=a.filter(u=>!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1),a},circleToPolygon(i,a=60,u=!0){let h=i.getLatLng(),p=i.getRadius(),g=va(h,p,a,0,u),x=[];for(let b=0;b<g.length;b+=1){let E=[g[b].lat,g[b].lng];x.push(E)}return L.polygon(x,i.options)},disablePopup(i){i.getPopup()&&(i._tempPopupCopy=i.getPopup(),i.unbindPopup())},enablePopup(i){i._tempPopupCopy&&(i.bindPopup(i._tempPopupCopy),delete i._tempPopupCopy)},_fireEvent(i,a,u,h=!1){i.fire(a,u,h);let{groups:p}=this.getAllParentGroups(i);p.forEach(g=>{g.fire(a,u,h)})},getAllParentGroups(i){let a=[],u=[],h=p=>{for(let g in p._eventParents)if(a.indexOf(g)===-1){a.push(g);let x=p._eventParents[g];u.push(x),h(x)}};return!i._pmLastGroupFetch||!i._pmLastGroupFetch.time||new Date().getTime()-i._pmLastGroupFetch.time>1e3?(h(i),i._pmLastGroupFetch={time:new Date().getTime(),groups:u,groupIds:a},{groupIds:a,groups:u}):{groups:i._pmLastGroupFetch.groups,groupIds:i._pmLastGroupFetch.groupIds}},createGeodesicPolygon:va,getTranslation:qe,findDeepCoordIndex(i,a,u=!0){let h,p=x=>(b,E)=>{let T=x.concat(E);if(u){if(b.lat&&b.lat===a.lat&&b.lng===a.lng)return h=T,!0}else if(b.lat&&L.latLng(b).equals(a))return h=T,!0;return Array.isArray(b)&&b.some(p(T))};i.some(p([]));let g={};return h&&(g={indexPath:h,index:h[h.length-1],parentPath:h.slice(0,h.length-1)}),g},findDeepMarkerIndex(i,a){let u,h=g=>(x,b)=>{let E=g.concat(b);return x._leaflet_id===a._leaflet_id?(u=E,!0):Array.isArray(x)&&x.some(h(E))};i.some(h([]));let p={};return u&&(p={indexPath:u,index:u[u.length-1],parentPath:u.slice(0,u.length-1)}),p},_getIndexFromSegment(i,a){if(a&&a.length===2){let u=this.findDeepCoordIndex(i,a[0]),h=this.findDeepCoordIndex(i,a[1]),p=Math.max(u.index,h.index);return(u.index===0||h.index===0)&&p!==1&&(p+=1),{indexA:u,indexB:h,newIndex:p,indexPath:u.indexPath,parentPath:u.parentPath}}return null},_getRotatedRectangle(i,a,u,h){let p=za(h,i),g=za(h,a),x=u*Math.PI/180,b=Math.cos(x),E=Math.sin(x),T=(g.x-p.x)*b+(g.y-p.y)*E,G=(g.y-p.y)*b-(g.x-p.x)*E,U=T*b+p.x,ae=T*E+p.y,ue=-G*E+p.x,xe=G*b+p.y,Ee=Ku(h,p),Be=Ku(h,{x:U,y:ae}),st=Ku(h,g),V=Ku(h,{x:ue,y:xe});return[Ee,Be,st,V]},pxRadiusToMeterRadius(i,a,u){let h=a.project(u),p=L.point(h.x+i,h.y);return a.distance(a.unproject(p),u)}},Gx=Vx;L.PM=L.PM||{version:Bs.version,Map:Bu,Toolbar:Vs,Draw:Jt,Edit:on,Utils:Gx,Matrix:$x,activeLang:"en",optIn:!1,initialize(i){this.addInitHooks(i)},setOptIn(i){this.optIn=!!i},addInitHooks(){function i(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(i);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(a);function u(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(u);function h(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(h);function p(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(p);function g(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(g);function x(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(x);function b(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(b);function E(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(E)},reInitLayer(i){i instanceof L.LayerGroup&&i.eachLayer(a=>{this.reInitLayer(a)}),i.pm||L.PM.optIn&&i.options.pmIgnore!==!1||i.options.pmIgnore||(i instanceof L.Map?i.pm=new L.PM.Map(i):i instanceof L.Marker?i.options.textMarker?(i.pm=new L.PM.Edit.Text(i),i.pm._initTextMarker(),i.pm._createTextMarker(!1)):i.pm=new L.PM.Edit.Marker(i):i instanceof L.Circle?i.pm=new L.PM.Edit.Circle(i):i instanceof L.CircleMarker?i.pm=new L.PM.Edit.CircleMarker(i):i instanceof L.Rectangle?i.pm=new L.PM.Edit.Rectangle(i):i instanceof L.Polygon?i.pm=new L.PM.Edit.Polygon(i):i instanceof L.Polyline?i.pm=new L.PM.Edit.Line(i):i instanceof L.LayerGroup?i.pm=new L.PM.Edit.LayerGroup(i):i instanceof L.ImageOverlay&&(i.pm=new L.PM.Edit.ImageOverlay(i)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(i){let a=this._map.mouseEventToLayerPoint(i),u,h;for(let p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(u))&&(h=u);h&&(L.DomEvent.fakeStop(i),this._fireEvent([h],i))}}),L.PM.initialize()})();function ZS(e,t,n){n===void 0&&(n={});var o={type:"Feature"};return(n.id===0||n.id)&&(o.id=n.id),n.bbox&&(o.bbox=n.bbox),o.properties=t||{},o.geometry=e,o}function WS(e,t,n){n===void 0&&(n={});for(var o=0,l=e;o<l.length;o++){var c=l[o];if(c.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<c[c.length-1].length;f++)if(c[c.length-1][f]!==c[0][f])throw new Error("First and last Position are not equivalent.")}var v={type:"Polygon",coordinates:e};return ZS(v,t,n)}function KS(e,t){var n,o,l,c,f,v,m,w,C,S,M=0,z=e.type==="FeatureCollection",$=e.type==="Feature",Z=z?e.features.length:1;for(n=0;n<Z;n++){for(v=z?e.features[n].geometry:$?e.geometry:e,w=z?e.features[n].properties:$?e.properties:{},C=z?e.features[n].bbox:$?e.bbox:void 0,S=z?e.features[n].id:$?e.id:void 0,m=v?v.type==="GeometryCollection":!1,f=m?v.geometries.length:1,l=0;l<f;l++){if(c=m?v.geometries[l]:v,c===null){if(t(null,M,w,C,S)===!1)return!1;continue}switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(c,M,w,C,S)===!1)return!1;break}case"GeometryCollection":{for(o=0;o<c.geometries.length;o++)if(t(c.geometries[o],M,w,C,S)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}M++}}function qS(e,t,n){var o=n;return KS(e,function(l,c,f,v,m){c===0&&n===void 0?o=l:o=t(o,l,c,f,v,m)}),o}var b_=6378137;function YS(e){return qS(e,function(t,n){return t+XS(n)},0)}function XS(e){var t=0,n;switch(e.type){case"Polygon":return L_(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)t+=L_(e.coordinates[n]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function L_(e){var t=0;if(e&&e.length>0){t+=Math.abs(k_(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(k_(e[n]))}return t}function k_(e){var t,n,o,l,c,f,v,m=0,w=e.length;if(w>2){for(v=0;v<w;v++)v===w-2?(l=w-2,c=w-1,f=0):v===w-1?(l=w-1,c=0,f=1):(l=v,c=v+1,f=v+2),t=e[l],n=e[c],o=e[f],m+=(bf(o[0])-bf(t[0]))*Math.sin(bf(n[1]));m=m*b_*b_/2}return m}function bf(e){return e*Math.PI/180}const JS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",QS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",eP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";aa.Icon.Default.mergeOptions({iconUrl:JS,iconRetinaUrl:QS,shadowUrl:eP});const tP=[-2.31194,-78.124395],nP=e=>(Math.round(e*100)/100).toFixed(2);function rP({onMapReady:e}){const t=au();return H.useEffect(()=>{t&&e&&e(t)},[t,e]),null}function iP({onPolygonChange:e,onAreaChange:t,initialPolygon:n}){const o=au(),l=H.useRef(null),c=H.useRef({active:!1,workingLayer:null}),f=H.useRef(null),v=H.useRef(!1),m=$=>{$!=null&&$._edgeMarkers&&($._edgeMarkers.forEach(Z=>Z.remove()),$._edgeMarkers=[])},w=$=>{m($)},C=$=>{var X;const Z=((X=$.getLatLngs())==null?void 0:X[0])||[];if(e==null||e(Z.map(F=>[F.lat,F.lng])),Z.length>=3){const F=Z.map(I=>[I.lng,I.lat]),D=YS(WS([[...F,F[0]]]));t==null||t(D)}else t==null||t(0)},S=$=>{var Z;(Z=$.setStyle)==null||Z.call($,{color:"#2b8a3e",weight:2.5,fillOpacity:.15,lineJoin:"round",lineCap:"round"})},M=$=>{l.current=$,S($),w($),C($),$.on("pm:edit",()=>{w($),C($)}),$.on("pm:vertexadded",()=>{w($),C($)}),$.on("pm:markerdrag",()=>{w($),C($)})},z=()=>{f.current&&(o.removeLayer(f.current),f.current=null)};return H.useEffect(()=>{o.pm.addControls({position:"topleft",drawPolygon:!0,editMode:!0,removalMode:!0,drawMarker:!1,drawCircle:!1,drawCircleMarker:!1,drawPolyline:!1,drawRectangle:!1,cutPolygon:!1,dragMode:!1,rotateMode:!1}),o.pm.setGlobalOptions({tooltips:!0,snappable:!0,snapDistance:20,finishOnDoubleClick:!0,allowSelfIntersection:!1,templineStyle:{color:"#1971c2"},hintlineStyle:{color:"#1971c2",dashArray:[4,4]}});const $=Q=>{Q.shape==="Polygon"&&(l.current&&o.hasLayer(l.current)&&(m(l.current),o.removeLayer(l.current),l.current=null,e==null||e([]),t==null||t(0)),c.current.active=!0,c.current.workingLayer=Q.workingLayer||Q.layer||null)},Z=Q=>{},X=()=>{c.current.active=!1,c.current.workingLayer=null,z()},F=Q=>{Q.shape==="Polygon"&&(M(Q.layer),z())},D=Q=>{Q.layers.eachLayer(ne=>{ne===l.current&&(w(ne),C(ne))})},I=Q=>{Q.layers.eachLayer(ne=>{ne===l.current&&(m(ne),l.current=null,e==null||e([]),t==null||t(0))}),z()};o.on("pm:drawstart",$),o.on("mousemove",Z),o.on("pm:drawend",X),o.on("pm:create",F),o.on("pm:edit",D),o.on("pm:remove",I);try{o.pm.setLang("es")}catch{}return()=>{try{if(o.off("pm:drawstart",$),o.off("mousemove",Z),o.off("pm:drawend",X),o.off("pm:create",F),o.off("pm:edit",D),o.off("pm:remove",I),z(),l.current){try{m(l.current),o.hasLayer(l.current)&&(l.current.pm.disable(),o.removeLayer(l.current))}catch{}l.current=null}}catch{}}},[o,e,t]),H.useEffect(()=>{if(n&&n.length>=3&&!l.current&&!v.current){console.log("Attempting to load initial polygon:",n);const $=setTimeout(()=>{try{console.log("Loading initial polygon now:",n);const Z=aa.polygon(n,{color:"#2b8a3e",weight:2.5,fillOpacity:.15,lineJoin:"round",lineCap:"round"}).addTo(o);Z.pm.enable(),M(Z),o.fitBounds(Z.getBounds()),v.current=!0,console.log("Initial polygon loaded successfully")}catch(Z){console.error("Error loading initial polygon:",Z)}},300);return()=>clearTimeout($)}else console.log("Skipping polygon load - polygon:",n==null?void 0:n.length,"current:",!!l.current,"loaded:",v.current)},[n,o]),null}function oP(){const e=au();return H.useEffect(()=>{const t=aa.control.scale({position:"bottomleft",metric:!0,imperial:!1});return t.addTo(e),()=>t.remove()},[e]),null}const C_=()=>{const{id:e}=Yw(),t=!!e,[n,o]=H.useState(t),[l,c]=H.useState([]),[f,v]=H.useState(0),[m,w]=H.useState(""),[C,S]=H.useState(""),[M,z]=H.useState("land"),[$,Z]=H.useState("for_sale"),[X,F]=H.useState(""),[D,I]=H.useState("Macas"),[Q,ne]=H.useState("Morona Santiago"),[me,de]=H.useState(""),[we,Ne]=H.useState(""),[Ce,ke]=H.useState(""),[Ye,tt]=H.useState(0),[at,kt]=H.useState(0),[ct,nt]=H.useState(0),[pe,Re]=H.useState(""),[be,Oe]=H.useState(!1),[Ge,pt]=H.useState(""),[Qe,We]=H.useState(""),[$e,Ct]=H.useState(!0),[fe,Me]=H.useState(""),[lt,vt]=H.useState([]),[Pt,xt]=H.useState([]),[tn,un]=H.useState([]),{token:Wn}=oa(),Rn=_o(),Mn="http://localhost:8000/api";H.useEffect(()=>{t&&Or()},[e]);const Or=async()=>{try{const _e=await fetch(`${Mn}/properties/${e}/`,{headers:{Authorization:`Bearer ${Wn}`}});if(_e.ok){const ve=await _e.json();console.log("Property data loaded:",ve),console.log("Polygon from backend:",ve.polygon),w(ve.title||""),S(ve.description||""),z(ve.property_type||"land"),Z(ve.status||"for_sale"),F(ve.address||""),I(ve.city||"Macas"),ne(ve.province||"Morona Santiago"),de(ve.latitude||""),Ne(ve.longitude||""),c(ve.polygon||[]),v(ve.area||0),ke(ve.built_area||""),tt(ve.rooms||0),kt(ve.bathrooms||0),nt(ve.parking_spaces||0),Re(ve.floors||""),Oe(ve.furnished||!1),pt(ve.year_built||""),We(ve.price||""),Ct(ve.is_negotiable!==void 0?ve.is_negotiable:!0),Me(ve.contact_phone||""),xt(ve.images||[])}else Ze.error("No se pudo cargar la propiedad"),Rn("/my-properties")}catch(_e){console.error("Error:",_e),Ze.error("Error de conexin"),Rn("/my-properties")}finally{o(!1)}},Pi=async _e=>{if(_e.preventDefault(),l.length<3&&M==="land"){Ze.error("Dibuja un polgono vlido antes de guardar.");return}try{const ve=new FormData;ve.append("title",m),ve.append("description",C),ve.append("property_type",M),ve.append("status",$),ve.append("address",X),ve.append("city",D),ve.append("province",Q),me&&ve.append("latitude",parseFloat(me)),we&&ve.append("longitude",parseFloat(we)),l.length>=3&&ve.append("polygon",JSON.stringify(l)),ve.append("area",parseFloat(f)),Ce&&ve.append("built_area",parseFloat(Ce)),ve.append("rooms",parseInt(Ye)),ve.append("bathrooms",parseInt(at)),ve.append("parking_spaces",parseInt(ct)),pe&&ve.append("floors",parseInt(pe)),ve.append("furnished",be),Ge&&ve.append("year_built",parseInt(Ge)),ve.append("price",Qe),ve.append("is_negotiable",$e),ve.append("contact_phone",fe),tn.forEach(ar=>{ve.append("uploaded_images",ar)});const ht=t?`${Mn}/properties/${e}/`:`${Mn}/properties/`,yn=await fetch(ht,{method:t?"PUT":"POST",headers:{Authorization:`Bearer ${Wn}`},body:ve});if(!yn.ok){const ar=await yn.json();console.error("Error:",ar),Ze.error(`No se pudo ${t?"actualizar":"guardar"} la propiedad`);return}Ze.success(`Propiedad ${t?"actualizada":"creada"} exitosamente`),Rn("/my-properties")}catch(ve){console.error("Error:",ve),Ze.error("Error de conexin")}},ei=()=>{const _e=window._leaflet_map_ref;_e&&_e.eachLayer(ve=>{ve.pm&&ve instanceof aa.Polygon&&(ve._edgeMarkers&&ve._edgeMarkers.forEach(ht=>ht.remove()),_e.removeLayer(ve))}),c([]),v(0)},he=_e=>{window._leaflet_map_ref=_e},Se=_e=>{const ve=Array.from(_e.target.files);un([...tn,...ve]);const ht=ve.map(Kt=>({file:Kt,preview:URL.createObjectURL(Kt)}));vt([...lt,...ht])},je=_e=>{const ve=lt.filter((Kt,yn)=>yn!==_e),ht=tn.filter((Kt,yn)=>yn!==_e);vt(ve),un(ht)},Fe=async _e=>{if(window.confirm("Ests seguro de que deseas eliminar esta imagen?"))try{(await fetch(`${Mn}/properties/${e}/delete_image/`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wn}`},body:JSON.stringify({image_id:_e})})).ok?(xt(Pt.filter(ht=>ht.id!==_e)),Ze.success("Imagen eliminada exitosamente")):Ze.error("Error al eliminar la imagen")}catch(ve){console.error("Error:",ve),Ze.error("Error de conexin")}};return n?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando propiedad..."})]})}):y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[y.jsx("div",{className:"bg-white shadow-sm border-b",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Propiedad":"Nueva Propiedad"}),y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"Actualiza la informacin de tu propiedad":"Completa la informacin para registrar una nueva propiedad"})]}),y.jsxs("button",{onClick:()=>Rn("/my-properties"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-xl text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver"]})]})})}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-8",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[y.jsx("div",{className:"lg:sticky lg:top-8 lg:self-start order-2 lg:order-1",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-primary to-secondary",children:[y.jsxs("h2",{className:"text-base lg:text-lg font-semibold text-white flex items-center",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),"Ubicacin en el Mapa"]}),y.jsx("p",{className:"text-xs lg:text-sm text-white/90 mt-1",children:t?"Edita el polgono de la propiedad":M==="land"?"Dibuja el polgono del terreno":"Opcional: Dibuja el rea de la propiedad"})]}),y.jsx("div",{className:"relative h-[300px] sm:h-[400px] lg:h-[500px]",children:y.jsxs(c1,{center:tP,zoom:15,maxZoom:20,preferCanvas:!0,className:"h-full w-full",children:[y.jsx(h1,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/">OSM</a>  <a href="https://carto.com/">CARTO</a>',subdomains:["a","b","c","d"],maxZoom:20}),y.jsx(rP,{onMapReady:he}),y.jsx(oP,{}),y.jsx(iP,{onPolygonChange:c,onAreaChange:v,initialPolygon:l})]})}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t",children:y.jsxs("button",{type:"button",onClick:ei,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 rounded-xl text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[y.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Limpiar Polgono"]})})]})}),y.jsx("div",{className:"space-y-4 lg:space-y-6 order-1 lg:order-2",children:y.jsxs("form",{onSubmit:Pi,className:"space-y-4 lg:space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-primary to-secondary",children:y.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Informacin General"]})}),y.jsx("div",{className:"p-6 space-y-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ttulo *"}),y.jsx("input",{type:"text",value:m,onChange:_e=>w(_e.target.value),placeholder:"Ej: Casa moderna en zona residencial",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tipo de Propiedad *"}),y.jsxs("select",{value:M,onChange:_e=>z(_e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all bg-white",required:!0,children:[y.jsx("option",{value:"land",children:" Terreno"}),y.jsx("option",{value:"house",children:" Casa"}),y.jsx("option",{value:"apartment",children:" Apartamento"}),y.jsx("option",{value:"commercial",children:" Comercial"}),y.jsx("option",{value:"other",children:" Otro"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Estado *"}),y.jsxs("select",{value:$,onChange:_e=>Z(_e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all bg-white",required:!0,children:[y.jsx("option",{value:"for_sale",children:" En Venta"}),y.jsx("option",{value:"for_rent",children:" En Alquiler"}),y.jsx("option",{value:"sold",children:" Vendido"}),y.jsx("option",{value:"rented",children:" Alquilado"}),y.jsx("option",{value:"inactive",children:" Inactivo"})]})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin"}),y.jsx("textarea",{value:C,onChange:_e=>S(_e.target.value),placeholder:"Describe las caractersticas principales de la propiedad...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",rows:"3"})]})]})})]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-primary to-secondary",children:y.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[y.jsxs("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Ubicacin"]})}),y.jsx("div",{className:"p-6 space-y-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Direccin"}),y.jsx("input",{type:"text",value:X,onChange:_e=>F(_e.target.value),placeholder:"Ej: Av. Principal #123",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ciudad"}),y.jsx("input",{type:"text",value:D,onChange:_e=>I(_e.target.value),placeholder:"Macas",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Provincia"}),y.jsx("input",{type:"text",value:Q,onChange:_e=>ne(_e.target.value),placeholder:"Morona Santiago",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})]})})]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-primary to-secondary",children:y.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Caractersticas"]})}),y.jsx("div",{className:"p-6 space-y-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"rea Total (m) *"}),y.jsx("input",{type:"number",step:"any",value:nP(f),onChange:_e=>v(Number(_e.target.value||0)),placeholder:"500",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",required:!0})]}),(M==="house"||M==="apartment"||M==="commercial")&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"rea Construida (m) *"}),y.jsx("input",{type:"number",step:"any",value:Ce,onChange:_e=>ke(_e.target.value),placeholder:"250",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",required:!0})]}),M!=="commercial"&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Habitaciones *"}),y.jsx("input",{type:"number",value:Ye,onChange:_e=>tt(_e.target.value),placeholder:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",min:"0",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Baos *"}),y.jsx("input",{type:"number",value:at,onChange:_e=>kt(_e.target.value),placeholder:"2",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",min:"0",required:!0})]})]}),M==="house"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nmero de Pisos *"}),y.jsx("input",{type:"number",value:pe,onChange:_e=>Re(_e.target.value),placeholder:"2",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",min:"1",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Estacionamientos"}),y.jsx("input",{type:"number",value:ct,onChange:_e=>nt(_e.target.value),placeholder:"2",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",min:"0"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ao de Construccin"}),y.jsx("input",{type:"number",value:Ge,onChange:_e=>pt(_e.target.value),placeholder:"2020",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",min:"1900",max:new Date().getFullYear()})]})]}),M==="apartment"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Estacionamientos"}),y.jsx("input",{type:"number",value:ct,onChange:_e=>nt(_e.target.value),placeholder:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",min:"0"})]}),y.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[y.jsx("input",{type:"checkbox",id:"furnished",checked:be,onChange:_e=>Oe(_e.target.checked),className:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),y.jsx("label",{htmlFor:"furnished",className:"text-sm font-semibold text-gray-700",children:"Amueblado"})]})]})]})})]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-primary to-secondary",children:y.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Informacin Financiera"]})}),y.jsx("div",{className:"p-6 space-y-4",children:y.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Precio (USD) *"}),y.jsx("input",{type:"number",step:"any",value:Qe,onChange:_e=>We(_e.target.value),placeholder:"150000",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all",required:!0})]}),y.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[y.jsx("input",{type:"checkbox",id:"negotiable",checked:$e,onChange:_e=>Ct(_e.target.checked),className:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),y.jsx("label",{htmlFor:"negotiable",className:"text-sm font-semibold text-gray-700",children:"Precio Negociable"})]})]})})]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-primary to-secondary",children:y.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Informacin de Contacto"]})}),y.jsx("div",{className:"p-6 space-y-4",children:y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Telfono"}),y.jsx("input",{type:"tel",value:fe,onChange:_e=>Me(_e.target.value),placeholder:"+593 99 999 9999",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent transition-all"})]})})]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-primary to-secondary",children:y.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Imgenes de la Propiedad"]})}),y.jsxs("div",{className:"p-6 space-y-4",children:[t&&Pt.length>0&&y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Imgenes Actuales"}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Pt.map(_e=>y.jsxs("div",{className:"relative group",children:[y.jsx("img",{src:_e.image,alt:"Property",className:"w-full h-32 object-cover rounded-lg"}),_e.is_main&&y.jsx("span",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:"Principal"}),y.jsx("button",{type:"button",onClick:()=>Fe(_e.id),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},_e.id))})]}),lt.length>0&&y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Nuevas Imgenes"}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:lt.map((_e,ve)=>y.jsxs("div",{className:"relative group",children:[y.jsx("img",{src:_e.preview,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"}),y.jsx("button",{type:"button",onClick:()=>je(ve),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},ve))})]}),y.jsx("div",{children:y.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:bg-gray-50 transition-all",children:[y.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[y.jsx("svg",{className:"h-10 w-10 text-gray-400 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),y.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Haz clic para subir imgenes"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG hasta 10MB"})]}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:Se})]})})]})]}),y.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:y.jsx("div",{className:"p-6",children:y.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[y.jsxs("button",{type:"submit",className:"w-full sm:flex-1 inline-flex justify-center items-center px-6 py-4 bg-gradient-to-r from-primary to-secondary text-white rounded-xl hover:from-primary/90 hover:to-secondary/90 transition-all font-semibold text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[y.jsx("svg",{className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),t?"Actualizar Propiedad":"Guardar Propiedad"]}),y.jsxs("button",{type:"button",onClick:()=>Rn("/my-properties"),className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-4 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all font-medium",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancelar"]})]})})})]})})]})}),y.jsx("style",{children:`
        .edge-label .edge-badge,
        .live-measure .live-badge {
          background: rgba(0,0,0,0.78);
          color: #fff;
          padding: 4px 8px;
          border-radius: 8px;
          font-size: 12px;
          font-weight: 700;
          white-space: nowrap;
          pointer-events: none;
          user-select: none;
          transform: translate(-50%, -120%);
          box-shadow: 0 2px 6px rgba(0,0,0,.15);
        }
      `})]})},aP=()=>{const{token:e}=oa(),t=_o(),[n,o]=H.useState([]),[l,c]=H.useState(!0),f="http://localhost:8000/api";H.useEffect(()=>{v()},[e]);const v=async()=>{try{const M=await fetch(`${f}/properties/my_properties/`,{headers:{Authorization:`Bearer ${e}`}});if(M.ok){const z=await M.json();o(z)}else Ze.error("Error al cargar las propiedades")}catch(M){console.error("Error fetching properties:",M),Ze.error("Error al cargar las propiedades")}finally{c(!1)}},m=async M=>{if(window.confirm("Ests seguro de que deseas eliminar esta propiedad?"))try{(await fetch(`${f}/properties/${M}/`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok?(Ze.success("Propiedad eliminada exitosamente"),v()):Ze.error("Error al eliminar la propiedad")}catch(z){console.error("Error:",z),Ze.error("Error de conexin")}},w=M=>({house:"Casa",land:"Terreno",apartment:"Apartamento",commercial:"Comercial",other:"Otro"})[M]||M,C=M=>({for_sale:"En Venta",for_rent:"En Alquiler",sold:"Vendido",rented:"Alquilado",inactive:"Inactivo"})[M]||M,S=M=>({for_sale:"bg-green-500",for_rent:"bg-blue-500",sold:"bg-gray-500",rented:"bg-purple-500",inactive:"bg-red-500"})[M]||"bg-gray-500";return l?y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando propiedades..."})]})}):y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[y.jsx("div",{className:"bg-white shadow-sm border-b",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Propiedades"}),y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Administra tus propiedades registradas"})]}),y.jsxs("button",{onClick:()=>t("/add-property"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-primary to-secondary text-white rounded-xl hover:from-primary/90 hover:to-secondary/90 transition-all font-semibold shadow-lg",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva Propiedad"]})]})})}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.length===0?y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[y.jsx("svg",{className:"h-24 w-24 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No tienes propiedades registradas"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza agregando tu primera propiedad"}),y.jsxs("button",{onClick:()=>t("/add-property"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-primary to-secondary text-white rounded-xl hover:from-primary/90 hover:to-secondary/90 transition-all font-semibold",children:[y.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Propiedad"]})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(M=>y.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden transition-all hover:shadow-xl hover:scale-[1.02]",children:[y.jsx("div",{className:"p-4 bg-gradient-to-r from-primary to-secondary",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsx("h3",{className:"text-lg font-bold text-white truncate flex-1",children:M.title}),y.jsx("span",{className:`${S(M.status)} text-white text-xs px-2 py-1 rounded-full ml-2 whitespace-nowrap`,children:C(M.status)})]})}),y.jsxs("div",{className:"p-4 space-y-3",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),y.jsx("span",{className:"font-semibold text-gray-700",children:"Tipo:"}),y.jsx("span",{className:"text-gray-600",children:w(M.property_type)})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),y.jsx("span",{className:"font-semibold text-gray-700",children:"rea:"}),y.jsxs("span",{className:"text-gray-600",children:[M.area," m"]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsx("span",{className:"font-semibold text-gray-700",children:"Precio:"}),y.jsxs("span",{className:"text-green-600 font-bold",children:["USD ",parseFloat(M.price).toLocaleString()]})]}),M.city&&y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsxs("svg",{className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),y.jsx("span",{className:"font-semibold text-gray-700",children:"Ubicacin:"}),y.jsx("span",{className:"text-gray-600 truncate",children:M.city})]}),M.description&&y.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-2",children:M.description})]}),y.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[y.jsxs("button",{onClick:()=>t(`/edit-property/${M.id}`),className:"flex-1 inline-flex justify-center items-center px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors font-medium text-sm",children:[y.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),y.jsxs("button",{onClick:()=>m(M.id),className:"flex-1 inline-flex justify-center items-center px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors font-medium text-sm",children:[y.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Eliminar"]})]})]},M.id))})})]})},Lf=({children:e})=>{const{token:t,loading:n}=oa();return n?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Verificando sesin..."})]})}):t?e:y.jsx(hb,{to:"/login",replace:!0})},sP=()=>{const{token:e,logout:t}=oa(),n=_o(),[o,l]=H.useState(!1),c=()=>{t(),Ze.success("Sesin cerrada exitosamente"),l(!1),n("/")},f=()=>{l(!1)};return y.jsxs("nav",{className:"bg-gradient-to-r from-primary to-secondary text-white shadow-lg sticky top-0",style:{zIndex:1e3},children:[y.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6",children:y.jsxs("div",{className:"flex justify-between items-center h-12",children:[y.jsxs(Sr,{to:"/",className:"flex items-center space-x-1.5 hover:opacity-90 transition-opacity",onClick:f,children:[y.jsx("div",{className:"h-8 w-8 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm",children:y.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),y.jsx("span",{className:"text-base font-bold",children:"EstateMap"})]}),y.jsx("div",{className:"hidden md:flex items-center space-x-1.5 lg:space-x-2",children:e?y.jsxs(y.Fragment,{children:[y.jsxs(Sr,{to:"/my-properties",className:"inline-flex items-center px-2 lg:px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all font-medium text-xs lg:text-sm",children:[y.jsx("svg",{className:"h-4 w-4 lg:mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),y.jsx("span",{className:"hidden lg:inline",children:"Mis Propiedades"})]}),y.jsxs(Sr,{to:"/add-property",className:"inline-flex items-center px-2 lg:px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all font-medium text-xs lg:text-sm",children:[y.jsx("svg",{className:"h-4 w-4 lg:mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),y.jsx("span",{className:"hidden lg:inline",children:"Nueva"})]}),y.jsxs("button",{onClick:c,className:"inline-flex items-center px-2 lg:px-3 py-1.5 border-2 border-white/30 rounded-lg hover:bg-white/20 transition-all font-medium text-xs lg:text-sm",children:[y.jsx("svg",{className:"h-4 w-4 lg:mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),y.jsx("span",{className:"hidden lg:inline",children:"Salir"})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs(Sr,{to:"/login",className:"inline-flex items-center px-2 lg:px-3 py-1.5 rounded-lg hover:bg-white/20 transition-all font-medium text-xs lg:text-sm",children:[y.jsx("svg",{className:"h-4 w-4 lg:mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),y.jsx("span",{className:"hidden lg:inline",children:"Iniciar Sesin"})]}),y.jsxs(Sr,{to:"/register",className:"inline-flex items-center px-2 lg:px-3 py-1.5 bg-white text-primary rounded-lg hover:bg-white/90 transition-all font-semibold text-xs lg:text-sm",children:[y.jsx("svg",{className:"h-4 w-4 lg:mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),y.jsx("span",{className:"hidden lg:inline",children:"Registrarse"})]})]})}),y.jsx("button",{onClick:()=>l(!o),className:"md:hidden p-2 rounded-xl hover:bg-white/20 transition-all","aria-label":"Toggle menu",children:o?y.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):y.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),o&&y.jsx("div",{className:"md:hidden border-t border-white/20 bg-gradient-to-r from-primary to-secondary",children:y.jsx("div",{className:"px-4 py-3 space-y-2",children:e?y.jsxs(y.Fragment,{children:[y.jsxs(Sr,{to:"/my-properties",onClick:f,className:"flex items-center px-4 py-3 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-all font-medium",children:[y.jsx("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Mis Propiedades"]}),y.jsxs(Sr,{to:"/add-property",onClick:f,className:"flex items-center px-4 py-3 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-all font-medium",children:[y.jsx("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nueva Propiedad"]}),y.jsxs("button",{onClick:c,className:"w-full flex items-center px-4 py-3 border-2 border-white/30 rounded-xl hover:bg-white/20 transition-all font-medium",children:[y.jsx("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cerrar Sesin"]})]}):y.jsxs(y.Fragment,{children:[y.jsxs(Sr,{to:"/login",onClick:f,className:"flex items-center px-4 py-3 rounded-xl hover:bg-white/20 transition-all font-medium",children:[y.jsx("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Iniciar Sesin"]}),y.jsxs(Sr,{to:"/register",onClick:f,className:"flex items-center px-4 py-3 bg-white text-primary rounded-xl hover:bg-white/90 transition-all font-semibold",children:[y.jsx("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Registrarse"]})]})})})]})},lP=()=>y.jsxs("footer",{className:"bg-dark text-textSecondary text-center py-1.5 px-2 text-xs",children:[" ",new Date().getFullYear()," EstateMap. Todos los derechos reservados."]}),uP=()=>{const t=ia().pathname==="/";return H.useEffect(()=>(t?(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"):(document.body.style.overflow="",document.documentElement.style.overflow=""),()=>{document.body.style.overflow="",document.documentElement.style.overflow=""}),[t]),y.jsxs("div",{className:`${t?"h-screen overflow-hidden":"min-h-screen"} flex flex-col bg-background text-textPrimary font-sans`,children:[y.jsx(sP,{}),y.jsx("main",{className:t?"":"flex-grow",children:y.jsxs(fb,{children:[y.jsx(Ro,{path:"/",element:y.jsx(FL,{})}),y.jsx(Ro,{path:"/login",element:y.jsx(GS,{})}),y.jsx(Ro,{path:"/register",element:y.jsx(HS,{})}),y.jsx(Ro,{path:"/add-property",element:y.jsx(Lf,{children:y.jsx(C_,{})})}),y.jsx(Ro,{path:"/my-properties",element:y.jsx(Lf,{children:y.jsx(aP,{})})}),y.jsx(Ro,{path:"/edit-property/:id",element:y.jsx(Lf,{children:y.jsx(C_,{})})})]})}),y.jsx(lP,{}),y.jsx(t1,{position:"top-right",autoClose:3e3,hideProgressBar:!0})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registrado correctamente:",e.scope)}).catch(e=>{console.log("Error al registrar Service Worker:",e)})});kf.createRoot(document.getElementById("root")).render(y.jsx(He.StrictMode,{children:y.jsx(wb,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:y.jsxs(aL,{children:[y.jsx(uP,{}),y.jsx(t1,{position:"top-right",autoClose:3e3})]})})}))});export default cP();
